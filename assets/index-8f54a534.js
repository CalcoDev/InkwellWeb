(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var IE={exports:{}},Df={},xE={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),hN=Symbol.for("react.portal"),fN=Symbol.for("react.fragment"),dN=Symbol.for("react.strict_mode"),pN=Symbol.for("react.profiler"),mN=Symbol.for("react.provider"),gN=Symbol.for("react.context"),vN=Symbol.for("react.forward_ref"),yN=Symbol.for("react.suspense"),wN=Symbol.for("react.memo"),SN=Symbol.for("react.lazy"),R0=Symbol.iterator;function bN(t){return t===null||typeof t!="object"?null:(t=R0&&t[R0]||t["@@iterator"],typeof t=="function"?t:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RE=Object.assign,kE={};function Ea(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||CE}Ea.prototype.isReactComponent={};Ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=Ea.prototype;function Rv(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||CE}var kv=Rv.prototype=new AE;kv.constructor=Rv;RE(kv,Ea.prototype);kv.isPureReactComponent=!0;var k0=Array.isArray,NE=Object.prototype.hasOwnProperty,Av={current:null},OE={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)NE.call(e,r)&&!OE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_l,type:t,key:o,ref:s,props:i,_owner:Av.current}}function _N(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nv(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function EN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var A0=/\/+/g;function dp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EN(""+t.key):e.toString(36)}function qc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case _l:case hN:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+dp(s,0):r,k0(i)?(n="",t!=null&&(n=t.replace(A0,"$&/")+"/"),qc(i,e,n,"",function(l){return l})):i!=null&&(Nv(i)&&(i=_N(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(A0,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",k0(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+dp(o,a);s+=qc(o,e,n,u,i)}else if(u=bN(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+dp(o,a++),s+=qc(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function cc(t,e,n){if(t==null)return t;var r=[],i=0;return qc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function TN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Kc={transition:null},IN={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Kc,ReactCurrentOwner:Av};Te.Children={map:cc,forEach:function(t,e,n){cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cc(t,function(){e++}),e},toArray:function(t){return cc(t,function(e){return e})||[]},only:function(t){if(!Nv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Ea;Te.Fragment=fN;Te.Profiler=pN;Te.PureComponent=Rv;Te.StrictMode=dN;Te.Suspense=yN;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IN;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RE({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Av.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)NE.call(e,u)&&!OE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:_l,type:t.type,key:i,ref:o,props:r,_owner:s}};Te.createContext=function(t){return t={$$typeof:gN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mN,_context:t},t.Consumer=t};Te.createElement=DE;Te.createFactory=function(t){var e=DE.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:vN,render:t}};Te.isValidElement=Nv;Te.lazy=function(t){return{$$typeof:SN,_payload:{_status:-1,_result:t},_init:TN}};Te.memo=function(t,e){return{$$typeof:wN,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Kc.transition;Kc.transition={};try{t()}finally{Kc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return dn.current.useCallback(t,e)};Te.useContext=function(t){return dn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return dn.current.useEffect(t,e)};Te.useId=function(){return dn.current.useId()};Te.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return dn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Te.useRef=function(t){return dn.current.useRef(t)};Te.useState=function(t){return dn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return dn.current.useTransition()};Te.version="18.2.0";xE.exports=Te;var R=xE.exports;const Ze=EE(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN=R,CN=Symbol.for("react.element"),RN=Symbol.for("react.fragment"),kN=Object.prototype.hasOwnProperty,AN=xN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NN={key:!0,ref:!0,__self:!0,__source:!0};function PE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)kN.call(e,r)&&!NN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CN,type:t,key:o,ref:s,props:i,_owner:AN.current}}Df.Fragment=RN;Df.jsx=PE;Df.jsxs=PE;IE.exports=Df;var y=IE.exports,Am={},LE={exports:{}},Ln={},ME={exports:{}},$E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,oe){var ae=W.length;W.push(oe);e:for(;0<ae;){var le=ae-1>>>1,I=W[le];if(0<i(I,oe))W[le]=oe,W[ae]=I,ae=le;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],ae=W.pop();if(ae!==oe){W[0]=ae;e:for(var le=0,I=W.length,L=I>>>1;le<L;){var j=2*(le+1)-1,Q=W[j],H=j+1,ce=W[H];if(0>i(Q,ae))H<I&&0>i(ce,Q)?(W[le]=ce,W[H]=ae,le=H):(W[le]=Q,W[j]=ae,le=j);else if(H<I&&0>i(ce,ae))W[le]=ce,W[H]=ae,le=H;else break e}}return oe}function i(W,oe){var ae=W.sortIndex-oe.sortIndex;return ae!==0?ae:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,h=null,f=3,m=!1,g=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(W){for(var oe=n(l);oe!==null;){if(oe.callback===null)r(l);else if(oe.startTime<=W)r(l),oe.sortIndex=oe.expirationTime,e(u,oe);else break;oe=n(l)}}function E(W){if(w=!1,v(W),!g)if(n(u)!==null)g=!0,je(A);else{var oe=n(l);oe!==null&&et(E,oe.startTime-W)}}function A(W,oe){g=!1,w&&(w=!1,d(D),D=-1),m=!0;var ae=f;try{for(v(oe),h=n(u);h!==null&&(!(h.expirationTime>oe)||W&&!Ae());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var I=le(h.expirationTime<=oe);oe=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(u)&&r(u),v(oe)}else r(u);h=n(u)}if(h!==null)var L=!0;else{var j=n(l);j!==null&&et(E,j.startTime-oe),L=!1}return L}finally{h=null,f=ae,m=!1}}var N=!1,O=null,D=-1,K=5,ne=-1;function Ae(){return!(t.unstable_now()-ne<K)}function Ge(){if(O!==null){var W=t.unstable_now();ne=W;var oe=!0;try{oe=O(!0,W)}finally{oe?ge():(N=!1,O=null)}}else N=!1}var ge;if(typeof p=="function")ge=function(){p(Ge)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,mt=Ce.port2;Ce.port1.onmessage=Ge,ge=function(){mt.postMessage(null)}}else ge=function(){T(Ge,0)};function je(W){O=W,N||(N=!0,ge())}function et(W,oe){D=T(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,je(A))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var oe=3;break;default:oe=f}var ae=f;f=oe;try{return W()}finally{f=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=f;f=W;try{return oe()}finally{f=ae}},t.unstable_scheduleCallback=function(W,oe,ae){var le=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?le+ae:le):ae=le,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ae+I,W={id:c++,callback:oe,priorityLevel:W,startTime:ae,expirationTime:I,sortIndex:-1},ae>le?(W.sortIndex=ae,e(l,W),n(u)===null&&W===n(l)&&(w?(d(D),D=-1):w=!0,et(E,ae-le))):(W.sortIndex=I,e(u,W),g||m||(g=!0,je(A))),W},t.unstable_shouldYield=Ae,t.unstable_wrapCallback=function(W){var oe=f;return function(){var ae=f;f=oe;try{return W.apply(this,arguments)}finally{f=ae}}}})($E);ME.exports=$E;var ON=ME.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE=R,Dn=ON;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VE=new Set,Fu={};function Uo(t,e){qs(t,e),qs(t+"Capture",e)}function qs(t,e){for(Fu[t]=e,t=0;t<e.length;t++)VE.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nm=Object.prototype.hasOwnProperty,DN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},O0={};function PN(t){return Nm.call(O0,t)?!0:Nm.call(N0,t)?!1:DN.test(t)?O0[t]=!0:(N0[t]=!0,!1)}function LN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MN(t,e,n,r){if(e===null||typeof e>"u"||LN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ov=/[\-:]([a-z])/g;function Dv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ov,Dv);Wt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ov,Dv);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ov,Dv);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pv(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MN(e,n,i,r)&&(n=null),r||i===null?PN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var si=jE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Lv=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),FE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),Mv=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),$v=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),BE=Symbol.for("react.offscreen"),D0=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,pp;function su(t){if(pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pp=e&&e[1]||""}return`
`+pp+t}var mp=!1;function gp(t,e){if(!t||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?su(t):""}function $N(t){switch(t.tag){case 5:return su(t.type);case 16:return su("Lazy");case 13:return su("Suspense");case 19:return su("SuspenseList");case 0:case 2:case 15:return t=gp(t.type,!1),t;case 11:return t=gp(t.type.render,!1),t;case 1:return t=gp(t.type,!0),t;default:return""}}function Lm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case Om:return"Profiler";case Lv:return"StrictMode";case Dm:return"Suspense";case Pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UE:return(t.displayName||"Context")+".Consumer";case FE:return(t._context.displayName||"Context")+".Provider";case Mv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $v:return e=t.displayName||null,e!==null?e:Lm(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return Lm(t(e))}catch{}}return null}function jN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lm(e);case 8:return e===Lv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VN(t){var e=zE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fc(t){t._valueTracker||(t._valueTracker=VN(t))}function WE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HE(t,e){e=e.checked,e!=null&&Pv(t,"checked",e,!1)}function $m(t,e){HE(t,e);var n=Fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jm(t,e.type,n):e.hasOwnProperty("defaultValue")&&jm(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jm(t,e,n){(e!=="number"||yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var au=Array.isArray;function Ns(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(au(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fi(n)}}function qE(t,e){var n=Fi(e.value),r=Fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dc,GE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dc=dc||document.createElement("div"),dc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FN=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(t){FN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yu[e]=yu[t]})});function QE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yu.hasOwnProperty(t)&&yu[t]?(""+e).trim():e+"px"}function YE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UN=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Um(t,e){if(e){if(UN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=null;function jv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wm=null,Os=null,Ds=null;function j0(t){if(t=Il(t)){if(typeof Wm!="function")throw Error(U(280));var e=t.stateNode;e&&(e=jf(e),Wm(t.stateNode,t.type,e))}}function XE(t){Os?Ds?Ds.push(t):Ds=[t]:Os=t}function JE(){if(Os){var t=Os,e=Ds;if(Ds=Os=null,j0(t),e)for(t=0;t<e.length;t++)j0(e[t])}}function ZE(t,e){return t(e)}function e1(){}var vp=!1;function t1(t,e,n){if(vp)return t(e,n);vp=!0;try{return ZE(t,e,n)}finally{vp=!1,(Os!==null||Ds!==null)&&(e1(),JE())}}function Bu(t,e){var n=t.stateNode;if(n===null)return null;var r=jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Hm=!1;if(Yr)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Hm=!1}function BN(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var wu=!1,wh=null,Sh=!1,qm=null,zN={onError:function(t){wu=!0,wh=t}};function WN(t,e,n,r,i,o,s,a,u){wu=!1,wh=null,BN.apply(zN,arguments)}function HN(t,e,n,r,i,o,s,a,u){if(WN.apply(this,arguments),wu){if(wu){var l=wh;wu=!1,wh=null}else throw Error(U(198));Sh||(Sh=!0,qm=l)}}function Bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function n1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V0(t){if(Bo(t)!==t)throw Error(U(188))}function qN(t){var e=t.alternate;if(!e){if(e=Bo(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return V0(i),t;if(o===r)return V0(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function r1(t){return t=qN(t),t!==null?i1(t):null}function i1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i1(t);if(e!==null)return e;t=t.sibling}return null}var o1=Dn.unstable_scheduleCallback,F0=Dn.unstable_cancelCallback,KN=Dn.unstable_shouldYield,GN=Dn.unstable_requestPaint,vt=Dn.unstable_now,QN=Dn.unstable_getCurrentPriorityLevel,Vv=Dn.unstable_ImmediatePriority,s1=Dn.unstable_UserBlockingPriority,bh=Dn.unstable_NormalPriority,YN=Dn.unstable_LowPriority,a1=Dn.unstable_IdlePriority,Pf=null,_r=null;function XN(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Pf,t,void 0,(t.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:eO,JN=Math.log,ZN=Math.LN2;function eO(t){return t>>>=0,t===0?32:31-(JN(t)/ZN|0)|0}var pc=64,mc=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _h(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=uu(a):(o&=s,o!==0&&(r=uu(o)))}else s=n&~i,s!==0?r=uu(s):o!==0&&(r=uu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rr(e),i=1<<n,r|=t[n],e&=~i;return r}function tO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-rr(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=tO(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function Km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u1(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rr(e),t[e]=n}function rO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Fv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function l1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c1,Uv,h1,f1,d1,Gm=!1,gc=[],Ri=null,ki=null,Ai=null,zu=new Map,Wu=new Map,wi=[],iO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U0(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(e.pointerId)}}function za(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Il(e),e!==null&&Uv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oO(t,e,n,r,i){switch(e){case"focusin":return Ri=za(Ri,t,e,n,r,i),!0;case"dragenter":return ki=za(ki,t,e,n,r,i),!0;case"mouseover":return Ai=za(Ai,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zu.set(o,za(zu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Wu.set(o,za(Wu.get(o)||null,t,e,n,r,i)),!0}return!1}function p1(t){var e=lo(t.target);if(e!==null){var n=Bo(e);if(n!==null){if(e=n.tag,e===13){if(e=n1(n),e!==null){t.blockedOn=e,d1(t.priority,function(){h1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zm=r,n.target.dispatchEvent(r),zm=null}else return e=Il(n),e!==null&&Uv(e),t.blockedOn=n,!1;e.shift()}return!0}function B0(t,e,n){Gc(t)&&n.delete(e)}function sO(){Gm=!1,Ri!==null&&Gc(Ri)&&(Ri=null),ki!==null&&Gc(ki)&&(ki=null),Ai!==null&&Gc(Ai)&&(Ai=null),zu.forEach(B0),Wu.forEach(B0)}function Wa(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,sO)))}function Hu(t){function e(i){return Wa(i,t)}if(0<gc.length){Wa(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Wa(Ri,t),ki!==null&&Wa(ki,t),Ai!==null&&Wa(Ai,t),zu.forEach(e),Wu.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)p1(n),n.blockedOn===null&&wi.shift()}var Ps=si.ReactCurrentBatchConfig,Eh=!0;function aO(t,e,n,r){var i=Me,o=Ps.transition;Ps.transition=null;try{Me=1,Bv(t,e,n,r)}finally{Me=i,Ps.transition=o}}function uO(t,e,n,r){var i=Me,o=Ps.transition;Ps.transition=null;try{Me=4,Bv(t,e,n,r)}finally{Me=i,Ps.transition=o}}function Bv(t,e,n,r){if(Eh){var i=Qm(t,e,n,r);if(i===null)Rp(t,e,r,Th,n),U0(t,r);else if(oO(i,t,e,n,r))r.stopPropagation();else if(U0(t,r),e&4&&-1<iO.indexOf(t)){for(;i!==null;){var o=Il(i);if(o!==null&&c1(o),o=Qm(t,e,n,r),o===null&&Rp(t,e,r,Th,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Rp(t,e,r,null,n)}}var Th=null;function Qm(t,e,n,r){if(Th=null,t=jv(r),t=lo(t),t!==null)if(e=Bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=n1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Th=t,null}function m1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QN()){case Vv:return 1;case s1:return 4;case bh:case YN:return 16;case a1:return 536870912;default:return 16}default:return 16}}var Ii=null,zv=null,Qc=null;function g1(){if(Qc)return Qc;var t,e=zv,n=e.length,r,i="value"in Ii?Ii.value:Ii.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Qc=i.slice(t,1<r?1-r:void 0)}function Yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function z0(){return!1}function Mn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vc:z0,this.isPropagationStopped=z0,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wv=Mn(Ta),Tl=st({},Ta,{view:0,detail:0}),lO=Mn(Tl),wp,Sp,Ha,Lf=st({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?(wp=t.screenX-Ha.screenX,Sp=t.screenY-Ha.screenY):Sp=wp=0,Ha=t),wp)},movementY:function(t){return"movementY"in t?t.movementY:Sp}}),W0=Mn(Lf),cO=st({},Lf,{dataTransfer:0}),hO=Mn(cO),fO=st({},Tl,{relatedTarget:0}),bp=Mn(fO),dO=st({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),pO=Mn(dO),mO=st({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gO=Mn(mO),vO=st({},Ta,{data:0}),H0=Mn(vO),yO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SO[t])?!!e[t]:!1}function Hv(){return bO}var _O=st({},Tl,{key:function(t){if(t.key){var e=yO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hv,charCode:function(t){return t.type==="keypress"?Yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EO=Mn(_O),TO=st({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=Mn(TO),IO=st({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hv}),xO=Mn(IO),CO=st({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),RO=Mn(CO),kO=st({},Lf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AO=Mn(kO),NO=[9,13,27,32],qv=Yr&&"CompositionEvent"in window,Su=null;Yr&&"documentMode"in document&&(Su=document.documentMode);var OO=Yr&&"TextEvent"in window&&!Su,v1=Yr&&(!qv||Su&&8<Su&&11>=Su),K0=String.fromCharCode(32),G0=!1;function y1(t,e){switch(t){case"keyup":return NO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function DO(t,e){switch(t){case"compositionend":return w1(e);case"keypress":return e.which!==32?null:(G0=!0,K0);case"textInput":return t=e.data,t===K0&&G0?null:t;default:return null}}function PO(t,e){if(vs)return t==="compositionend"||!qv&&y1(t,e)?(t=g1(),Qc=zv=Ii=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v1&&e.locale!=="ko"?null:e.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LO[t.type]:e==="textarea"}function S1(t,e,n,r){XE(r),e=Ih(e,"onChange"),0<e.length&&(n=new Wv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bu=null,qu=null;function MO(t){N1(t,0)}function Mf(t){var e=Ss(t);if(WE(e))return t}function $O(t,e){if(t==="change")return e}var b1=!1;if(Yr){var _p;if(Yr){var Ep="oninput"in document;if(!Ep){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),Ep=typeof Y0.oninput=="function"}_p=Ep}else _p=!1;b1=_p&&(!document.documentMode||9<document.documentMode)}function X0(){bu&&(bu.detachEvent("onpropertychange",_1),qu=bu=null)}function _1(t){if(t.propertyName==="value"&&Mf(qu)){var e=[];S1(e,qu,t,jv(t)),t1(MO,e)}}function jO(t,e,n){t==="focusin"?(X0(),bu=e,qu=n,bu.attachEvent("onpropertychange",_1)):t==="focusout"&&X0()}function VO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mf(qu)}function FO(t,e){if(t==="click")return Mf(e)}function UO(t,e){if(t==="input"||t==="change")return Mf(e)}function BO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:BO;function Ku(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nm.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function J0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z0(t,e){var n=J0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J0(n)}}function E1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T1(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yh(t.document)}return e}function Kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zO(t){var e=T1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E1(n.ownerDocument.documentElement,n)){if(r!==null&&Kv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Z0(n,o);var s=Z0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WO=Yr&&"documentMode"in document&&11>=document.documentMode,ys=null,Ym=null,_u=null,Xm=!1;function eS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||ys==null||ys!==yh(r)||(r=ys,"selectionStart"in r&&Kv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_u&&Ku(_u,r)||(_u=r,r=Ih(Ym,"onSelect"),0<r.length&&(e=new Wv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ys)))}function yc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Tp={},I1={};Yr&&(I1=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function $f(t){if(Tp[t])return Tp[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in I1)return Tp[t]=e[n];return t}var x1=$f("animationend"),C1=$f("animationiteration"),R1=$f("animationstart"),k1=$f("transitionend"),A1=new Map,tS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){A1.set(t,e),Uo(e,[t])}for(var Ip=0;Ip<tS.length;Ip++){var xp=tS[Ip],HO=xp.toLowerCase(),qO=xp[0].toUpperCase()+xp.slice(1);Gi(HO,"on"+qO)}Gi(x1,"onAnimationEnd");Gi(C1,"onAnimationIteration");Gi(R1,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(k1,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KO=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function nS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HN(r,e,void 0,t),t.currentTarget=null}function N1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;nS(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;nS(i,a,l),o=u}}}if(Sh)throw t=qm,Sh=!1,qm=null,t}function Be(t,e){var n=e[ng];n===void 0&&(n=e[ng]=new Set);var r=t+"__bubble";n.has(r)||(O1(e,t,2,!1),n.add(r))}function Cp(t,e,n){var r=0;e&&(r|=4),O1(n,t,r,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Gu(t){if(!t[wc]){t[wc]=!0,VE.forEach(function(n){n!=="selectionchange"&&(KO.has(n)||Cp(n,!1,t),Cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,Cp("selectionchange",!1,e))}}function O1(t,e,n,r){switch(m1(e)){case 1:var i=aO;break;case 4:i=uO;break;default:i=Bv}n=i.bind(null,e,n,t),i=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=lo(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}t1(function(){var l=o,c=jv(n),h=[];e:{var f=A1.get(t);if(f!==void 0){var m=Wv,g=t;switch(t){case"keypress":if(Yc(n)===0)break e;case"keydown":case"keyup":m=EO;break;case"focusin":g="focus",m=bp;break;case"focusout":g="blur",m=bp;break;case"beforeblur":case"afterblur":m=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xO;break;case x1:case C1:case R1:m=pO;break;case k1:m=RO;break;case"scroll":m=lO;break;case"wheel":m=AO;break;case"copy":case"cut":case"paste":m=gO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=q0}var w=(e&4)!==0,T=!w&&t==="scroll",d=w?f!==null?f+"Capture":null:f;w=[];for(var p=l,v;p!==null;){v=p;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,d!==null&&(E=Bu(p,d),E!=null&&w.push(Qu(p,E,v)))),T)break;p=p.return}0<w.length&&(f=new m(f,g,null,n,c),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==zm&&(g=n.relatedTarget||n.fromElement)&&(lo(g)||g[Xr]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=l,g=g?lo(g):null,g!==null&&(T=Bo(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=l),m!==g)){if(w=W0,E="onMouseLeave",d="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=q0,E="onPointerLeave",d="onPointerEnter",p="pointer"),T=m==null?f:Ss(m),v=g==null?f:Ss(g),f=new w(E,p+"leave",m,n,c),f.target=T,f.relatedTarget=v,E=null,lo(c)===l&&(w=new w(d,p+"enter",g,n,c),w.target=v,w.relatedTarget=T,E=w),T=E,m&&g)t:{for(w=m,d=g,p=0,v=w;v;v=us(v))p++;for(v=0,E=d;E;E=us(E))v++;for(;0<p-v;)w=us(w),p--;for(;0<v-p;)d=us(d),v--;for(;p--;){if(w===d||d!==null&&w===d.alternate)break t;w=us(w),d=us(d)}w=null}else w=null;m!==null&&rS(h,f,m,w,!1),g!==null&&T!==null&&rS(h,T,g,w,!0)}}e:{if(f=l?Ss(l):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var A=$O;else if(Q0(f))if(b1)A=UO;else{A=VO;var N=jO}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=FO);if(A&&(A=A(t,l))){S1(h,A,n,c);break e}N&&N(t,f,l),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&jm(f,"number",f.value)}switch(N=l?Ss(l):window,t){case"focusin":(Q0(N)||N.contentEditable==="true")&&(ys=N,Ym=l,_u=null);break;case"focusout":_u=Ym=ys=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,eS(h,n,c);break;case"selectionchange":if(WO)break;case"keydown":case"keyup":eS(h,n,c)}var O;if(qv)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else vs?y1(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(v1&&n.locale!=="ko"&&(vs||D!=="onCompositionStart"?D==="onCompositionEnd"&&vs&&(O=g1()):(Ii=c,zv="value"in Ii?Ii.value:Ii.textContent,vs=!0)),N=Ih(l,D),0<N.length&&(D=new H0(D,t,null,n,c),h.push({event:D,listeners:N}),O?D.data=O:(O=w1(n),O!==null&&(D.data=O)))),(O=OO?DO(t,n):PO(t,n))&&(l=Ih(l,"onBeforeInput"),0<l.length&&(c=new H0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=O))}N1(h,e)})}function Qu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bu(t,n),o!=null&&r.unshift(Qu(t,o,i)),o=Bu(t,e),o!=null&&r.push(Qu(t,o,i))),t=t.return}return r}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Bu(n,o),u!=null&&s.unshift(Qu(n,u,a))):i||(u=Bu(n,o),u!=null&&s.push(Qu(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var GO=/\r\n?/g,QO=/\u0000|\uFFFD/g;function iS(t){return(typeof t=="string"?t:""+t).replace(GO,`
`).replace(QO,"")}function Sc(t,e,n){if(e=iS(e),iS(t)!==e&&n)throw Error(U(425))}function xh(){}var Jm=null,Zm=null;function eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,YO=typeof clearTimeout=="function"?clearTimeout:void 0,oS=typeof Promise=="function"?Promise:void 0,XO=typeof queueMicrotask=="function"?queueMicrotask:typeof oS<"u"?function(t){return oS.resolve(null).then(t).catch(JO)}:tg;function JO(t){setTimeout(function(){throw t})}function kp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hu(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),wr="__reactFiber$"+Ia,Yu="__reactProps$"+Ia,Xr="__reactContainer$"+Ia,ng="__reactEvents$"+Ia,ZO="__reactListeners$"+Ia,eD="__reactHandles$"+Ia;function lo(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sS(t);t!==null;){if(n=t[wr])return n;t=sS(t)}return e}t=n,n=t.parentNode}return null}function Il(t){return t=t[wr]||t[Xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function jf(t){return t[Yu]||null}var rg=[],bs=-1;function Qi(t){return{current:t}}function qe(t){0>bs||(t.current=rg[bs],rg[bs]=null,bs--)}function Fe(t,e){bs++,rg[bs]=t.current,t.current=e}var Ui={},rn=Qi(Ui),Sn=Qi(!1),Eo=Ui;function Ks(t,e){var n=t.type.contextTypes;if(!n)return Ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Ch(){qe(Sn),qe(rn)}function aS(t,e,n){if(rn.current!==Ui)throw Error(U(168));Fe(rn,e),Fe(Sn,n)}function D1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,jN(t)||"Unknown",i));return st({},n,r)}function Rh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ui,Eo=rn.current,Fe(rn,t),Fe(Sn,Sn.current),!0}function uS(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=D1(t,e,Eo),r.__reactInternalMemoizedMergedChildContext=t,qe(Sn),qe(rn),Fe(rn,t)):qe(Sn),Fe(Sn,n)}var jr=null,Vf=!1,Ap=!1;function P1(t){jr===null?jr=[t]:jr.push(t)}function tD(t){Vf=!0,P1(t)}function Yi(){if(!Ap&&jr!==null){Ap=!0;var t=0,e=Me;try{var n=jr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,Vf=!1}catch(i){throw jr!==null&&(jr=jr.slice(t+1)),o1(Vv,Yi),i}finally{Me=e,Ap=!1}}return null}var _s=[],Es=0,kh=null,Ah=0,jn=[],Vn=0,To=null,Fr=1,Ur="";function io(t,e){_s[Es++]=Ah,_s[Es++]=kh,kh=t,Ah=e}function L1(t,e,n){jn[Vn++]=Fr,jn[Vn++]=Ur,jn[Vn++]=To,To=t;var r=Fr;t=Ur;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var o=32-rr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Fr=1<<32-rr(e)+i|n<<i|r,Ur=o+t}else Fr=1<<o|n<<i|r,Ur=t}function Gv(t){t.return!==null&&(io(t,1),L1(t,1,0))}function Qv(t){for(;t===kh;)kh=_s[--Es],_s[Es]=null,Ah=_s[--Es],_s[Es]=null;for(;t===To;)To=jn[--Vn],jn[Vn]=null,Ur=jn[--Vn],jn[Vn]=null,Fr=jn[--Vn],jn[Vn]=null}var An=null,Rn=null,Ye=!1,nr=null;function M1(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Rn=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=To!==null?{id:Fr,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Rn=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function og(t){if(Ye){var e=Rn;if(e){var n=e;if(!lS(t,e)){if(ig(t))throw Error(U(418));e=Ni(n.nextSibling);var r=An;e&&lS(t,e)?M1(r,n):(t.flags=t.flags&-4097|2,Ye=!1,An=t)}}else{if(ig(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ye=!1,An=t}}}function cS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function bc(t){if(t!==An)return!1;if(!Ye)return cS(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eg(t.type,t.memoizedProps)),e&&(e=Rn)){if(ig(t))throw $1(),Error(U(418));for(;e;)M1(t,e),e=Ni(e.nextSibling)}if(cS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=An?Ni(t.stateNode.nextSibling):null;return!0}function $1(){for(var t=Rn;t;)t=Ni(t.nextSibling)}function Gs(){Rn=An=null,Ye=!1}function Yv(t){nr===null?nr=[t]:nr.push(t)}var nD=si.ReactCurrentBatchConfig;function Zn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nh=Qi(null),Oh=null,Ts=null,Xv=null;function Jv(){Xv=Ts=Oh=null}function Zv(t){var e=Nh.current;qe(Nh),t._currentValue=e}function sg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ls(t,e){Oh=t,Xv=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(Xv!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(Oh===null)throw Error(U(308));Ts=t,Oh.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var co=null;function ey(t){co===null?co=[t]:co.push(t)}function j1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ey(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function ty(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jr(t,n)}return i=r.interleaved,i===null?(e.next=e,ey(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jr(t,n)}function Xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fv(t,n)}}function hS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dh(t,e,n,r){var i=t.updateQueue;gi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;s=0,c=l=u=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,w=a;switch(f=e,m=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=st({},h,f);break e;case 2:gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=m,u=h):c=c.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);xo|=s,t.lanes=s,t.memoizedState=h}}function fS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var F1=new jE.Component().refs;function ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ff={isMounted:function(t){return(t=t._reactInternals)?Bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Pi(t),o=qr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Oi(t,o,i),e!==null&&(ir(e,t,i,r),Xc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Pi(t),o=qr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Oi(t,o,i),e!==null&&(ir(e,t,i,r),Xc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Pi(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Oi(t,i,r),e!==null&&(ir(e,t,r,n),Xc(e,t,r))}};function dS(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ku(n,r)||!Ku(i,o):!0}function U1(t,e,n){var r=!1,i=Ui,o=e.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(i=bn(e)?Eo:rn.current,r=e.contextTypes,o=(r=r!=null)?Ks(t,i):Ui),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ff,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function pS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ff.enqueueReplaceState(e,e.state,null)}function ug(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=F1,ty(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Kn(o):(o=bn(e)?Eo:rn.current,i.context=Ks(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ag(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ff.enqueueReplaceState(i,i.state,null),Dh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===F1&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function _c(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mS(t){var e=t._init;return e(t._payload)}function B1(t){function e(d,p){if(t){var v=d.deletions;v===null?(d.deletions=[p],d.flags|=16):v.push(p)}}function n(d,p){if(!t)return null;for(;p!==null;)e(d,p),p=p.sibling;return null}function r(d,p){for(d=new Map;p!==null;)p.key!==null?d.set(p.key,p):d.set(p.index,p),p=p.sibling;return d}function i(d,p){return d=Li(d,p),d.index=0,d.sibling=null,d}function o(d,p,v){return d.index=v,t?(v=d.alternate,v!==null?(v=v.index,v<p?(d.flags|=2,p):v):(d.flags|=2,p)):(d.flags|=1048576,p)}function s(d){return t&&d.alternate===null&&(d.flags|=2),d}function a(d,p,v,E){return p===null||p.tag!==6?(p=$p(v,d.mode,E),p.return=d,p):(p=i(p,v),p.return=d,p)}function u(d,p,v,E){var A=v.type;return A===gs?c(d,p,v.props.children,E,v.key):p!==null&&(p.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===mi&&mS(A)===p.type)?(E=i(p,v.props),E.ref=qa(d,p,v),E.return=d,E):(E=rh(v.type,v.key,v.props,null,d.mode,E),E.ref=qa(d,p,v),E.return=d,E)}function l(d,p,v,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=jp(v,d.mode,E),p.return=d,p):(p=i(p,v.children||[]),p.return=d,p)}function c(d,p,v,E,A){return p===null||p.tag!==7?(p=So(v,d.mode,E,A),p.return=d,p):(p=i(p,v),p.return=d,p)}function h(d,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$p(""+p,d.mode,v),p.return=d,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case hc:return v=rh(p.type,p.key,p.props,null,d.mode,v),v.ref=qa(d,null,p),v.return=d,v;case ms:return p=jp(p,d.mode,v),p.return=d,p;case mi:var E=p._init;return h(d,E(p._payload),v)}if(au(p)||Ua(p))return p=So(p,d.mode,v,null),p.return=d,p;_c(d,p)}return null}function f(d,p,v,E){var A=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return A!==null?null:a(d,p,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hc:return v.key===A?u(d,p,v,E):null;case ms:return v.key===A?l(d,p,v,E):null;case mi:return A=v._init,f(d,p,A(v._payload),E)}if(au(v)||Ua(v))return A!==null?null:c(d,p,v,E,null);_c(d,v)}return null}function m(d,p,v,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return d=d.get(v)||null,a(p,d,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hc:return d=d.get(E.key===null?v:E.key)||null,u(p,d,E,A);case ms:return d=d.get(E.key===null?v:E.key)||null,l(p,d,E,A);case mi:var N=E._init;return m(d,p,v,N(E._payload),A)}if(au(E)||Ua(E))return d=d.get(v)||null,c(p,d,E,A,null);_c(p,E)}return null}function g(d,p,v,E){for(var A=null,N=null,O=p,D=p=0,K=null;O!==null&&D<v.length;D++){O.index>D?(K=O,O=null):K=O.sibling;var ne=f(d,O,v[D],E);if(ne===null){O===null&&(O=K);break}t&&O&&ne.alternate===null&&e(d,O),p=o(ne,p,D),N===null?A=ne:N.sibling=ne,N=ne,O=K}if(D===v.length)return n(d,O),Ye&&io(d,D),A;if(O===null){for(;D<v.length;D++)O=h(d,v[D],E),O!==null&&(p=o(O,p,D),N===null?A=O:N.sibling=O,N=O);return Ye&&io(d,D),A}for(O=r(d,O);D<v.length;D++)K=m(O,d,D,v[D],E),K!==null&&(t&&K.alternate!==null&&O.delete(K.key===null?D:K.key),p=o(K,p,D),N===null?A=K:N.sibling=K,N=K);return t&&O.forEach(function(Ae){return e(d,Ae)}),Ye&&io(d,D),A}function w(d,p,v,E){var A=Ua(v);if(typeof A!="function")throw Error(U(150));if(v=A.call(v),v==null)throw Error(U(151));for(var N=A=null,O=p,D=p=0,K=null,ne=v.next();O!==null&&!ne.done;D++,ne=v.next()){O.index>D?(K=O,O=null):K=O.sibling;var Ae=f(d,O,ne.value,E);if(Ae===null){O===null&&(O=K);break}t&&O&&Ae.alternate===null&&e(d,O),p=o(Ae,p,D),N===null?A=Ae:N.sibling=Ae,N=Ae,O=K}if(ne.done)return n(d,O),Ye&&io(d,D),A;if(O===null){for(;!ne.done;D++,ne=v.next())ne=h(d,ne.value,E),ne!==null&&(p=o(ne,p,D),N===null?A=ne:N.sibling=ne,N=ne);return Ye&&io(d,D),A}for(O=r(d,O);!ne.done;D++,ne=v.next())ne=m(O,d,D,ne.value,E),ne!==null&&(t&&ne.alternate!==null&&O.delete(ne.key===null?D:ne.key),p=o(ne,p,D),N===null?A=ne:N.sibling=ne,N=ne);return t&&O.forEach(function(Ge){return e(d,Ge)}),Ye&&io(d,D),A}function T(d,p,v,E){if(typeof v=="object"&&v!==null&&v.type===gs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case hc:e:{for(var A=v.key,N=p;N!==null;){if(N.key===A){if(A=v.type,A===gs){if(N.tag===7){n(d,N.sibling),p=i(N,v.props.children),p.return=d,d=p;break e}}else if(N.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===mi&&mS(A)===N.type){n(d,N.sibling),p=i(N,v.props),p.ref=qa(d,N,v),p.return=d,d=p;break e}n(d,N);break}else e(d,N);N=N.sibling}v.type===gs?(p=So(v.props.children,d.mode,E,v.key),p.return=d,d=p):(E=rh(v.type,v.key,v.props,null,d.mode,E),E.ref=qa(d,p,v),E.return=d,d=E)}return s(d);case ms:e:{for(N=v.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(d,p.sibling),p=i(p,v.children||[]),p.return=d,d=p;break e}else{n(d,p);break}else e(d,p);p=p.sibling}p=jp(v,d.mode,E),p.return=d,d=p}return s(d);case mi:return N=v._init,T(d,p,N(v._payload),E)}if(au(v))return g(d,p,v,E);if(Ua(v))return w(d,p,v,E);_c(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(d,p.sibling),p=i(p,v),p.return=d,d=p):(n(d,p),p=$p(v,d.mode,E),p.return=d,d=p),s(d)):n(d,p)}return T}var Qs=B1(!0),z1=B1(!1),xl={},Er=Qi(xl),Xu=Qi(xl),Ju=Qi(xl);function ho(t){if(t===xl)throw Error(U(174));return t}function ny(t,e){switch(Fe(Ju,e),Fe(Xu,t),Fe(Er,xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fm(e,t)}qe(Er),Fe(Er,e)}function Ys(){qe(Er),qe(Xu),qe(Ju)}function W1(t){ho(Ju.current);var e=ho(Er.current),n=Fm(e,t.type);e!==n&&(Fe(Xu,t),Fe(Er,n))}function ry(t){Xu.current===t&&(qe(Er),qe(Xu))}var it=Qi(0);function Ph(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function iy(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var Jc=si.ReactCurrentDispatcher,Op=si.ReactCurrentBatchConfig,Io=0,ot=null,xt=null,Nt=null,Lh=!1,Eu=!1,Zu=0,rD=0;function Kt(){throw Error(U(321))}function oy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function sy(t,e,n,r,i,o){if(Io=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jc.current=t===null||t.memoizedState===null?aD:uD,t=n(r,i),Eu){o=0;do{if(Eu=!1,Zu=0,25<=o)throw Error(U(301));o+=1,Nt=xt=null,e.updateQueue=null,Jc.current=lD,t=n(r,i)}while(Eu)}if(Jc.current=Mh,e=xt!==null&&xt.next!==null,Io=0,Nt=xt=ot=null,Lh=!1,e)throw Error(U(300));return t}function ay(){var t=Zu!==0;return Zu=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ot.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Gn(){if(xt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Nt===null?ot.memoizedState:Nt.next;if(e!==null)Nt=e,xt=t;else{if(t===null)throw Error(U(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Nt===null?ot.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function el(t,e){return typeof e=="function"?e(t):e}function Dp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var c=l.lane;if((Io&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,s=r):u=u.next=h,ot.lanes|=c,xo|=c}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,sr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ot.lanes|=o,xo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);sr(o,e.memoizedState)||(wn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function H1(){}function q1(t,e){var n=ot,r=Gn(),i=e(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,wn=!0),r=r.queue,uy(Q1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,tl(9,G1.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(U(349));Io&30||K1(n,e,i)}return i}function K1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G1(t,e,n,r){e.value=n,e.getSnapshot=r,Y1(e)&&X1(t)}function Q1(t,e,n){return n(function(){Y1(e)&&X1(t)})}function Y1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function X1(t){var e=Jr(t,1);e!==null&&ir(e,t,1,-1)}function gS(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:t},e.queue=t,t=t.dispatch=sD.bind(null,ot,t),[e.memoizedState,t]}function tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J1(){return Gn().memoizedState}function Zc(t,e,n,r){var i=vr();ot.flags|=t,i.memoizedState=tl(1|e,n,void 0,r===void 0?null:r)}function Uf(t,e,n,r){var i=Gn();r=r===void 0?null:r;var o=void 0;if(xt!==null){var s=xt.memoizedState;if(o=s.destroy,r!==null&&oy(r,s.deps)){i.memoizedState=tl(e,n,o,r);return}}ot.flags|=t,i.memoizedState=tl(1|e,n,o,r)}function vS(t,e){return Zc(8390656,8,t,e)}function uy(t,e){return Uf(2048,8,t,e)}function Z1(t,e){return Uf(4,2,t,e)}function eT(t,e){return Uf(4,4,t,e)}function tT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nT(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4,4,tT.bind(null,e,t),n)}function ly(){}function rT(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iT(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oT(t,e,n){return Io&21?(sr(n,e)||(n=u1(),ot.lanes|=n,xo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function iD(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Me=n,Op.transition=r}}function sT(){return Gn().memoizedState}function oD(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aT(t))uT(e,n);else if(n=j1(t,e,n,r),n!==null){var i=ln();ir(n,t,r,i),lT(n,e,r)}}function sD(t,e,n){var r=Pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aT(t))uT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,s)){var u=e.interleaved;u===null?(i.next=i,ey(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=j1(t,e,i,r),n!==null&&(i=ln(),ir(n,t,r,i),lT(n,e,r))}}function aT(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function uT(t,e){Eu=Lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fv(t,n)}}var Mh={readContext:Kn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},aD={readContext:Kn,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:vS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4194308,4,tT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zc(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oD.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:gS,useDebugValue:ly,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=gS(!1),e=t[0];return t=iD.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=vr();if(Ye){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ot===null)throw Error(U(349));Io&30||K1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,vS(Q1.bind(null,r,o,t),[t]),r.flags|=2048,tl(9,G1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vr(),e=Ot.identifierPrefix;if(Ye){var n=Ur,r=Fr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uD={readContext:Kn,useCallback:rT,useContext:Kn,useEffect:uy,useImperativeHandle:nT,useInsertionEffect:Z1,useLayoutEffect:eT,useMemo:iT,useReducer:Dp,useRef:J1,useState:function(){return Dp(el)},useDebugValue:ly,useDeferredValue:function(t){var e=Gn();return oT(e,xt.memoizedState,t)},useTransition:function(){var t=Dp(el)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:H1,useSyncExternalStore:q1,useId:sT,unstable_isNewReconciler:!1},lD={readContext:Kn,useCallback:rT,useContext:Kn,useEffect:uy,useImperativeHandle:nT,useInsertionEffect:Z1,useLayoutEffect:eT,useMemo:iT,useReducer:Pp,useRef:J1,useState:function(){return Pp(el)},useDebugValue:ly,useDeferredValue:function(t){var e=Gn();return xt===null?e.memoizedState=t:oT(e,xt.memoizedState,t)},useTransition:function(){var t=Pp(el)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:H1,useSyncExternalStore:q1,useId:sT,unstable_isNewReconciler:!1};function Xs(t,e){try{var n="",r=e;do n+=$N(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cD=typeof WeakMap=="function"?WeakMap:Map;function cT(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jh||(jh=!0,wg=r),lg(t,e)},n}function hT(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){lg(t,e),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function yS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TD.bind(null,t,e,n),e.then(t,t))}function wS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Oi(n,e,1))),n.lanes|=1),t)}var hD=si.ReactCurrentOwner,wn=!1;function an(t,e,n,r){e.child=t===null?z1(e,null,n,r):Qs(e,t.child,n,r)}function bS(t,e,n,r,i){n=n.render;var o=e.ref;return Ls(e,i),r=sy(t,e,n,r,o,i),n=ay(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(Ye&&n&&Gv(e),e.flags|=1,an(t,e,r,i),e.child)}function _S(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!vy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fT(t,e,o,r,i)):(t=rh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ku,n(s,r)&&t.ref===e.ref)return Zr(t,e,i)}return e.flags|=1,t=Li(o,r),t.ref=e.ref,t.return=e,e.child=t}function fT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ku(o,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Zr(t,e,i)}return cg(t,e,n,r,i)}function dT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(xs,Cn),Cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(xs,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(xs,Cn),Cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(xs,Cn),Cn|=r;return an(t,e,i,n),e.child}function pT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cg(t,e,n,r,i){var o=bn(n)?Eo:rn.current;return o=Ks(e,o),Ls(e,i),n=sy(t,e,n,r,o,i),r=ay(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(Ye&&r&&Gv(e),e.flags|=1,an(t,e,n,i),e.child)}function ES(t,e,n,r,i){if(bn(n)){var o=!0;Rh(e)}else o=!1;if(Ls(e,i),e.stateNode===null)eh(t,e),U1(e,n,r),ug(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Kn(l):(l=bn(n)?Eo:rn.current,l=Ks(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&pS(e,s,r,l),gi=!1;var f=e.memoizedState;s.state=f,Dh(e,r,s,i),u=e.memoizedState,a!==r||f!==u||Sn.current||gi?(typeof c=="function"&&(ag(e,n,c,r),u=e.memoizedState),(a=gi||dS(e,n,a,r,f,u,l))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,V1(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Zn(e.type,a),s.props=l,h=e.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Kn(u):(u=bn(n)?Eo:rn.current,u=Ks(e,u));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==u)&&pS(e,s,r,u),gi=!1,f=e.memoizedState,s.state=f,Dh(e,r,s,i);var g=e.memoizedState;a!==h||f!==g||Sn.current||gi?(typeof m=="function"&&(ag(e,n,m,r),g=e.memoizedState),(l=gi||dS(e,n,l,r,f,g,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return hg(t,e,n,r,o,i)}function hg(t,e,n,r,i,o){pT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&uS(e,n,!1),Zr(t,e,o);r=e.stateNode,hD.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Qs(e,t.child,null,o),e.child=Qs(e,null,a,o)):an(t,e,a,o),e.memoizedState=r.state,i&&uS(e,n,!0),e.child}function mT(t){var e=t.stateNode;e.pendingContext?aS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aS(t,e.context,!1),ny(t,e.containerInfo)}function TS(t,e,n,r,i){return Gs(),Yv(i),e.flags|=256,an(t,e,n,r),e.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function gT(t,e,n){var r=e.pendingProps,i=it.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(it,i&1),t===null)return og(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Wf(s,r,0,null),t=So(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dg(n),e.memoizedState=fg,t):cy(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fD(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Li(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Li(a,o):(o=So(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?dg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=fg,r}return o=t.child,t=o.sibling,r=Li(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cy(t,e){return e=Wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ec(t,e,n,r){return r!==null&&Yv(r),Qs(e,t.child,null,n),t=cy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fD(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Lp(Error(U(422))),Ec(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Wf({mode:"visible",children:r.children},i,0,null),o=So(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qs(e,t.child,null,s),e.child.memoizedState=dg(s),e.memoizedState=fg,o);if(!(e.mode&1))return Ec(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Lp(o,r,void 0),Ec(t,e,s,r)}if(a=(s&t.childLanes)!==0,wn||a){if(r=Ot,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jr(t,i),ir(r,t,i,-1))}return gy(),r=Lp(Error(U(421))),Ec(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ID.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Rn=Ni(i.nextSibling),An=e,Ye=!0,nr=null,t!==null&&(jn[Vn++]=Fr,jn[Vn++]=Ur,jn[Vn++]=To,Fr=t.id,Ur=t.overflow,To=e),e=cy(e,r.children),e.flags|=4096,e)}function IS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sg(t.return,e,n)}function Mp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(an(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IS(t,n,e);else if(t.tag===19)IS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ph(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ph(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mp(e,!0,n,null,o);break;case"together":Mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dD(t,e,n){switch(e.tag){case 3:mT(e),Gs();break;case 5:W1(e);break;case 1:bn(e.type)&&Rh(e);break;case 4:ny(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Nh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?gT(t,e,n):(Fe(it,it.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);Fe(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,dT(t,e,n)}return Zr(t,e,n)}var yT,pg,wT,ST;yT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pg=function(){};wT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ho(Er.current);var o=null;switch(n){case"input":i=Mm(t,i),r=Mm(t,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=Vm(t,i),r=Vm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xh)}Um(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Fu.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Be("scroll",t),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};ST=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pD(t,e,n){var r=e.pendingProps;switch(Qv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return bn(e.type)&&Ch(),Gt(e),null;case 3:return r=e.stateNode,Ys(),qe(Sn),qe(rn),iy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(_g(nr),nr=null))),pg(t,e),Gt(e),null;case 5:ry(e);var i=ho(Ju.current);if(n=e.type,t!==null&&e.stateNode!=null)wT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Gt(e),null}if(t=ho(Er.current),bc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[wr]=e,r[Yu]=o,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<lu.length;i++)Be(lu[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":P0(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":M0(r,o),Be("invalid",r)}Um(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Sc(r.textContent,a,t),i=["children",""+a]):Fu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Be("scroll",r)}switch(n){case"input":fc(r),L0(r,o,!0);break;case"textarea":fc(r),$0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[wr]=e,t[Yu]=r,yT(t,e,!1,!1),e.stateNode=t;e:{switch(s=Bm(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<lu.length;i++)Be(lu[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":P0(t,r),i=Mm(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Be("invalid",t);break;case"textarea":M0(t,r),i=Vm(t,r),Be("invalid",t);break;default:i=r}Um(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?YE(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&GE(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Uu(t,u):typeof u=="number"&&Uu(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fu.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Be("scroll",t):u!=null&&Pv(t,o,u,s))}switch(n){case"input":fc(t),L0(t,r,!1);break;case"textarea":fc(t),$0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ns(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)ST(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ho(Ju.current),ho(Er.current),bc(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(o=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Gt(e),null;case 13:if(qe(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Rn!==null&&e.mode&1&&!(e.flags&128))$1(),Gs(),e.flags|=98560,o=!1;else if(o=bc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[wr]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else nr!==null&&(_g(nr),nr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Ct===0&&(Ct=3):gy())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Ys(),pg(t,e),t===null&&Gu(e.stateNode.containerInfo),Gt(e),null;case 10:return Zv(e.type._context),Gt(e),null;case 17:return bn(e.type)&&Ch(),Gt(e),null;case 19:if(qe(it),o=e.memoizedState,o===null)return Gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ka(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ph(t),s!==null){for(e.flags|=128,Ka(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&vt()>Js&&(e.flags|=128,r=!0,Ka(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ph(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ye)return Gt(e),null}else 2*vt()-o.renderingStartTime>Js&&n!==1073741824&&(e.flags|=128,r=!0,Ka(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vt(),e.sibling=null,n=it.current,Fe(it,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return my(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function mD(t,e){switch(Qv(e),e.tag){case 1:return bn(e.type)&&Ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),qe(Sn),qe(rn),iy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ry(e),null;case 13:if(qe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(it),null;case 4:return Ys(),null;case 10:return Zv(e.type._context),null;case 22:case 23:return my(),null;case 24:return null;default:return null}}var Tc=!1,Xt=!1,gD=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function mg(t,e,n){try{n()}catch(r){ct(t,e,r)}}var xS=!1;function vD(t,e){if(Jm=Eh,t=T1(),Kv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=s),f===o&&++c===r&&(u=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:t,selectionRange:n},Eh=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,T=g.memoizedState,d=e.stateNode,p=d.getSnapshotBeforeUpdate(e.elementType===e.type?w:Zn(e.type,w),T);d.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){ct(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return g=xS,xS=!1,g}function Tu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&mg(e,n,o)}i=i.next}while(i!==r)}}function Bf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bT(t){var e=t.alternate;e!==null&&(t.alternate=null,bT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[Yu],delete e[ng],delete e[ZO],delete e[eD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _T(t){return t.tag===5||t.tag===3||t.tag===4}function CS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_T(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xh));else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}function yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yg(t,e,n),t=t.sibling;t!==null;)yg(t,e,n),t=t.sibling}var Vt=null,tr=!1;function di(t,e,n){for(n=n.child;n!==null;)ET(t,e,n),n=n.sibling}function ET(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Pf,n)}catch{}switch(n.tag){case 5:Xt||Is(n,e);case 6:var r=Vt,i=tr;Vt=null,di(t,e,n),Vt=r,tr=i,Vt!==null&&(tr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(tr?(t=Vt,n=n.stateNode,t.nodeType===8?kp(t.parentNode,n):t.nodeType===1&&kp(t,n),Hu(t)):kp(Vt,n.stateNode));break;case 4:r=Vt,i=tr,Vt=n.stateNode.containerInfo,tr=!0,di(t,e,n),Vt=r,tr=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mg(n,e,s),i=i.next}while(i!==r)}di(t,e,n);break;case 1:if(!Xt&&(Is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}di(t,e,n);break;case 21:di(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,di(t,e,n),Xt=r):di(t,e,n);break;default:di(t,e,n)}}function RS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gD),e.forEach(function(r){var i=xD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,tr=!1;break e;case 3:Vt=a.stateNode.containerInfo,tr=!0;break e;case 4:Vt=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if(Vt===null)throw Error(U(160));ET(o,s,i),Vt=null,tr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ct(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TT(e,t),e=e.sibling}function TT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),gr(t),r&4){try{Tu(3,t,t.return),Bf(3,t)}catch(w){ct(t,t.return,w)}try{Tu(5,t,t.return)}catch(w){ct(t,t.return,w)}}break;case 1:Xn(e,t),gr(t),r&512&&n!==null&&Is(n,n.return);break;case 5:if(Xn(e,t),gr(t),r&512&&n!==null&&Is(n,n.return),t.flags&32){var i=t.stateNode;try{Uu(i,"")}catch(w){ct(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&HE(i,o),Bm(a,s);var l=Bm(a,o);for(s=0;s<u.length;s+=2){var c=u[s],h=u[s+1];c==="style"?YE(i,h):c==="dangerouslySetInnerHTML"?GE(i,h):c==="children"?Uu(i,h):Pv(i,c,h,l)}switch(a){case"input":$m(i,o);break;case"textarea":qE(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ns(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ns(i,!!o.multiple,o.defaultValue,!0):Ns(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yu]=o}catch(w){ct(t,t.return,w)}}break;case 6:if(Xn(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){ct(t,t.return,w)}}break;case 3:if(Xn(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hu(e.containerInfo)}catch(w){ct(t,t.return,w)}break;case 4:Xn(e,t),gr(t);break;case 13:Xn(e,t),gr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dy=vt())),r&4&&RS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(l=Xt)||c,Xn(e,t),Xt=l):Xn(e,t),gr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(ee=t,c=t.child;c!==null;){for(h=ee=c;ee!==null;){switch(f=ee,m=f.child,f.tag){case 0:case 11:case 14:case 15:Tu(4,f,f.return);break;case 1:Is(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){ct(r,n,w)}}break;case 5:Is(f,f.return);break;case 22:if(f.memoizedState!==null){AS(h);continue}}m!==null?(m.return=f,ee=m):AS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=QE("display",s))}catch(w){ct(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(w){ct(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(e,t),gr(t),r&4&&RS(t);break;case 21:break;default:Xn(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_T(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uu(i,""),r.flags&=-33);var o=CS(t);yg(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=CS(t);vg(t,a,s);break;default:throw Error(U(161))}}catch(u){ct(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yD(t,e,n){ee=t,IT(t)}function IT(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Tc;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Xt;a=Tc;var l=Xt;if(Tc=s,(Xt=u)&&!l)for(ee=i;ee!==null;)s=ee,u=s.child,s.tag===22&&s.memoizedState!==null?NS(i):u!==null?(u.return=s,ee=u):NS(i);for(;o!==null;)ee=o,IT(o),o=o.sibling;ee=i,Tc=a,Xt=l}kS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):kS(t)}}function kS(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||Bf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fS(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Hu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Xt||e.flags&512&&gg(e)}catch(f){ct(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function AS(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function NS(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bf(4,e)}catch(u){ct(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ct(e,i,u)}}var o=e.return;try{gg(e)}catch(u){ct(e,o,u)}break;case 5:var s=e.return;try{gg(e)}catch(u){ct(e,s,u)}}}catch(u){ct(e,e.return,u)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var wD=Math.ceil,$h=si.ReactCurrentDispatcher,hy=si.ReactCurrentOwner,zn=si.ReactCurrentBatchConfig,xe=0,Ot=null,_t=null,Bt=0,Cn=0,xs=Qi(0),Ct=0,nl=null,xo=0,zf=0,fy=0,Iu=null,vn=null,dy=0,Js=1/0,Mr=null,jh=!1,wg=null,Di=null,Ic=!1,xi=null,Vh=0,xu=0,Sg=null,th=-1,nh=0;function ln(){return xe&6?vt():th!==-1?th:th=vt()}function Pi(t){return t.mode&1?xe&2&&Bt!==0?Bt&-Bt:nD.transition!==null?(nh===0&&(nh=u1()),nh):(t=Me,t!==0||(t=window.event,t=t===void 0?16:m1(t.type)),t):1}function ir(t,e,n,r){if(50<xu)throw xu=0,Sg=null,Error(U(185));El(t,n,r),(!(xe&2)||t!==Ot)&&(t===Ot&&(!(xe&2)&&(zf|=n),Ct===4&&Si(t,Bt)),_n(t,r),n===1&&xe===0&&!(e.mode&1)&&(Js=vt()+500,Vf&&Yi()))}function _n(t,e){var n=t.callbackNode;nO(t,e);var r=_h(t,t===Ot?Bt:0);if(r===0)n!==null&&F0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F0(n),e===1)t.tag===0?tD(OS.bind(null,t)):P1(OS.bind(null,t)),XO(function(){!(xe&6)&&Yi()}),n=null;else{switch(l1(r)){case 1:n=Vv;break;case 4:n=s1;break;case 16:n=bh;break;case 536870912:n=a1;break;default:n=bh}n=DT(n,xT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xT(t,e){if(th=-1,nh=0,xe&6)throw Error(U(327));var n=t.callbackNode;if(Ms()&&t.callbackNode!==n)return null;var r=_h(t,t===Ot?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fh(t,r);else{e=r;var i=xe;xe|=2;var o=RT();(Ot!==t||Bt!==e)&&(Mr=null,Js=vt()+500,wo(t,e));do try{_D();break}catch(a){CT(t,a)}while(1);Jv(),$h.current=o,xe=i,_t!==null?e=0:(Ot=null,Bt=0,e=Ct)}if(e!==0){if(e===2&&(i=Km(t),i!==0&&(r=i,e=bg(t,i))),e===1)throw n=nl,wo(t,0),Si(t,r),_n(t,vt()),n;if(e===6)Si(t,r);else{if(i=t.current.alternate,!(r&30)&&!SD(i)&&(e=Fh(t,r),e===2&&(o=Km(t),o!==0&&(r=o,e=bg(t,o))),e===1))throw n=nl,wo(t,0),Si(t,r),_n(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:oo(t,vn,Mr);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=dy+500-vt(),10<e)){if(_h(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tg(oo.bind(null,t,vn,Mr),e);break}oo(t,vn,Mr);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-rr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wD(r/1960))-r,10<r){t.timeoutHandle=tg(oo.bind(null,t,vn,Mr),r);break}oo(t,vn,Mr);break;case 5:oo(t,vn,Mr);break;default:throw Error(U(329))}}}return _n(t,vt()),t.callbackNode===n?xT.bind(null,t):null}function bg(t,e){var n=Iu;return t.current.memoizedState.isDehydrated&&(wo(t,e).flags|=256),t=Fh(t,e),t!==2&&(e=vn,vn=n,e!==null&&_g(e)),t}function _g(t){vn===null?vn=t:vn.push.apply(vn,t)}function SD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~fy,e&=~zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rr(e),r=1<<n;t[n]=-1,e&=~r}}function OS(t){if(xe&6)throw Error(U(327));Ms();var e=_h(t,0);if(!(e&1))return _n(t,vt()),null;var n=Fh(t,e);if(t.tag!==0&&n===2){var r=Km(t);r!==0&&(e=r,n=bg(t,r))}if(n===1)throw n=nl,wo(t,0),Si(t,e),_n(t,vt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oo(t,vn,Mr),_n(t,vt()),null}function py(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(Js=vt()+500,Vf&&Yi())}}function Co(t){xi!==null&&xi.tag===0&&!(xe&6)&&Ms();var e=xe;xe|=1;var n=zn.transition,r=Me;try{if(zn.transition=null,Me=1,t)return t()}finally{Me=r,zn.transition=n,xe=e,!(xe&6)&&Yi()}}function my(){Cn=xs.current,qe(xs)}function wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YO(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ch();break;case 3:Ys(),qe(Sn),qe(rn),iy();break;case 5:ry(r);break;case 4:Ys();break;case 13:qe(it);break;case 19:qe(it);break;case 10:Zv(r.type._context);break;case 22:case 23:my()}n=n.return}if(Ot=t,_t=t=Li(t.current,null),Bt=Cn=e,Ct=0,nl=null,fy=zf=xo=0,vn=Iu=null,co!==null){for(e=0;e<co.length;e++)if(n=co[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}co=null}return t}function CT(t,e){do{var n=_t;try{if(Jv(),Jc.current=Mh,Lh){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lh=!1}if(Io=0,Nt=xt=ot=null,Eu=!1,Zu=0,hy.current=null,n===null||n.return===null){Ct=1,nl=e,_t=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Bt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=wS(s);if(m!==null){m.flags&=-257,SS(m,s,a,o,e),m.mode&1&&yS(o,l,e),e=m,u=l;var g=e.updateQueue;if(g===null){var w=new Set;w.add(u),e.updateQueue=w}else g.add(u);break e}else{if(!(e&1)){yS(o,l,e),gy();break e}u=Error(U(426))}}else if(Ye&&a.mode&1){var T=wS(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),SS(T,s,a,o,e),Yv(Xs(u,a));break e}}o=u=Xs(u,a),Ct!==4&&(Ct=2),Iu===null?Iu=[o]:Iu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var d=cT(o,u,e);hS(o,d);break e;case 1:a=u;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Di===null||!Di.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=hT(o,a,e);hS(o,E);break e}}o=o.return}while(o!==null)}AT(n)}catch(A){e=A,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function RT(){var t=$h.current;return $h.current=Mh,t===null?Mh:t}function gy(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ot===null||!(xo&268435455)&&!(zf&268435455)||Si(Ot,Bt)}function Fh(t,e){var n=xe;xe|=2;var r=RT();(Ot!==t||Bt!==e)&&(Mr=null,wo(t,e));do try{bD();break}catch(i){CT(t,i)}while(1);if(Jv(),xe=n,$h.current=r,_t!==null)throw Error(U(261));return Ot=null,Bt=0,Ct}function bD(){for(;_t!==null;)kT(_t)}function _D(){for(;_t!==null&&!KN();)kT(_t)}function kT(t){var e=OT(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?AT(t):_t=e,hy.current=null}function AT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mD(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,_t=null;return}}else if(n=pD(n,e,Cn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Ct===0&&(Ct=5)}function oo(t,e,n){var r=Me,i=zn.transition;try{zn.transition=null,Me=1,ED(t,e,n,r)}finally{zn.transition=i,Me=r}return null}function ED(t,e,n,r){do Ms();while(xi!==null);if(xe&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(rO(t,o),t===Ot&&(_t=Ot=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ic||(Ic=!0,DT(bh,function(){return Ms(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var s=Me;Me=1;var a=xe;xe|=4,hy.current=null,vD(t,n),TT(n,t),zO(Zm),Eh=!!Jm,Zm=Jm=null,t.current=n,yD(n),GN(),xe=a,Me=s,zn.transition=o}else t.current=n;if(Ic&&(Ic=!1,xi=t,Vh=i),o=t.pendingLanes,o===0&&(Di=null),XN(n.stateNode),_n(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jh)throw jh=!1,t=wg,wg=null,t;return Vh&1&&t.tag!==0&&Ms(),o=t.pendingLanes,o&1?t===Sg?xu++:(xu=0,Sg=t):xu=0,Yi(),null}function Ms(){if(xi!==null){var t=l1(Vh),e=zn.transition,n=Me;try{if(zn.transition=null,Me=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,Vh=0,xe&6)throw Error(U(331));var i=xe;for(xe|=4,ee=t.current;ee!==null;){var o=ee,s=o.child;if(ee.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(ee=l;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:Tu(8,c,o)}var h=c.child;if(h!==null)h.return=c,ee=h;else for(;ee!==null;){c=ee;var f=c.sibling,m=c.return;if(bT(c),c===l){ee=null;break}if(f!==null){f.return=m,ee=f;break}ee=m}}}var g=o.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}ee=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ee=s;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Tu(9,o,o.return)}var d=o.sibling;if(d!==null){d.return=o.return,ee=d;break e}ee=o.return}}var p=t.current;for(ee=p;ee!==null;){s=ee;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,ee=v;else e:for(s=p;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bf(9,a)}}catch(A){ct(a,a.return,A)}if(a===s){ee=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ee=E;break e}ee=a.return}}if(xe=i,Yi(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Pf,t)}catch{}r=!0}return r}finally{Me=n,zn.transition=e}}return!1}function DS(t,e,n){e=Xs(n,e),e=cT(t,e,1),t=Oi(t,e,1),e=ln(),t!==null&&(El(t,1,e),_n(t,e))}function ct(t,e,n){if(t.tag===3)DS(t,t,n);else for(;e!==null;){if(e.tag===3){DS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){t=Xs(n,t),t=hT(e,t,1),e=Oi(e,t,1),t=ln(),e!==null&&(El(e,1,t),_n(e,t));break}}e=e.return}}function TD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Bt&n)===n&&(Ct===4||Ct===3&&(Bt&130023424)===Bt&&500>vt()-dy?wo(t,0):fy|=n),_n(t,e)}function NT(t,e){e===0&&(t.mode&1?(e=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):e=1);var n=ln();t=Jr(t,e),t!==null&&(El(t,e,n),_n(t,n))}function ID(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NT(t,n)}function xD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),NT(t,n)}var OT;OT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,dD(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Ye&&e.flags&1048576&&L1(e,Ah,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eh(t,e),t=e.pendingProps;var i=Ks(e,rn.current);Ls(e,n),i=sy(null,e,r,t,i,n);var o=ay();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,Rh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ty(e),i.updater=Ff,e.stateNode=i,i._reactInternals=e,ug(e,r,t,n),e=hg(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&Gv(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RD(r),t=Zn(r,t),i){case 0:e=cg(null,e,r,t,n);break e;case 1:e=ES(null,e,r,t,n);break e;case 11:e=bS(null,e,r,t,n);break e;case 14:e=_S(null,e,r,Zn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),cg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),ES(t,e,r,i,n);case 3:e:{if(mT(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,V1(t,e),Dh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xs(Error(U(423)),e),e=TS(t,e,r,n,i);break e}else if(r!==i){i=Xs(Error(U(424)),e),e=TS(t,e,r,n,i);break e}else for(Rn=Ni(e.stateNode.containerInfo.firstChild),An=e,Ye=!0,nr=null,n=z1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),r===i){e=Zr(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return W1(e),t===null&&og(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,eg(r,i)?s=null:o!==null&&eg(r,o)&&(e.flags|=32),pT(t,e),an(t,e,s,n),e.child;case 6:return t===null&&og(e),null;case 13:return gT(t,e,n);case 4:return ny(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qs(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),bS(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Fe(Nh,r._currentValue),r._currentValue=s,o!==null)if(sr(o.value,s)){if(o.children===i.children&&!Sn.current){e=Zr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=qr(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),sg(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ls(e,n),i=Kn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),_S(t,e,r,i,n);case 15:return fT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),eh(t,e),e.tag=1,bn(r)?(t=!0,Rh(e)):t=!1,Ls(e,n),U1(e,r,i),ug(e,r,i,n),hg(null,e,r,!0,t,n);case 19:return vT(t,e,n);case 22:return dT(t,e,n)}throw Error(U(156,e.tag))};function DT(t,e){return o1(t,e)}function CD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new CD(t,e,n,r)}function vy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RD(t){if(typeof t=="function")return vy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mv)return 11;if(t===$v)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")vy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case gs:return So(n.children,i,o,e);case Lv:s=8,i|=8;break;case Om:return t=Bn(12,n,e,i|2),t.elementType=Om,t.lanes=o,t;case Dm:return t=Bn(13,n,e,i),t.elementType=Dm,t.lanes=o,t;case Pm:return t=Bn(19,n,e,i),t.elementType=Pm,t.lanes=o,t;case BE:return Wf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FE:s=10;break e;case UE:s=9;break e;case Mv:s=11;break e;case $v:s=14;break e;case mi:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Bn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function So(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function Wf(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=BE,t.lanes=n,t.stateNode={isHidden:!1},t}function $p(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yp(0),this.expirationTimes=yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yy(t,e,n,r,i,o,s,a,u){return t=new kD(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ty(o),t}function AD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PT(t){if(!t)return Ui;t=t._reactInternals;e:{if(Bo(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(bn(n))return D1(t,n,e)}return e}function LT(t,e,n,r,i,o,s,a,u){return t=yy(n,r,!0,t,i,o,s,a,u),t.context=PT(null),n=t.current,r=ln(),i=Pi(n),o=qr(r,i),o.callback=e??null,Oi(n,o,i),t.current.lanes=i,El(t,i,r),_n(t,r),t}function Hf(t,e,n,r){var i=e.current,o=ln(),s=Pi(i);return n=PT(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Oi(i,e,s),t!==null&&(ir(t,i,s,o),Xc(t,i,s)),s}function Uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wy(t,e){PS(t,e),(t=t.alternate)&&PS(t,e)}function ND(){return null}var MT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sy(t){this._internalRoot=t}qf.prototype.render=Sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Hf(t,e,null,null)};qf.prototype.unmount=Sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Co(function(){Hf(null,t,null,null)}),e[Xr]=null}};function qf(t){this._internalRoot=t}qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=f1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&p1(t)}};function by(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LS(){}function OD(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Uh(s);o.call(l)}}var s=LT(e,r,t,0,null,!1,!1,"",LS);return t._reactRootContainer=s,t[Xr]=s.current,Gu(t.nodeType===8?t.parentNode:t),Co(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Uh(u);a.call(l)}}var u=yy(t,0,!1,null,null,!1,!1,"",LS);return t._reactRootContainer=u,t[Xr]=u.current,Gu(t.nodeType===8?t.parentNode:t),Co(function(){Hf(e,u,n,r)}),u}function Gf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Uh(s);a.call(u)}}Hf(e,s,t,i)}else s=OD(n,e,t,i,r);return Uh(s)}c1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uu(e.pendingLanes);n!==0&&(Fv(e,n|1),_n(e,vt()),!(xe&6)&&(Js=vt()+500,Yi()))}break;case 13:Co(function(){var r=Jr(t,1);if(r!==null){var i=ln();ir(r,t,1,i)}}),wy(t,1)}};Uv=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=ln();ir(e,t,134217728,n)}wy(t,134217728)}};h1=function(t){if(t.tag===13){var e=Pi(t),n=Jr(t,e);if(n!==null){var r=ln();ir(n,t,e,r)}wy(t,e)}};f1=function(){return Me};d1=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Wm=function(t,e,n){switch(e){case"input":if($m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jf(r);if(!i)throw Error(U(90));WE(r),$m(r,i)}}}break;case"textarea":qE(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};ZE=py;e1=Co;var DD={usingClientEntryPoint:!1,Events:[Il,Ss,jf,XE,JE,py]},Ga={findFiberByHostInstance:lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PD={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||ND,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Pf=xc.inject(PD),_r=xc}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DD;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!by(e))throw Error(U(200));return AD(t,e,null,n)};Ln.createRoot=function(t,e){if(!by(t))throw Error(U(299));var n=!1,r="",i=MT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yy(t,1,!1,null,null,n,!1,r,i),t[Xr]=e.current,Gu(t.nodeType===8?t.parentNode:t),new Sy(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=r1(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Co(t)};Ln.hydrate=function(t,e,n){if(!Kf(e))throw Error(U(200));return Gf(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!by(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=MT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=LT(e,null,t,1,n??null,i,!1,o,s),t[Xr]=e.current,Gu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qf(e)};Ln.render=function(t,e,n){if(!Kf(e))throw Error(U(200));return Gf(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Kf(t))throw Error(U(40));return t._reactRootContainer?(Co(function(){Gf(null,null,t,!1,function(){t._reactRootContainer=null,t[Xr]=null})}),!0):!1};Ln.unstable_batchedUpdates=py;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Gf(t,e,n,!1,r)};Ln.version="18.2.0-next-9e3b772b8-20220608";function $T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($T)}catch(t){console.error(t)}}$T(),LE.exports=Ln;var jT=LE.exports;const LD=EE(jT);var MS=jT;Am.createRoot=MS.createRoot,Am.hydrateRoot=MS.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ne.apply(this,arguments)}var St;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(St||(St={}));const $S="popstate";function MD(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return rl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ro(i)}return jD(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $D(){return Math.random().toString(36).substr(2,8)}function jS(t,e){return{usr:t.state,key:t.key,idx:e}}function rl(t,e,n,r){return n===void 0&&(n=null),Ne({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ai(e):e,{state:n,key:e&&e.key||r||$D()})}function Ro(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=St.Pop,u=null,l=c();l==null&&(l=0,s.replaceState(Ne({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=St.Pop;let T=c(),d=T==null?null:T-l;l=T,u&&u({action:a,location:w.location,delta:d})}function f(T,d){a=St.Push;let p=rl(w.location,T,d);n&&n(p,T),l=c()+1;let v=jS(p,l),E=w.createHref(p);try{s.pushState(v,"",E)}catch{i.location.assign(E)}o&&u&&u({action:a,location:w.location,delta:1})}function m(T,d){a=St.Replace;let p=rl(w.location,T,d);n&&n(p,T),l=c();let v=jS(p,l),E=w.createHref(p);s.replaceState(v,"",E),o&&u&&u({action:a,location:w.location,delta:0})}function g(T){let d=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof T=="string"?T:Ro(T);return _e(d,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,d)}let w={get action(){return a},get location(){return t(i,s)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener($S,h),u=T,()=>{i.removeEventListener($S,h),u=null}},createHref(T){return e(i,T)},createURL:g,encodeLocation(T){let d=g(T);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:f,replace:m,go(T){return s.go(T)}};return w}var It;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(It||(It={}));const VD=new Set(["lazy","caseSensitive","path","id","index","children"]);function FD(t){return t.index===!0}function Eg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),FD(i)){let u=Ne({},i,e(i),{id:a});return r[a]=u,u}else{let u=Ne({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=Eg(i.children,e,s,r)),u}})}function Cs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ai(e):e,i=xa(r.pathname||"/",n);if(i==null)return null;let o=VT(t);UD(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=YD(o[a],ZD(i));return s}function VT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(_e(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Kr([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(_e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),VT(o.children,e,c,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:GD(l,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of FT(o.path))i(o,s,u)}),e}function FT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=FT(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function UD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BD=/^:\w+$/,zD=3,WD=2,HD=1,qD=10,KD=-2,VS=t=>t==="*";function GD(t,e){let n=t.split("/"),r=n.length;return n.some(VS)&&(r+=KD),e&&(r+=WD),n.filter(i=>!VS(i)).reduce((i,o)=>i+(BD.test(o)?zD:o===""?HD:qD),r)}function QD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YD(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],u=s===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=XD({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:Kr([i,c.pathname]),pathnameBase:rP(Kr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Kr([i,c.pathnameBase]))}return o}function XD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{if(c==="*"){let f=a[h]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=eP(a[h]||"",c),l},{}),pathname:o,pathnameBase:s,pattern:t}}function JD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZD(t){try{return decodeURI(t)}catch(e){return Zs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eP(t,e){try{return decodeURIComponent(t)}catch(n){return Zs(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function xa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ai(t):t;return{pathname:n?n.startsWith("/")?n:nP(n,e):e,search:iP(r),hash:oP(i)}}function nP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _y(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ai(t):(i=Ne({},t),_e(!i.pathname||!i.pathname.includes("?"),Vp("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Vp("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Vp("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let h=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=tP(i,a),l=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Kr=t=>t.join("/").replace(/\/\/+/g,"/"),rP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ey{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function UT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BT=["post","put","patch","delete"],sP=new Set(BT),aP=["get",...BT],uP=new Set(aP),lP=new Set([301,302,303,307,308]),cP=new Set([307,308]),Fp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},hP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},FS={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fP=!WT,dP=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function pP(t){_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e;if(t.mapRouteProperties)e=t.mapRouteProperties;else if(t.detectErrorBoundary){let b=t.detectErrorBoundary;e=C=>({hasErrorBoundary:b(C)})}else e=dP;let n={},r=Eg(t.routes,e,void 0,n),i,o=t.basename||"/",s=Ne({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),a=null,u=new Set,l=null,c=null,h=null,f=t.hydrationData!=null,m=Cs(r,t.history.location,o),g=null;if(m==null){let b=er(404,{pathname:t.history.location.pathname}),{matches:C,route:M}=KS(r);m=C,g={[M.id]:b}}let w=!m.some(b=>b.route.lazy)&&(!m.some(b=>b.route.loader)||t.hydrationData!=null),T,d={historyAction:t.history.action,location:t.history.location,matches:m,initialized:w,navigation:Fp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},p=St.Pop,v=!1,E,A=!1,N=!1,O=[],D=[],K=new Map,ne=0,Ae=-1,Ge=new Map,ge=new Set,Ce=new Map,mt=new Map,je=new Map,et=!1;function W(){return a=t.history.listen(b=>{let{action:C,location:M,delta:q}=b;if(et){et=!1;return}Zs(je.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Pr({currentLocation:d.location,nextLocation:M,historyAction:C});if(X&&q!=null){et=!0,t.history.go(q*-1),Dr(X,{state:"blocked",location:M,proceed(){Dr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),t.history.go(q)},reset(){fr(X),le({blockers:new Map(T.state.blockers)})}});return}return Q(C,M)}),d.initialized||Q(St.Pop,d.location),T}function oe(){a&&a(),u.clear(),E&&E.abort(),d.fetchers.forEach((b,C)=>Qe(C)),d.blockers.forEach((b,C)=>fr(C))}function ae(b){return u.add(b),()=>u.delete(b)}function le(b){d=Ne({},d,b),u.forEach(C=>C(d))}function I(b,C){var M,q;let X=d.actionData!=null&&d.navigation.formMethod!=null&&$r(d.navigation.formMethod)&&d.navigation.state==="loading"&&((M=b.state)==null?void 0:M._isRedirect)!==!0,_;C.actionData?Object.keys(C.actionData).length>0?_=C.actionData:_=null:X?_=d.actionData:_=null;let S=C.loaderData?qS(d.loaderData,C.loaderData,C.matches||[],C.errors):d.loaderData;for(let[k]of je)fr(k);let x=v===!0||d.navigation.formMethod!=null&&$r(d.navigation.formMethod)&&((q=b.state)==null?void 0:q._isRedirect)!==!0;i&&(r=i,i=void 0),le(Ne({},C,{actionData:_,loaderData:S,historyAction:p,location:b,initialized:!0,navigation:Fp,revalidation:"idle",restoreScrollPosition:ro(b,C.matches||d.matches),preventScrollReset:x,blockers:new Map(d.blockers)})),A||p===St.Pop||(p===St.Push?t.history.push(b,b.state):p===St.Replace&&t.history.replace(b,b.state)),p=St.Pop,v=!1,A=!1,N=!1,O=[],D=[]}async function L(b,C){if(typeof b=="number"){t.history.go(b);return}let M=Tg(d.location,d.matches,o,s.v7_prependBasename,b,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:q,submission:X,error:_}=US(s.v7_normalizeFormMethod,!1,M,C),S=d.location,x=rl(d.location,q,C&&C.state);x=Ne({},x,t.history.encodeLocation(x));let k=C&&C.replace!=null?C.replace:void 0,P=St.Push;k===!0?P=St.Replace:k===!1||X!=null&&$r(X.formMethod)&&X.formAction===d.location.pathname+d.location.search&&(P=St.Replace);let F=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,J=Pr({currentLocation:S,nextLocation:x,historyAction:P});if(J){Dr(J,{state:"blocked",location:x,proceed(){Dr(J,{state:"proceeding",proceed:void 0,reset:void 0,location:x}),L(b,C)},reset(){fr(J),le({blockers:new Map(d.blockers)})}});return}return await Q(P,x,{submission:X,pendingError:_,preventScrollReset:F,replace:C&&C.replace})}function j(){if(Tt(),le({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){Q(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}Q(p||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function Q(b,C,M){E&&E.abort(),E=null,p=b,A=(M&&M.startUninterruptedRevalidation)===!0,os(d.location,d.matches),v=(M&&M.preventScrollReset)===!0;let q=i||r,X=M&&M.overrideNavigation,_=Cs(q,C,o);if(!_){let z=er(404,{pathname:C.pathname}),{matches:Y,route:ue}=KS(q);dr(),I(C,{matches:Y,loaderData:{},errors:{[ue.id]:z}});return}if(d.initialized&&wP(d.location,C)&&!(M&&M.submission&&$r(M.submission.formMethod))){I(C,{matches:_});return}E=new AbortController;let S=Ya(t.history,C,E.signal,M&&M.submission),x,k;if(M&&M.pendingError)k={[Rs(_).route.id]:M.pendingError};else if(M&&M.submission&&$r(M.submission.formMethod)){let z=await H(S,C,M.submission,_,{replace:M.replace});if(z.shortCircuited)return;x=z.pendingActionData,k=z.pendingActionError,X=Ne({state:"loading",location:C},M.submission),S=new Request(S.url,{signal:S.signal})}let{shortCircuited:P,loaderData:F,errors:J}=await ce(S,C,_,X,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,x,k);P||(E=null,I(C,Ne({matches:_},x?{actionData:x}:{},{loaderData:F,errors:J})))}async function H(b,C,M,q,X){Tt();let _=Ne({state:"submitting",location:C},M);le({navigation:_});let S,x=Ig(q,C);if(!x.route.action&&!x.route.lazy)S={type:It.error,error:er(405,{method:b.method,pathname:C.pathname,routeId:x.route.id})};else if(S=await Qa("action",b,x,q,n,e,o),b.signal.aborted)return{shortCircuited:!0};if($s(S)){let k;return X&&X.replace!=null?k=X.replace:k=S.location===d.location.pathname+d.location.search,await be(d,S,{submission:M,replace:k}),{shortCircuited:!0}}if(Cu(S)){let k=Rs(q,x.route.id);return(X&&X.replace)!==!0&&(p=St.Push),{pendingActionData:{},pendingActionError:{[k.route.id]:S.error}}}if(fo(S))throw er(400,{type:"defer-action"});return{pendingActionData:{[x.route.id]:S.data}}}async function ce(b,C,M,q,X,_,S,x,k){let P=q;P||(P=Ne({state:"loading",location:C,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},X));let F=X||_?X||_:P.formMethod&&P.formAction&&P.formData&&P.formEncType?{formMethod:P.formMethod,formAction:P.formAction,formData:P.formData,formEncType:P.formEncType}:void 0,J=i||r,[z,Y]=BS(t.history,d,M,F,C,N,O,D,Ce,J,o,x,k);if(dr(rt=>!(M&&M.some($n=>$n.route.id===rt))||z&&z.some($n=>$n.route.id===rt)),z.length===0&&Y.length===0){let rt=ns();return I(C,Ne({matches:M,loaderData:{},errors:k||null},x?{actionData:x}:{},rt?{fetchers:new Map(d.fetchers)}:{})),{shortCircuited:!0}}if(!A){Y.forEach($n=>{let as=d.fetchers.get($n.key),hp={state:"loading",data:as&&as.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set($n.key,hp)});let rt=x||d.actionData;le(Ne({navigation:P},rt?Object.keys(rt).length===0?{actionData:null}:{actionData:rt}:{},Y.length>0?{fetchers:new Map(d.fetchers)}:{}))}Ae=++ne,Y.forEach(rt=>{rt.controller&&K.set(rt.key,rt.controller)});let ue=()=>Y.forEach(rt=>Ue(rt.key));E&&E.signal.addEventListener("abort",ue);let{results:Pe,loaderResults:kt,fetcherResults:nt}=await De(d.matches,M,z,Y,b);if(b.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",ue),Y.forEach(rt=>K.delete(rt.key));let gt=GS(Pe);if(gt)return await be(d,gt,{replace:S}),{shortCircuited:!0};let{loaderData:qt,errors:pr}=HS(d,M,z,kt,k,Y,nt,mt);mt.forEach((rt,$n)=>{rt.subscribe(as=>{(as||rt.done)&&mt.delete($n)})});let fi=ns(),Lr=hi(Ae),mr=fi||Lr||Y.length>0;return Ne({loaderData:qt,errors:pr},mr?{fetchers:new Map(d.fetchers)}:{})}function pe(b){return d.fetchers.get(b)||hP}function re(b,C,M,q){if(fP)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(b)&&Ue(b);let X=i||r,_=Tg(d.location,d.matches,o,s.v7_prependBasename,M,C,q==null?void 0:q.relative),S=Cs(X,_,o);if(!S){lt(b,C,er(404,{pathname:_}));return}let{path:x,submission:k}=US(s.v7_normalizeFormMethod,!0,_,q),P=Ig(S,x);if(v=(q&&q.preventScrollReset)===!0,k&&$r(k.formMethod)){Le(b,C,x,P,S,k);return}Ce.set(b,{routeId:C,path:x}),tt(b,C,x,P,S,k)}async function Le(b,C,M,q,X,_){if(Tt(),Ce.delete(b),!q.route.action&&!q.route.lazy){let xn=er(405,{method:_.formMethod,pathname:M,routeId:C});lt(b,C,xn);return}let S=d.fetchers.get(b),x=Ne({state:"submitting"},_,{data:S&&S.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(b,x),le({fetchers:new Map(d.fetchers)});let k=new AbortController,P=Ya(t.history,M,k.signal,_);K.set(b,k);let F=await Qa("action",P,q,X,n,e,o);if(P.signal.aborted){K.get(b)===k&&K.delete(b);return}if($s(F)){K.delete(b),ge.add(b);let xn=Ne({state:"loading"},_,{data:void 0," _hasFetcherDoneAnything ":!0});return d.fetchers.set(b,xn),le({fetchers:new Map(d.fetchers)}),be(d,F,{submission:_,isFetchActionRedirect:!0})}if(Cu(F)){lt(b,C,F.error);return}if(fo(F))throw er(400,{type:"defer-action"});let J=d.navigation.location||d.location,z=Ya(t.history,J,k.signal),Y=i||r,ue=d.navigation.state!=="idle"?Cs(Y,d.navigation.location,o):d.matches;_e(ue,"Didn't find any matches after fetcher action");let Pe=++ne;Ge.set(b,Pe);let kt=Ne({state:"loading",data:F.data},_,{" _hasFetcherDoneAnything ":!0});d.fetchers.set(b,kt);let[nt,gt]=BS(t.history,d,ue,_,J,N,O,D,Ce,Y,o,{[q.route.id]:F.data},void 0);gt.filter(xn=>xn.key!==b).forEach(xn=>{let fp=xn.key,C0=d.fetchers.get(fp),cN={state:"loading",data:C0&&C0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(fp,cN),xn.controller&&K.set(fp,xn.controller)}),le({fetchers:new Map(d.fetchers)});let qt=()=>gt.forEach(xn=>Ue(xn.key));k.signal.addEventListener("abort",qt);let{results:pr,loaderResults:fi,fetcherResults:Lr}=await De(d.matches,ue,nt,gt,z);if(k.signal.aborted)return;k.signal.removeEventListener("abort",qt),Ge.delete(b),K.delete(b),gt.forEach(xn=>K.delete(xn.key));let mr=GS(pr);if(mr)return be(d,mr);let{loaderData:rt,errors:$n}=HS(d,d.matches,nt,fi,void 0,gt,Lr,mt),as={state:"idle",data:F.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(b,as);let hp=hi(Pe);d.navigation.state==="loading"&&Pe>Ae?(_e(p,"Expected pending action"),E&&E.abort(),I(d.navigation.location,{matches:ue,loaderData:rt,errors:$n,fetchers:new Map(d.fetchers)})):(le(Ne({errors:$n,loaderData:qS(d.loaderData,rt,ue,$n)},hp?{fetchers:new Map(d.fetchers)}:{})),N=!1)}async function tt(b,C,M,q,X,_){let S=d.fetchers.get(b),x=Ne({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_,{data:S&&S.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(b,x),le({fetchers:new Map(d.fetchers)});let k=new AbortController,P=Ya(t.history,M,k.signal);K.set(b,k);let F=await Qa("loader",P,q,X,n,e,o);if(fo(F)&&(F=await GT(F,P.signal,!0)||F),K.get(b)===k&&K.delete(b),P.signal.aborted)return;if($s(F)){ge.add(b),await be(d,F);return}if(Cu(F)){let z=Rs(d.matches,C);d.fetchers.delete(b),le({fetchers:new Map(d.fetchers),errors:{[z.route.id]:F.error}});return}_e(!fo(F),"Unhandled fetcher deferred data");let J={state:"idle",data:F.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(b,J),le({fetchers:new Map(d.fetchers)})}async function be(b,C,M){var q;let{submission:X,replace:_,isFetchActionRedirect:S}=M===void 0?{}:M;C.revalidate&&(N=!0);let x=rl(b.location,C.location,Ne({_isRedirect:!0},S?{_isFetchActionRedirect:!0}:{}));if(_e(x,"Expected a location on the redirect navigation"),zT.test(C.location)&&WT&&typeof((q=window)==null?void 0:q.location)<"u"){let Y=t.history.createURL(C.location),ue=xa(Y.pathname,o)==null;if(window.location.origin!==Y.origin||ue){_?window.location.replace(C.location):window.location.assign(C.location);return}}E=null;let k=_===!0?St.Replace:St.Push,{formMethod:P,formAction:F,formEncType:J,formData:z}=b.navigation;!X&&P&&F&&z&&J&&(X={formMethod:P,formAction:F,formEncType:J,formData:z}),cP.has(C.status)&&X&&$r(X.formMethod)?await Q(k,x,{submission:Ne({},X,{formAction:C.location}),preventScrollReset:v}):S?await Q(k,x,{overrideNavigation:{state:"loading",location:x,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:X,preventScrollReset:v}):await Q(k,x,{overrideNavigation:{state:"loading",location:x,formMethod:X?X.formMethod:void 0,formAction:X?X.formAction:void 0,formEncType:X?X.formEncType:void 0,formData:X?X.formData:void 0},preventScrollReset:v})}async function De(b,C,M,q,X){let _=await Promise.all([...M.map(k=>Qa("loader",X,k,C,n,e,o)),...q.map(k=>k.matches&&k.match&&k.controller?Qa("loader",Ya(t.history,k.path,k.controller.signal),k.match,k.matches,n,e,o):{type:It.error,error:er(404,{pathname:k.path})})]),S=_.slice(0,M.length),x=_.slice(M.length);return await Promise.all([QS(b,M,S,S.map(()=>X.signal),!1,d.loaderData),QS(b,q.map(k=>k.match),x,q.map(k=>k.controller?k.controller.signal:null),!0)]),{results:_,loaderResults:S,fetcherResults:x}}function Tt(){N=!0,O.push(...dr()),Ce.forEach((b,C)=>{K.has(C)&&(D.push(C),Ue(C))})}function lt(b,C,M){let q=Rs(d.matches,C);Qe(b),le({errors:{[q.route.id]:M},fetchers:new Map(d.fetchers)})}function Qe(b){K.has(b)&&Ue(b),Ce.delete(b),Ge.delete(b),ge.delete(b),d.fetchers.delete(b)}function Ue(b){let C=K.get(b);_e(C,"Expected fetch controller: "+b),C.abort(),K.delete(b)}function mn(b){for(let C of b){let q={state:"idle",data:pe(C).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(C,q)}}function ns(){let b=[],C=!1;for(let M of ge){let q=d.fetchers.get(M);_e(q,"Expected fetcher: "+M),q.state==="loading"&&(ge.delete(M),b.push(M),C=!0)}return mn(b),C}function hi(b){let C=[];for(let[M,q]of Ge)if(q<b){let X=d.fetchers.get(M);_e(X,"Expected fetcher: "+M),X.state==="loading"&&(Ue(M),Ge.delete(M),C.push(M))}return mn(C),C.length>0}function rs(b,C){let M=d.blockers.get(b)||FS;return je.get(b)!==C&&je.set(b,C),M}function fr(b){d.blockers.delete(b),je.delete(b)}function Dr(b,C){let M=d.blockers.get(b)||FS;_e(M.state==="unblocked"&&C.state==="blocked"||M.state==="blocked"&&C.state==="blocked"||M.state==="blocked"&&C.state==="proceeding"||M.state==="blocked"&&C.state==="unblocked"||M.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+C.state),d.blockers.set(b,C),le({blockers:new Map(d.blockers)})}function Pr(b){let{currentLocation:C,nextLocation:M,historyAction:q}=b;if(je.size===0)return;je.size>1&&Zs(!1,"A router only supports one blocker at a time");let X=Array.from(je.entries()),[_,S]=X[X.length-1],x=d.blockers.get(_);if(!(x&&x.state==="proceeding")&&S({currentLocation:C,nextLocation:M,historyAction:q}))return _}function dr(b){let C=[];return mt.forEach((M,q)=>{(!b||b(q))&&(M.cancel(),C.push(q),mt.delete(q))}),C}function is(b,C,M){if(l=b,h=C,c=M||(q=>q.key),!f&&d.navigation===Fp){f=!0;let q=ro(d.location,d.matches);q!=null&&le({restoreScrollPosition:q})}return()=>{l=null,h=null,c=null}}function os(b,C){if(l&&c&&h){let M=C.map(X=>YS(X,d.loaderData)),q=c(b,M)||b.key;l[q]=h()}}function ro(b,C){if(l&&c&&h){let M=C.map(_=>YS(_,d.loaderData)),q=c(b,M)||b.key,X=l[q];if(typeof X=="number")return X}return null}function ss(b){n={},i=Eg(b,e,void 0,n)}return T={get basename(){return o},get state(){return d},get routes(){return r},initialize:W,subscribe:ae,enableScrollRestoration:is,navigate:L,fetch:re,revalidate:j,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:pe,deleteFetcher:Qe,dispose:oe,getBlocker:rs,deleteBlocker:fr,_internalFetchControllers:K,_internalActiveDeferreds:mt,_internalSetRoutes:ss},T}function mP(t){return t!=null&&"formData"in t}function Tg(t,e,n,r,i,o,s){let a,u;if(o!=null&&s!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===o){u=c;break}}else a=e,u=e[e.length-1];let l=_y(i||".",Qf(a).map(c=>c.pathnameBase),xa(t.pathname,n)||t.pathname,s==="path");return i==null&&(l.search=t.search,l.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Ty(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(l.pathname=l.pathname==="/"?n:Kr([n,l.pathname])),Ro(l)}function US(t,e,n,r){if(!r||!mP(r))return{path:n};if(r.formMethod&&!_P(r.formMethod))return{path:n,error:er(405,{method:r.formMethod})};let i;if(r.formData){let a=r.formMethod||"get";if(i={formMethod:t?a.toUpperCase():a.toLowerCase(),formAction:KT(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},$r(i.formMethod))return{path:n,submission:i}}let o=ai(n),s=qT(r.formData);return e&&o.search&&Ty(o.search)&&s.append("index",""),o.search="?"+s,{path:Ro(o),submission:i}}function gP(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function BS(t,e,n,r,i,o,s,a,u,l,c,h,f){let m=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,g=t.createURL(e.location),w=t.createURL(i),T=f?Object.keys(f)[0]:void 0,p=gP(n,T).filter((E,A)=>{if(E.route.lazy)return!0;if(E.route.loader==null)return!1;if(vP(e.loaderData,e.matches[A],E)||s.some(D=>D===E.route.id))return!0;let N=e.matches[A],O=E;return zS(E,Ne({currentUrl:g,currentParams:N.params,nextUrl:w,nextParams:O.params},r,{actionResult:m,defaultShouldRevalidate:o||g.pathname+g.search===w.pathname+w.search||g.search!==w.search||HT(N,O)}))}),v=[];return u.forEach((E,A)=>{if(!n.some(K=>K.route.id===E.routeId))return;let N=Cs(l,E.path,c);if(!N){v.push({key:A,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let O=Ig(N,E.path);if(a.includes(A)){v.push({key:A,routeId:E.routeId,path:E.path,matches:N,match:O,controller:new AbortController});return}zS(O,Ne({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:o}))&&v.push({key:A,routeId:E.routeId,path:E.path,matches:N,match:O,controller:new AbortController})}),[p,v]}function vP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function HT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function zS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function WS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_e(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";Zs(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!VD.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ne({},e(i),{lazy:void 0}))}async function Qa(t,e,n,r,i,o,s,a,u,l){a===void 0&&(a=!1),u===void 0&&(u=!1);let c,h,f,m=T=>{let d,p=new Promise((v,E)=>d=E);return f=()=>d(),e.signal.addEventListener("abort",f),Promise.race([T({request:e,params:n.params,context:l}),p])};try{let T=n.route[t];if(n.route.lazy)if(T)h=(await Promise.all([m(T),WS(n.route,o,i)]))[0];else if(await WS(n.route,o,i),T=n.route[t],T)h=await m(T);else if(t==="action"){let d=new URL(e.url),p=d.pathname+d.search;throw er(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:It.data,data:void 0};else if(T)h=await m(T);else{let d=new URL(e.url),p=d.pathname+d.search;throw er(404,{pathname:p})}_e(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(T){c=It.error,h=T}finally{f&&e.signal.removeEventListener("abort",f)}if(bP(h)){let T=h.status;if(lP.has(T)){let v=h.headers.get("Location");if(_e(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!zT.test(v))v=Tg(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,v);else if(!a){let E=new URL(e.url),A=v.startsWith("//")?new URL(E.protocol+v):new URL(v),N=xa(A.pathname,s)!=null;A.origin===E.origin&&N&&(v=A.pathname+A.search+A.hash)}if(a)throw h.headers.set("Location",v),h;return{type:It.redirect,status:T,location:v,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(u)throw{type:c||It.data,response:h};let d,p=h.headers.get("Content-Type");return p&&/\bapplication\/json\b/.test(p)?d=await h.json():d=await h.text(),c===It.error?{type:c,error:new Ey(T,h.statusText,d),headers:h.headers}:{type:It.data,data:d,statusCode:h.status,headers:h.headers}}if(c===It.error)return{type:c,error:h};if(SP(h)){var g,w;return{type:It.deferred,deferredData:h,statusCode:(g=h.init)==null?void 0:g.status,headers:((w=h.init)==null?void 0:w.headers)&&new Headers(h.init.headers)}}return{type:It.data,data:h}}function Ya(t,e,n,r){let i=t.createURL(KT(e)).toString(),o={signal:n};if(r&&$r(r.formMethod)){let{formMethod:s,formEncType:a,formData:u}=r;o.method=s.toUpperCase(),o.body=a==="application/x-www-form-urlencoded"?qT(u):u}return new Request(i,o)}function qT(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function yP(t,e,n,r,i){let o={},s=null,a,u=!1,l={};return n.forEach((c,h)=>{let f=e[h].route.id;if(_e(!$s(c),"Cannot handle redirect results in processLoaderData"),Cu(c)){let m=Rs(t,f),g=c.error;r&&(g=Object.values(r)[0],r=void 0),s=s||{},s[m.route.id]==null&&(s[m.route.id]=g),o[f]=void 0,u||(u=!0,a=UT(c.error)?c.error.status:500),c.headers&&(l[f]=c.headers)}else fo(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!u&&(a=c.statusCode),c.headers&&(l[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:l}}function HS(t,e,n,r,i,o,s,a){let{loaderData:u,errors:l}=yP(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:h,match:f,controller:m}=o[c];_e(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let g=s[c];if(!(m&&m.signal.aborted))if(Cu(g)){let w=Rs(t.matches,f==null?void 0:f.route.id);l&&l[w.route.id]||(l=Ne({},l,{[w.route.id]:g.error})),t.fetchers.delete(h)}else if($s(g))_e(!1,"Unhandled fetcher revalidation redirect");else if(fo(g))_e(!1,"Unhandled fetcher deferred data");else{let w={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(h,w)}}return{loaderData:u,errors:l}}function qS(t,e,n,r){let i=Ne({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Rs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function KS(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function er(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(a="defer() is not supported in actions")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Ey(t||500,s,new Error(a),!0)}function GS(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if($s(n))return n}}function KT(t){let e=typeof t=="string"?ai(t):t;return Ro(Ne({},e,{hash:""}))}function wP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function fo(t){return t.type===It.deferred}function Cu(t){return t.type===It.error}function $s(t){return(t&&t.type)===It.redirect}function SP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function _P(t){return uP.has(t.toLowerCase())}function $r(t){return sP.has(t.toLowerCase())}async function QS(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],u=e[s];if(!u)continue;let l=t.find(h=>h.route.id===u.route.id),c=l!=null&&!HT(l,u)&&(o&&o[u.route.id])!==void 0;if(fo(a)&&(i||c)){let h=r[s];_e(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await GT(a,h,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function GT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:It.data,data:t.deferredData.unwrappedData}}catch(i){return{type:It.error,error:i}}return{type:It.data,data:t.deferredData.data}}}function Ty(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function YS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Ig(t,e){let n=typeof e=="string"?ai(e).search:e.search;if(t[t.length-1].route.index&&Ty(n||""))return t[t.length-1];let r=Qf(t);return r[r.length-1]}/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}const Yf=R.createContext(null),QT=R.createContext(null),Ca=R.createContext(null),Xf=R.createContext(null),Xi=R.createContext({outlet:null,matches:[],isDataRoute:!1}),YT=R.createContext(null);function EP(t,e){let{relative:n}=e===void 0?{}:e;Cl()||_e(!1);let{basename:r,navigator:i}=R.useContext(Ca),{hash:o,pathname:s,search:a}=ZT(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Kr([r,s])),i.createHref({pathname:u,search:a,hash:o})}function Cl(){return R.useContext(Xf)!=null}function Jf(){return Cl()||_e(!1),R.useContext(Xf).location}function XT(t){R.useContext(Ca).static||R.useLayoutEffect(t)}function Ar(){let{isDataRoute:t}=R.useContext(Xi);return t?LP():TP()}function TP(){Cl()||_e(!1);let t=R.useContext(Yf),{basename:e,navigator:n}=R.useContext(Ca),{matches:r}=R.useContext(Xi),{pathname:i}=Jf(),o=JSON.stringify(Qf(r).map(u=>u.pathnameBase)),s=R.useRef(!1);return XT(()=>{s.current=!0}),R.useCallback(function(u,l){if(l===void 0&&(l={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let c=_y(u,JSON.parse(o),i,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Kr([e,c.pathname])),(l.replace?n.replace:n.push)(c,l.state,l)},[e,n,o,i,t])}function JT(){let{matches:t}=R.useContext(Xi),e=t[t.length-1];return e?e.params:{}}function ZT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=R.useContext(Xi),{pathname:i}=Jf(),o=JSON.stringify(Qf(r).map(s=>s.pathnameBase));return R.useMemo(()=>_y(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function IP(t,e,n){Cl()||_e(!1);let{navigator:r}=R.useContext(Ca),{matches:i}=R.useContext(Xi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=Jf(),l;if(e){var c;let w=typeof e=="string"?ai(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||_e(!1),l=w}else l=u;let h=l.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",m=Cs(t,{pathname:f}),g=AP(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Kr([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Kr([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&g?R.createElement(Xf.Provider,{value:{location:Bh({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:St.Pop}},g):g}function xP(){let t=PP(),e=UT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,o)}const CP=R.createElement(xP,null);class RP extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?R.createElement(Xi.Provider,{value:this.props.routeContext},R.createElement(YT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kP(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Yf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Xi.Provider,{value:e},r)}function AP(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id]));a>=0||_e(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,u,l)=>{let c=u.route.id?s==null?void 0:s[u.route.id]:null,h=null;n&&(h=u.route.errorElement||CP);let f=e.concat(o.slice(0,l+1)),m=()=>{let g;return c?g=h:u.route.Component?g=R.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=a,R.createElement(kP,{match:u,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?R.createElement(RP,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var xg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(xg||(xg={}));var il;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(il||(il={}));function NP(t){let e=R.useContext(Yf);return e||_e(!1),e}function OP(t){let e=R.useContext(QT);return e||_e(!1),e}function DP(t){let e=R.useContext(Xi);return e||_e(!1),e}function eI(t){let e=DP(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function PP(){var t;let e=R.useContext(YT),n=OP(il.UseRouteError),r=eI(il.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function LP(){let{router:t}=NP(xg.UseNavigateStable),e=eI(il.UseNavigateStable),n=R.useRef(!1);return XT(()=>{n.current=!0}),R.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bh({fromRouteId:e},o)))},[t,e])}function MP(t){let{fallbackElement:e,router:n}=t,[r,i]=R.useState(n.state);R.useLayoutEffect(()=>n.subscribe(i),[n,i]);let o=R.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:u=>n.navigate(u),push:(u,l,c)=>n.navigate(u,{state:l,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(u,l,c)=>n.navigate(u,{replace:!0,state:l,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),s=n.basename||"/",a=R.useMemo(()=>({router:n,navigator:o,static:!1,basename:s}),[n,o,s]);return R.createElement(R.Fragment,null,R.createElement(Yf.Provider,{value:a},R.createElement(QT.Provider,{value:r},R.createElement(jP,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o},n.state.initialized?R.createElement($P,{routes:n.routes,state:r}):e))),null)}function $P(t){let{routes:e,state:n}=t;return IP(e,void 0,n)}function jP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=St.Pop,navigator:o,static:s=!1}=t;Cl()&&_e(!1);let a=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=ai(r));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:m="default"}=r,g=R.useMemo(()=>{let w=xa(l,a);return w==null?null:{location:{pathname:w,search:c,hash:h,state:f,key:m},navigationType:i}},[a,l,c,h,f,m,i]);return g==null?null:R.createElement(Ca.Provider,{value:u},R.createElement(Xf.Provider,{children:n,value:g}))}var XS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(XS||(XS={}));new Promise(()=>{});function VP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:R.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:R.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function FP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BP(t,e){return t.button===0&&(!e||e==="_self")&&!UP(t)}const zP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function WP(t,e){return pP({basename:e==null?void 0:e.basename,future:ol({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:MD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||HP(),routes:t,mapRouteProperties:VP}).initialize()}function HP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ol({},e,{errors:qP(e.errors)})),e}function qP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ey(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const KP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ea=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:u,to:l,preventScrollReset:c}=e,h=FP(e,zP),{basename:f}=R.useContext(Ca),m,g=!1;if(typeof l=="string"&&GP.test(l)&&(m=l,KP))try{let p=new URL(window.location.href),v=l.startsWith("//")?new URL(p.protocol+l):new URL(l),E=xa(v.pathname,f);v.origin===p.origin&&E!=null?l=E+v.search+v.hash:g=!0}catch{}let w=EP(l,{relative:i}),T=QP(l,{replace:s,state:a,target:u,preventScrollReset:c,relative:i});function d(p){r&&r(p),p.defaultPrevented||T(p)}return R.createElement("a",ol({},h,{href:m||w,onClick:g||o?r:d,ref:n,target:u}))});var JS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(JS||(JS={}));var ZS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ZS||(ZS={}));function QP(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Ar(),u=Jf(),l=ZT(t,{relative:s});return R.useCallback(c=>{if(BP(c,n)){c.preventDefault();let h=r!==void 0?r:Ro(u)===Ro(l);a(t,{replace:h,state:i,preventScrollReset:o,relative:s})}},[u,a,l,r,i,n,t,o,s])}function YP(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var XP=YP,we=XP;function JP(t){return!!t&&typeof t.then=="function"}var He=JP;function ZP(t,e){if(t!=null)return t;throw we(e??"Got unexpected null or undefined")}var Je=ZP;function ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Zf{getValue(){throw we("BaseLoadable")}toPromise(){throw we("BaseLoadable")}valueMaybe(){throw we("BaseLoadable")}valueOrThrow(){throw we(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw we("BaseLoadable")}promiseOrThrow(){throw we(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw we("BaseLoadable")}errorOrThrow(){throw we(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw we("BaseLoadable")}}class eL extends Zf{constructor(e){super(),ve(this,"state","hasValue"),ve(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return He(n)?ko(n):ta(n)?n:Rl(n)}catch(n){return He(n)?ko(n.next(()=>this.map(e))):ed(n)}}}class tL extends Zf{constructor(e){super(),ve(this,"state","hasError"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class tI extends Zf{constructor(e){super(),ve(this,"state","loading"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ko(this.contents.then(n=>{const r=e(n);if(ta(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(He(n))return n.then(()=>this.map(e).contents);throw n}))}}function Rl(t){return Object.freeze(new eL(t))}function ed(t){return Object.freeze(new tL(t))}function ko(t){return Object.freeze(new tI(t))}function nI(){return Object.freeze(new tI(new Promise(()=>{})))}function nL(t){return t.every(e=>e.state==="hasValue")?Rl(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?ed(Je(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ko(Promise.all(t.map(e=>e.contents)))}function rI(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>ta(i)?i:He(i)?ko(i):Rl(i)),r=nL(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function ta(t){return t instanceof Zf}const rL={of:t=>He(t)?ko(t):ta(t)?t:Rl(t),error:t=>ed(t),loading:()=>nI(),all:rI,isLoadable:ta};var zo={loadableWithValue:Rl,loadableWithError:ed,loadableWithPromise:ko,loadableLoading:nI,loadableAll:rI,isLoadable:ta,RecoilLoadable:rL},iL=zo.loadableWithValue,oL=zo.loadableWithError,sL=zo.loadableWithPromise,aL=zo.loadableLoading,uL=zo.loadableAll,lL=zo.isLoadable,cL=zo.RecoilLoadable,kl=Object.freeze({__proto__:null,loadableWithValue:iL,loadableWithError:oL,loadableWithPromise:sL,loadableLoading:aL,loadableAll:uL,isLoadable:lL,RecoilLoadable:cL});const Cg={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function hL(t,e){var n,r;const i=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw we(`({}).${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function fL(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function dL(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(hL("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Cg.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),fL("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Cg.RECOIL_GKS_ENABLED.add(n)})}))}dL();var Ra=Cg;function td(t){return Ra.RECOIL_GKS_ENABLED.has(t)}td.setPass=t=>{Ra.RECOIL_GKS_ENABLED.add(t)};td.setFail=t=>{Ra.RECOIL_GKS_ENABLED.delete(t)};td.clear=()=>{Ra.RECOIL_GKS_ENABLED.clear()};var Ve=td;function pL(t,e,{error:n}={}){return null}var mL=pL,Iy=mL,Up,Bp,zp;const gL=(Up=Ze.createMutableSource)!==null&&Up!==void 0?Up:Ze.unstable_createMutableSource,iI=(Bp=Ze.useMutableSource)!==null&&Bp!==void 0?Bp:Ze.unstable_useMutableSource,oI=(zp=Ze.useSyncExternalStore)!==null&&zp!==void 0?zp:Ze.unstable_useSyncExternalStore;function vL(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function yL(){return Ve("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ve("recoil_sync_external_store")&&oI!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ve("recoil_mutable_source")&&iI!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ve("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ve("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function wL(){return!1}var Al={createMutableSource:gL,useMutableSource:iI,useSyncExternalStore:oI,currentRendererSupportsUseSyncExternalStore:vL,reactMode:yL,isFastRefreshEnabled:wL};class xy{constructor(e){ve(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class sI extends xy{}class aI extends xy{}function SL(t){return t instanceof sI||t instanceof aI}var nd={AbstractRecoilValue:xy,RecoilState:sI,RecoilValueReadOnly:aI,isRecoilValue:SL},bL=nd.AbstractRecoilValue,_L=nd.RecoilState,EL=nd.RecoilValueReadOnly,TL=nd.isRecoilValue,na=Object.freeze({__proto__:null,AbstractRecoilValue:bL,RecoilState:_L,RecoilValueReadOnly:EL,isRecoilValue:TL});function IL(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var rd=IL;class uI{}const xL=new uI,Ao=new Map,Cy=new Map;function CL(t){return rd(t,e=>Je(Cy.get(e)))}function RL(t){if(Ao.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function kL(t){Ra.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&RL(t.key),Ao.set(t.key,t);const e=t.set==null?new na.RecoilValueReadOnly(t.key):new na.RecoilState(t.key);return Cy.set(t.key,e),e}class lI extends Error{}function AL(t){const e=Ao.get(t);if(e==null)throw new lI(`Missing definition for RecoilValue: "${t}""`);return e}function NL(t){return Ao.get(t)}const zh=new Map;function OL(t){var e;if(!Ve("recoil_memory_managament_2020"))return;const n=Ao.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Ao.delete(t),(r=cI(t))===null||r===void 0||r(),zh.delete(t)}}function DL(t,e){Ve("recoil_memory_managament_2020")&&(e===void 0?zh.delete(t):zh.set(t,e))}function cI(t){return zh.get(t)}var In={nodes:Ao,recoilValues:Cy,registerNode:kL,getNode:AL,getNodeMaybe:NL,deleteNodeConfigIfPossible:OL,setConfigDeletionHandler:DL,getConfigDeletionHandler:cI,recoilValuesForKeys:CL,NodeMissingError:lI,DefaultValue:uI,DEFAULT_VALUE:xL};function PL(t,e){e()}var LL={enqueueExecution:PL};function ML(t,e){return e={exports:{}},t(e,e.exports),e.exports}var $L=ML(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,u={},l=function(S){return function(){return S}},c=n.hash=function(_){var S=typeof _>"u"?"undefined":e(_);if(S==="number")return _;S!=="string"&&(_+="");for(var x=0,k=0,P=_.length;k<P;++k){var F=_.charCodeAt(k);x=(x<<5)-x+F|0}return x},h=function(S){return S-=S>>1&1431655765,S=(S&858993459)+(S>>2&858993459),S=S+(S>>4)&252645135,S+=S>>8,S+=S>>16,S&127},f=function(S,x){return x>>>S&o},m=function(S){return 1<<S},g=function(S,x){return h(S&x-1)},w=function(S,x,k,P){var F=P;if(!S){var J=P.length;F=new Array(J);for(var z=0;z<J;++z)F[z]=P[z]}return F[x]=k,F},T=function(S,x,k){var P=k.length-1,F=0,J=0,z=k;if(S)F=J=x;else for(z=new Array(P);F<x;)z[J++]=k[F++];for(++F;F<=P;)z[J++]=k[F++];return S&&(z.length=P),z},d=function(S,x,k,P){var F=P.length;if(S){for(var J=F;J>=x;)P[J--]=P[J];return P[x]=k,P}for(var z=0,Y=0,ue=new Array(F+1);z<x;)ue[Y++]=P[z++];for(ue[x]=k;z<F;)ue[++Y]=P[z++];return ue},p=1,v=2,E=3,A=4,N={__hamt_isEmpty:!0},O=function(S){return S===N||S&&S.__hamt_isEmpty},D=function(S,x,k,P){return{type:p,edit:S,hash:x,key:k,value:P,_modify:W}},K=function(S,x,k){return{type:v,edit:S,hash:x,children:k,_modify:oe}},ne=function(S,x,k){return{type:E,edit:S,mask:x,children:k,_modify:ae}},Ae=function(S,x,k){return{type:A,edit:S,size:x,children:k,_modify:le}},Ge=function(S){return S===N||S.type===p||S.type===v},ge=function(S,x,k,P,F){for(var J=[],z=P,Y=0,ue=0;z;++ue)z&1&&(J[ue]=F[Y++]),z>>>=1;return J[x]=k,Ae(S,Y+1,J)},Ce=function(S,x,k,P){for(var F=new Array(x-1),J=0,z=0,Y=0,ue=P.length;Y<ue;++Y)if(Y!==k){var Pe=P[Y];Pe&&!O(Pe)&&(F[J++]=Pe,z|=1<<Y)}return ne(S,z,F)},mt=function _(S,x,k,P,F,J){if(k===F)return K(S,k,[J,P]);var z=f(x,k),Y=f(x,F);return ne(S,m(z)|m(Y),z===Y?[_(S,x+r,k,P,F,J)]:z<Y?[P,J]:[J,P])},je=function(S,x,k,P,F,J,z,Y){for(var ue=F.length,Pe=0;Pe<ue;++Pe){var kt=F[Pe];if(k(z,kt.key)){var nt=kt.value,gt=J(nt);return gt===nt?F:gt===u?(--Y.value,T(S,Pe,F)):w(S,Pe,D(x,P,z,gt),F)}}var qt=J();return qt===u?F:(++Y.value,w(S,ue,D(x,P,z,qt),F))},et=function(S,x){return S===x.edit},W=function(S,x,k,P,F,J,z){if(x(J,this.key)){var Y=P(this.value);return Y===this.value?this:Y===u?(--z.value,N):et(S,this)?(this.value=Y,this):D(S,F,J,Y)}var ue=P();return ue===u?this:(++z.value,mt(S,k,this.hash,this,F,D(S,F,J,ue)))},oe=function(S,x,k,P,F,J,z){if(F===this.hash){var Y=et(S,this),ue=je(Y,S,x,this.hash,this.children,P,J,z);return ue===this.children?this:ue.length>1?K(S,this.hash,ue):ue[0]}var Pe=P();return Pe===u?this:(++z.value,mt(S,k,this.hash,this,F,D(S,F,J,Pe)))},ae=function(S,x,k,P,F,J,z){var Y=this.mask,ue=this.children,Pe=f(k,F),kt=m(Pe),nt=g(Y,kt),gt=Y&kt,qt=gt?ue[nt]:N,pr=qt._modify(S,x,k+r,P,F,J,z);if(qt===pr)return this;var fi=et(S,this),Lr=Y,mr=void 0;if(gt&&O(pr)){if(Lr&=~kt,!Lr)return N;if(ue.length<=2&&Ge(ue[nt^1]))return ue[nt^1];mr=T(fi,nt,ue)}else if(!gt&&!O(pr)){if(ue.length>=s)return ge(S,Pe,pr,Y,ue);Lr|=kt,mr=d(fi,nt,pr,ue)}else mr=w(fi,nt,pr,ue);return fi?(this.mask=Lr,this.children=mr,this):ne(S,Lr,mr)},le=function(S,x,k,P,F,J,z){var Y=this.size,ue=this.children,Pe=f(k,F),kt=ue[Pe],nt=(kt||N)._modify(S,x,k+r,P,F,J,z);if(kt===nt)return this;var gt=et(S,this),qt=void 0;if(O(kt)&&!O(nt))++Y,qt=w(gt,Pe,nt,ue);else if(!O(kt)&&O(nt)){if(--Y,Y<=a)return Ce(S,Y,Pe,ue);qt=w(gt,Pe,N,ue)}else qt=w(gt,Pe,nt,ue);return gt?(this.size=Y,this.children=qt,this):Ae(S,Y,qt)};N._modify=function(_,S,x,k,P,F,J){var z=k();return z===u?N:(++J.value,D(_,P,F,z))};function I(_,S,x,k,P){this._editable=_,this._edit=S,this._config=x,this._root=k,this._size=P}I.prototype.setTree=function(_,S){return this._editable?(this._root=_,this._size=S,this):_===this._root?this:new I(this._editable,this._edit,this._config,_,S)};var L=n.tryGetHash=function(_,S,x,k){for(var P=k._root,F=0,J=k._config.keyEq;;)switch(P.type){case p:return J(x,P.key)?P.value:_;case v:{if(S===P.hash)for(var z=P.children,Y=0,ue=z.length;Y<ue;++Y){var Pe=z[Y];if(J(x,Pe.key))return Pe.value}return _}case E:{var kt=f(F,S),nt=m(kt);if(P.mask&nt){P=P.children[g(P.mask,nt)],F+=r;break}return _}case A:{if(P=P.children[f(F,S)],P){F+=r;break}return _}default:return _}};I.prototype.tryGetHash=function(_,S,x){return L(_,S,x,this)};var j=n.tryGet=function(_,S,x){return L(_,x._config.hash(S),S,x)};I.prototype.tryGet=function(_,S){return j(_,S,this)};var Q=n.getHash=function(_,S,x){return L(void 0,_,S,x)};I.prototype.getHash=function(_,S){return Q(_,S,this)},n.get=function(_,S){return L(void 0,S._config.hash(_),_,S)},I.prototype.get=function(_,S){return j(S,_,this)};var H=n.has=function(_,S,x){return L(u,_,S,x)!==u};I.prototype.hasHash=function(_,S){return H(_,S,this)};var ce=n.has=function(_,S){return H(S._config.hash(_),_,S)};I.prototype.has=function(_){return ce(_,this)};var pe=function(S,x){return S===x};n.make=function(_){return new I(0,0,{keyEq:_&&_.keyEq||pe,hash:_&&_.hash||c},N,0)},n.empty=n.make();var re=n.isEmpty=function(_){return _&&!!O(_._root)};I.prototype.isEmpty=function(){return re(this)};var Le=n.modifyHash=function(_,S,x,k){var P={value:k._size},F=k._root._modify(k._editable?k._edit:NaN,k._config.keyEq,0,_,S,x,P);return k.setTree(F,P.value)};I.prototype.modifyHash=function(_,S,x){return Le(x,_,S,this)};var tt=n.modify=function(_,S,x){return Le(_,x._config.hash(S),S,x)};I.prototype.modify=function(_,S){return tt(S,_,this)};var be=n.setHash=function(_,S,x,k){return Le(l(x),_,S,k)};I.prototype.setHash=function(_,S,x){return be(_,S,x,this)};var De=n.set=function(_,S,x){return be(x._config.hash(_),_,S,x)};I.prototype.set=function(_,S){return De(_,S,this)};var Tt=l(u),lt=n.removeHash=function(_,S,x){return Le(Tt,_,S,x)};I.prototype.removeHash=I.prototype.deleteHash=function(_,S){return lt(_,S,this)};var Qe=n.remove=function(_,S){return lt(S._config.hash(_),_,S)};I.prototype.remove=I.prototype.delete=function(_){return Qe(_,this)};var Ue=n.beginMutation=function(_){return new I(_._editable+1,_._edit+1,_._config,_._root,_._size)};I.prototype.beginMutation=function(){return Ue(this)};var mn=n.endMutation=function(_){return _._editable=_._editable&&_._editable-1,_};I.prototype.endMutation=function(){return mn(this)};var ns=n.mutate=function(_,S){var x=Ue(S);return _(x),mn(x)};I.prototype.mutate=function(_){return ns(_,this)};var hi=function(S){return S&&rs(S[0],S[1],S[2],S[3],S[4])},rs=function(S,x,k,P,F){for(;k<S;){var J=x[k++];if(J&&!O(J))return fr(J,P,[S,x,k,P,F])}return hi(F)},fr=function(S,x,k){switch(S.type){case p:return{value:x(S),rest:k};case v:case A:case E:var P=S.children;return rs(P.length,P,0,x,k);default:return hi(k)}},Dr={done:!0};function Pr(_){this.v=_}Pr.prototype.next=function(){if(!this.v)return Dr;var _=this.v;return this.v=hi(_.rest),_},Pr.prototype[Symbol.iterator]=function(){return this};var dr=function(S,x){return new Pr(fr(S._root,x))},is=function(S){return[S.key,S.value]},os=n.entries=function(_){return dr(_,is)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return os(this)};var ro=function(S){return S.key},ss=n.keys=function(_){return dr(_,ro)};I.prototype.keys=function(){return ss(this)};var b=function(S){return S.value},C=n.values=I.prototype.values=function(_){return dr(_,b)};I.prototype.values=function(){return C(this)};var M=n.fold=function(_,S,x){var k=x._root;if(k.type===p)return _(S,k.value,k.key);for(var P=[k.children],F=void 0;F=P.pop();)for(var J=0,z=F.length;J<z;){var Y=F[J++];Y&&Y.type&&(Y.type===p?S=_(S,Y.value,Y.key):P.push(Y.children))}return S};I.prototype.fold=function(_,S){return M(_,S,this)};var q=n.forEach=function(_,S){return M(function(x,k,P){return _(k,P,S)},null,S)};I.prototype.forEach=function(_){return q(_,this)};var X=n.count=function(_){return _._size};I.prototype.count=function(){return X(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class jL{constructor(e){ve(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return ky(this)}toMap(){return new Map(this._map)}}class Ry{constructor(e){if(ve(this,"_hamt",$L.empty.beginMutation()),e instanceof Ry){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return ky(this)}toMap(){return new Map(this._hamt)}}function ky(t){return Ve("recoil_hamt_2020")?new Ry(t):new jL(t)}var VL={persistentMap:ky},FL=VL.persistentMap,UL=Object.freeze({__proto__:null,persistentMap:FL});function BL(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Ru=BL;function zL(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Wh=zL;function WL(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function HL(t){return{nodeDeps:Wh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Wh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Wp(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:Ru(e,s);for(const u of a)o.has(u)||o.set(u,new Set),Je(o.get(u)).add(t);if(s){const u=Ru(s,e);for(const l of u){if(!o.has(l))return;const c=Je(o.get(l));c.delete(t),c.size===0&&o.delete(l)}}}function qL(t,e,n,r){var i,o,s,a;const u=n.getState();r===u.currentTree.version||r===((i=u.nextTree)===null||i===void 0?void 0:i.version)||((o=u.previousTree)===null||o===void 0||o.version);const l=n.getGraph(r);if(Wp(t,e,l),r===((s=u.previousTree)===null||s===void 0?void 0:s.version)){const h=n.getGraph(u.currentTree.version);Wp(t,e,h,l)}if(r===((a=u.previousTree)===null||a===void 0?void 0:a.version)||r===u.currentTree.version){var c;const h=(c=u.nextTree)===null||c===void 0?void 0:c.version;if(h!==void 0){const f=n.getGraph(h);Wp(t,e,f,l)}}}var Nl={cloneGraph:HL,graph:WL,saveDepsToStore:qL};let KL=0;const GL=()=>KL++;let QL=0;const YL=()=>QL++;let XL=0;const JL=()=>XL++;var id={getNextTreeStateVersion:GL,getNextStoreID:YL,getNextComponentID:JL};const{persistentMap:eb}=UL,{graph:ZL}=Nl,{getNextTreeStateVersion:hI}=id;function fI(){const t=hI();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:eb(),nonvalidatedAtoms:eb()}}function eM(){const t=fI();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,ZL()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var dI={makeEmptyTreeState:fI,makeEmptyStoreState:eM,getNextTreeStateVersion:hI};class pI{}function tM(){return new pI}var od={RetentionZone:pI,retentionZone:tM};function nM(t,e){const n=new Set(t);return n.add(e),n}function rM(t,e){const n=new Set(t);return n.delete(e),n}function iM(t,e,n){const r=new Map(t);return r.set(e,n),r}function oM(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function sM(t,e){const n=new Map(t);return n.delete(e),n}function aM(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var mI={setByAddingToSet:nM,setByDeletingFromSet:rM,mapBySettingInMap:iM,mapByUpdatingInMap:oM,mapByDeletingFromMap:sM,mapByDeletingMultipleFromMap:aM};function*uM(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Ay=uM;function lM(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var gI=lM;const{getNode:Ol,getNodeMaybe:cM,recoilValuesForKeys:tb}=In,{RetentionZone:nb}=od,{setByAddingToSet:hM}=mI,fM=Object.freeze(new Set);class dM extends Error{}function pM(t,e,n){if(!Ve("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof nb)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!Ve("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const u=o.nodesRetainedByZone.get(a);u==null||u.delete(e),u&&u.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof nb)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function Ny(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Ol(n),s=pM(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function mM(t,e,n){Ny(t,t.getState().currentTree,e,n)}function gM(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function vM(t,e,n){return Ny(t,e,n,"get"),Ol(n).get(t,e)}function vI(t,e,n){return Ol(n).peek(t,e)}function yM(t,e,n){var r;const i=cM(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:hM(t.dirtyAtoms,e)}}function wM(t,e,n,r){const i=Ol(n);if(i.set==null)throw new dM(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Ny(t,e,n,"set"),o(t,e,r)}function SM(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=Ol(n).nodeType;return gI({type:o},{loadable:()=>vI(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return tb((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:tb(Ay(yI(t,e,new Set([n])),u=>u!==n)),components:rd((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([u])=>({name:u}))}}})}function yI(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const u=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:fM;for(const l of u)r.has(l)||i.push(l)}return r}var Ji={getNodeLoadable:vM,peekNodeLoadable:vI,setNodeValue:wM,initializeNode:mM,cleanUpNode:gM,setUnvalidatedAtomValue_DEPRECATED:yM,peekNodeInfo:SM,getDownstreamNodes:yI};let wI=null;function bM(t){wI=t}function _M(){var t;(t=wI)===null||t===void 0||t()}var SI={setInvalidateMemoizedSnapshot:bM,invalidateMemoizedSnapshot:_M};const{getDownstreamNodes:EM,getNodeLoadable:bI,setNodeValue:TM}=Ji,{getNextComponentID:IM}=id,{getNode:xM,getNodeMaybe:_I}=In,{DefaultValue:Oy}=In,{reactMode:CM}=Al,{AbstractRecoilValue:RM,RecoilState:kM,RecoilValueReadOnly:AM,isRecoilValue:NM}=na,{invalidateMemoizedSnapshot:OM}=SI;function DM(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=bI(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function PM(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Oy?n.delete(i):n.set(i,r)}),n}function LM(t,e,{key:n},r){if(typeof r=="function"){const i=bI(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw we(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function MM(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=LM(t,e,i,o),a=TM(t,e,i.key,s);for(const[u,l]of a.entries())Rg(e,u,l)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;Rg(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=_I(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else Iy(`Unknown action ${n.type}`)}function Rg(t,e,n){n.state==="hasValue"&&n.contents instanceof Oy?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function EI(t,e){t.replaceState(n=>{const r=TI(n);for(const i of e)MM(t,r,i);return II(t,r),OM(),r})}function sd(t,e){if(ku.length){const n=ku[ku.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else EI(t,[e])}const ku=[];function $M(){const t=new Map;return ku.push(t),()=>{for(const[e,n]of t)EI(e,n);ku.pop()}}function TI(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function II(t,e){const n=EM(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=_I(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function xI(t,e,n){sd(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function jM(t,e,n){if(n instanceof Oy)return xI(t,e,n);sd(t,{type:"setLoadable",recoilValue:e,loadable:n})}function VM(t,e){sd(t,{type:"markModified",recoilValue:e})}function FM(t,e,n){sd(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function UM(t,{key:e},n,r=null){const i=IM(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),Je(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const s=CM();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),u=a.nodeToComponentSubscriptions.get(e);u===void 0||!u.has(i)||(u.delete(i),u.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function BM(t,e){var n;const{currentTree:r}=t.getState(),i=xM(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Nr={RecoilValueReadOnly:AM,AbstractRecoilValue:RM,RecoilState:kM,getRecoilValueAsLoadable:DM,setRecoilValue:xI,setRecoilValueLoadable:jM,markRecoilValueModified:VM,setUnvalidatedRecoilValue:FM,subscribeToRecoilValue:UM,isRecoilValue:NM,applyAtomValueWrites:PM,batchStart:$M,writeLoadableToTreeState:Rg,invalidateDownstreams:II,copyTreeState:TI,refreshRecoilValue:BM};function zM(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var WM=zM;const{cleanUpNode:HM}=Ji,{deleteNodeConfigIfPossible:qM,getNode:CI}=In,{RetentionZone:RI}=od,KM=12e4,kI=new Set;function AI(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof RI)for(const a of XM(n,s))i.add(a);else i.add(s);const o=GM(t,i);for(const s of o)YM(t,r,s)}function GM(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(u){const l=new Set,c=QM(t,r,u,o,s);for(const g of c){var h;if(CI(g).retainedBy==="recoilRoot"){s.add(g);continue}if(((h=n.retention.referenceCounts.get(g))!==null&&h!==void 0?h:0)>0){s.add(g);continue}if(NI(g).some(T=>n.retention.referenceCounts.get(T))){s.add(g);continue}const w=i.nodeToNodeSubscriptions.get(g);if(w&&WM(w,T=>s.has(T))){s.add(g);continue}o.add(g),l.add(g)}const f=new Set;for(const g of l)for(const w of(m=i.nodeDeps.get(g))!==null&&m!==void 0?m:kI){var m;o.has(w)||f.add(w)}f.size&&a(f)}}function QM(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)u(Je(n.values().next().value));return s;function u(l){if(r.has(l)||i.has(l)){n.delete(l);return}if(a.has(l))return;const c=o.nodeToNodeSubscriptions.get(l);if(c)for(const h of c)u(h);a.add(l),n.delete(l),s.push(l)}}function YM(t,e,n){if(!Ve("recoil_memory_managament_2020"))return;HM(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=NI(n);for(const u of i){var o;(o=r.retention.nodesRetainedByZone.get(u))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const u=s.nodeDeps.get(n);if(u!==void 0){s.nodeDeps.delete(n);for(const l of u){var a;(a=s.nodeToNodeSubscriptions.get(l))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}qM(n)}function XM(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:kI}function NI(t){const e=CI(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof RI?[e]:e}function JM(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):AI(t,new Set([e]))}function ZM(t,e,n){var r;if(!Ve("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?OI(t,e):i.set(e,o)}function OI(t,e){if(!Ve("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),JM(t,e)}function e2(t){if(!Ve("recoil_memory_managament_2020"))return;const e=t.getState();AI(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function t2(t){return t===void 0?"recoilRoot":t}var Wo={SUSPENSE_TIMEOUT_MS:KM,updateRetainCount:ZM,updateRetainCountToZero:OI,releaseScheduledRetainablesNow:e2,retainedByOptionWithDefault:t2};const{unstable_batchedUpdates:n2}=LD;var r2={unstable_batchedUpdates:n2};const{unstable_batchedUpdates:i2}=r2;var o2={unstable_batchedUpdates:i2};const{batchStart:s2}=Nr,{unstable_batchedUpdates:a2}=o2;let Dy=a2||(t=>t());const u2=t=>{Dy=t},l2=()=>Dy,c2=t=>{Dy(()=>{let e=()=>{};try{e=s2(),t()}finally{e()}})};var ad={getBatcher:l2,setBatcher:u2,batchUpdates:c2};function*h2(t){for(const e of t)for(const n of e)yield n}var DI=h2;const PI=typeof Window>"u"||typeof window>"u",f2=t=>!PI&&(t===window||t instanceof Window),d2=typeof navigator<"u"&&navigator.product==="ReactNative";var ud={isSSR:PI,isReactNative:d2,isWindow:f2};function p2(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function m2(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function g2(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var v2={memoizeWithArgsHash:p2,memoizeOneWithArgsHash:m2,memoizeOneWithArgsHashAndInvalidation:g2};const{batchUpdates:kg}=ad,{initializeNode:y2,peekNodeInfo:w2}=Ji,{graph:S2}=Nl,{getNextStoreID:b2}=id,{DEFAULT_VALUE:_2,recoilValues:rb,recoilValuesForKeys:ib}=In,{AbstractRecoilValue:E2,getRecoilValueAsLoadable:T2,setRecoilValue:ob,setUnvalidatedRecoilValue:I2}=Nr,{updateRetainCount:ih}=Wo,{setInvalidateMemoizedSnapshot:x2}=SI,{getNextTreeStateVersion:C2,makeEmptyStoreState:R2}=dI,{isSSR:k2}=ud,{memoizeOneWithArgsHashAndInvalidation:A2}=v2;class ld{constructor(e,n){ve(this,"_store",void 0),ve(this,"_refCount",1),ve(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),T2(this._store,r))),ve(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ve(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return ib(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?rb.values():r.isInitialized===!0?ib(DI([i,o])):Ay(rb.values(),({key:s})=>!i.has(s)&&!o.has(s))}),ve(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),w2(this._store,this._store.getState().currentTree,r))),ve(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Ag(this,kg);return r(i),i}),ve(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Ag(this,kg);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:b2(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Je(i.get(r));const o=S2();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw we("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)y2(this._store,r,"get"),ih(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){k2||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ve("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ve("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function LI(t,e,n=!1){const r=t.getState(),i=n?C2():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(rd(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function N2(t){const e=new ld(R2());return t!=null?e.map(t):e}const[sb,MI]=A2((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Je(r.previousTree);return new ld(LI(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});x2(MI);function O2(t,e="latest"){const n=sb(t,e);return n.isRetained()?n:(MI(),sb(t,e))}class Ag extends ld{constructor(e,n){super(LI(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ve(this,"_batch",void 0),ve(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{ih(o,r.key,1),ob(this.getStore_INTERNAL(),r,i)})}),ve(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{ih(i,r.key,1),ob(this.getStore_INTERNAL(),r,_2)})}),ve(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();kg(()=>{for(const[o,s]of r.entries())ih(i,o,1),I2(i,new E2(o),s)})}),this._batch=n}}var cd={Snapshot:ld,MutableSnapshot:Ag,freshSnapshot:N2,cloneSnapshot:O2},D2=cd.Snapshot,P2=cd.MutableSnapshot,L2=cd.freshSnapshot,M2=cd.cloneSnapshot,hd=Object.freeze({__proto__:null,Snapshot:D2,MutableSnapshot:P2,freshSnapshot:L2,cloneSnapshot:M2});function $2(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var j2=$2;const{useRef:V2}=Ze;function F2(t){const e=V2(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var ab=F2;const{getNextTreeStateVersion:U2,makeEmptyStoreState:$I}=dI,{cleanUpNode:B2,getDownstreamNodes:z2,initializeNode:W2,setNodeValue:H2,setUnvalidatedAtomValue_DEPRECATED:q2}=Ji,{graph:K2}=Nl,{cloneGraph:G2}=Nl,{getNextStoreID:jI}=id,{createMutableSource:Hp,reactMode:VI}=Al,{applyAtomValueWrites:Q2}=Nr,{releaseScheduledRetainablesNow:FI}=Wo,{freshSnapshot:Y2}=hd,{useCallback:X2,useContext:UI,useEffect:Ng,useMemo:J2,useRef:Z2,useState:e$}=Ze;function Xa(){throw we("This component must be used inside a <RecoilRoot> component.")}const BI=Object.freeze({storeID:jI(),getState:Xa,replaceState:Xa,getGraph:Xa,subscribeToTransactions:Xa,addTransactionMetadata:Xa});let Og=!1;function ub(t){if(Og)throw we("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ve("recoil_memory_managament_2020")&&Ve("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&FI(t);const n=e.currentTree.version,r=U2();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,G2(Je(e.graphsByVersion.get(n))))}}const zI=Ze.createContext({current:BI}),fd=()=>UI(zI),WI=Ze.createContext(null);function t$(){return UI(WI)}function Py(t,e,n){const r=z2(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,u]]of o)u(n)}}function HI(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!VI().early||e.suspendedComponentResolvers.size>0)&&(Py(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function n$(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,HI(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Iy("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ve("recoil_memory_managament_2020")&&n==null&&FI(t)}finally{e.commitDepth--}}function r$({setNotifyBatcherOfChange:t}){const e=fd(),[,n]=e$([]);return t(()=>n({})),Ng(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Ng(()=>{LL.enqueueExecution("Batcher",()=>{n$(e.current)})}),null}function i$(t,e){const n=$I();return e({set:(r,i)=>{const o=n.currentTree,s=H2(t,o,r.key,i),a=new Set(s.keys()),u=o.nonvalidatedAtoms.clone();for(const l of a)u.delete(l);n.currentTree={...o,dirtyAtoms:j2(o.dirtyAtoms,a),atomValues:Q2(o.atomValues,s),nonvalidatedAtoms:u}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=q2(n.currentTree,o,i)})}}),n}function o$(t){const e=Y2(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let lb=0;function s$({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=m=>{const g=i.current.graphsByVersion;if(g.has(m))return Je(g.get(m));const w=K2();return g.set(m,w),w},s=(m,g)=>{if(g==null){const{transactionSubscriptions:w}=h.current.getState(),T=lb++;return w.set(T,m),{release:()=>{w.delete(T)}}}else{const{nodeTransactionSubscriptions:w}=h.current.getState();w.has(g)||w.set(g,new Map);const T=lb++;return Je(w.get(g)).set(T,m),{release:()=>{const d=w.get(g);d&&(d.delete(T),d.size===0&&w.delete(g))}}}},a=m=>{ub(h.current);for(const g of Object.keys(m))Je(h.current.getState().nextTree).transactionMetadata[g]=m[g]},u=m=>{ub(h.current);const g=Je(i.current.nextTree);let w;try{Og=!0,w=m(g)}finally{Og=!1}w!==g&&(i.current.nextTree=w,VI().early&&Py(h.current,i.current,w),Je(l.current)())},l=Z2(null),c=X2(m=>{l.current=m},[l]),h=ab(()=>n??{storeID:jI(),getState:()=>i.current,replaceState:u,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(h.current=n),i=ab(()=>t!=null?i$(h.current,t):e!=null?o$(e):$I());const f=J2(()=>Hp==null?void 0:Hp(i,()=>i.current.currentTree.version),[i]);return Ng(()=>{const m=h.current;for(const g of new Set(m.getState().knownAtoms))W2(m,g,"get");return()=>{for(const g of m.getState().knownAtoms)B2(m,g)}},[h]),Ze.createElement(zI.Provider,{value:h},Ze.createElement(WI.Provider,{value:f},Ze.createElement(r$,{setNotifyBatcherOfChange:c}),r))}function a$(t){const{override:e,...n}=t,r=fd();return e===!1&&r.current!==BI?t.children:Ze.createElement(s$,n)}function u$(){return fd().current.storeID}var ui={RecoilRoot:a$,useStoreRef:fd,useRecoilMutableSource:t$,useRecoilStoreID:u$,notifyComponents_FOR_TESTING:Py,sendEndOfBatchNotifications_FOR_TESTING:HI};function l$(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var c$=l$;const{useEffect:h$,useRef:f$}=Ze;function d$(t){const e=f$();return h$(()=>{e.current=t}),e.current}var qI=d$;const{useStoreRef:p$}=ui,{SUSPENSE_TIMEOUT_MS:m$}=Wo,{updateRetainCount:Ja}=Wo,{RetentionZone:g$}=od,{useEffect:v$,useRef:y$}=Ze,{isSSR:cb}=ud;function w$(t){if(Ve("recoil_memory_managament_2020"))return S$(t)}function S$(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof g$?s:s.key),r=p$();v$(()=>{if(!Ve("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!cb)window.clearTimeout(i.current),i.current=null;else for(const a of n)Ja(s,a,1);return()=>{for(const a of n)Ja(s,a,-1)}},[r,...n]);const i=y$(),o=qI(n);if(!cb&&(o===void 0||!c$(o,n))){const s=r.current;for(const a of n)Ja(s,a,1);if(o)for(const a of o)Ja(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Ja(s,a,-1)},m$)}}var Ly=w$;function b$(){return"<component name not available>"}var Dl=b$;const{batchUpdates:_$}=ad,{DEFAULT_VALUE:KI}=In,{currentRendererSupportsUseSyncExternalStore:E$,reactMode:ka,useMutableSource:T$,useSyncExternalStore:I$}=Al,{useRecoilMutableSource:x$,useStoreRef:Or}=ui,{AbstractRecoilValue:Dg,getRecoilValueAsLoadable:Pl,setRecoilValue:Hh,setUnvalidatedRecoilValue:C$,subscribeToRecoilValue:ra}=Nr,{useCallback:En,useEffect:ia,useMemo:GI,useRef:Au,useState:My}=Ze,{setByAddingToSet:R$}=mI,{isSSR:k$}=ud;function $y(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),k$&&He(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:we(`Invalid value of loadable atom "${e.key}"`)}function A$(){const t=Dl(),e=Or(),[,n]=My([]),r=Au(new Set);r.current=new Set;const i=Au(new Set),o=Au(new Map),s=En(u=>{const l=o.current.get(u);l&&(l.release(),o.current.delete(u))},[o]),a=En((u,l)=>{o.current.has(l)&&n([])},[]);return ia(()=>{const u=e.current;Ru(r.current,i.current).forEach(l=>{if(o.current.has(l))return;const c=ra(u,new Dg(l),f=>a(f,l),t);o.current.set(l,c),u.getState().nextTree?u.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(u.getState(),l)}):a(u.getState(),l)}),Ru(i.current,r.current).forEach(l=>{s(l)}),i.current=r.current}),ia(()=>{const u=o.current;return Ru(r.current,new Set(u.keys())).forEach(l=>{const c=ra(e.current,new Dg(l),h=>a(h,l),t);u.set(l,c)}),()=>u.forEach((l,c)=>s(c))},[t,e,s,a]),GI(()=>{function u(g){return w=>{Hh(e.current,g,w)}}function l(g){return()=>Hh(e.current,g,KI)}function c(g){var w;r.current.has(g.key)||(r.current=R$(r.current,g.key));const T=e.current.getState();return Pl(e.current,g,ka().early&&(w=T.nextTree)!==null&&w!==void 0?w:T.currentTree)}function h(g){const w=c(g);return $y(w,g,e)}function f(g){return[h(g),u(g)]}function m(g){return[c(g),u(g)]}return{getRecoilValue:h,getRecoilValueLoadable:c,getRecoilState:f,getRecoilStateLoadable:m,getSetRecoilState:u,getResetRecoilState:l}},[r,e])}const N$={current:0};function O$(t){const e=Or(),n=Dl(),r=En(()=>{var a;const u=e.current,l=u.getState(),c=ka().early&&(a=l.nextTree)!==null&&a!==void 0?a:l.currentTree;return{loadable:Pl(u,t,c),key:t.key}},[e,t]),i=En(a=>{let u;return()=>{var l,c;const h=a();return(l=u)!==null&&l!==void 0&&l.loadable.is(h.loadable)&&((c=u)===null||c===void 0?void 0:c.key)===h.key?u:(u=h,h)}},[]),o=GI(()=>i(r),[r,i]),s=En(a=>{const u=e.current;return ra(u,t,a,n).release},[e,t,n]);return I$(s,o,o).loadable}function D$(t){const e=Or(),n=En(()=>{var l;const c=e.current,h=c.getState(),f=ka().early&&(l=h.nextTree)!==null&&l!==void 0?l:h.currentTree;return Pl(c,t,f)},[e,t]),r=En(()=>n(),[n]),i=Dl(),o=En((l,c)=>{const h=e.current;return ra(h,t,()=>{if(!Ve("recoil_suppress_rerender_in_callback"))return c();const m=n();u.current.is(m)||c(),u.current=m},i).release},[e,t,i,n]),s=x$();if(s==null)throw we("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=T$(s,r,o),u=Au(a);return ia(()=>{u.current=a}),a}function Pg(t){const e=Or(),n=Dl(),r=En(()=>{var u;const l=e.current,c=l.getState(),h=ka().early&&(u=c.nextTree)!==null&&u!==void 0?u:c.currentTree;return Pl(l,t,h)},[e,t]),i=En(()=>({loadable:r(),key:t.key}),[r,t.key]),o=En(u=>{const l=i();return u.loadable.is(l.loadable)&&u.key===l.key?u:l},[i]);ia(()=>{const u=ra(e.current,t,l=>{a(o)},n);return a(o),u.release},[n,t,e,o]);const[s,a]=My(i);return s.key!==t.key?i().loadable:s.loadable}function P$(t){const e=Or(),[,n]=My([]),r=Dl(),i=En(()=>{var a;const u=e.current,l=u.getState(),c=ka().early&&(a=l.nextTree)!==null&&a!==void 0?a:l.currentTree;return Pl(u,t,c)},[e,t]),o=i(),s=Au(o);return ia(()=>{s.current=o}),ia(()=>{const a=e.current,u=a.getState(),l=ra(a,t,h=>{var f;if(!Ve("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(f=s.current)!==null&&f!==void 0&&f.is(m)||n(m),s.current=m},r);if(u.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!Ve("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(c=s.current)!==null&&c!==void 0&&c.is(h)||n(h),s.current=h}return l.release},[r,i,t,e]),o}function jy(t){return Ve("recoil_memory_managament_2020")&&Ly(t),{TRANSITION_SUPPORT:Pg,SYNC_EXTERNAL_STORE:E$()?O$:Pg,MUTABLE_SOURCE:D$,LEGACY:P$}[ka().mode](t)}function QI(t){const e=Or(),n=jy(t);return $y(n,t,e)}function dd(t){const e=Or();return En(n=>{Hh(e.current,t,n)},[e,t])}function L$(t){const e=Or();return En(()=>{Hh(e.current,t,KI)},[e,t])}function M$(t){return[QI(t),dd(t)]}function $$(t){return[jy(t),dd(t)]}function j$(){const t=Or();return(e,n={})=>{_$(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>C$(t.current,new Dg(i),r))})}}function YI(t){return Ve("recoil_memory_managament_2020")&&Ly(t),Pg(t)}function XI(t){const e=Or(),n=YI(t);return $y(n,t,e)}function V$(t){return[XI(t),dd(t)]}var F$={recoilComponentGetRecoilValueCount_FOR_TESTING:N$,useRecoilInterface:A$,useRecoilState:M$,useRecoilStateLoadable:$$,useRecoilValue:QI,useRecoilValueLoadable:jy,useResetRecoilState:L$,useSetRecoilState:dd,useSetUnvalidatedAtomValues:j$,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:YI,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:XI,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:V$};function U$(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var B$=U$;function z$(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var W$=z$;function H$(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var q$=H$;const{batchUpdates:K$}=ad,{DEFAULT_VALUE:G$,getNode:JI,nodes:Q$}=In,{useStoreRef:Vy}=ui,{AbstractRecoilValue:Y$,setRecoilValueLoadable:X$}=Nr,{SUSPENSE_TIMEOUT_MS:J$}=Wo,{cloneSnapshot:qh}=hd,{useCallback:pd,useEffect:ZI,useRef:hb,useState:Z$}=Ze,{isSSR:fb}=ud;function md(t){const e=Vy();ZI(()=>e.current.subscribeToTransactions(t).release,[t,e])}function db(t){const e=t.atomValues.toMap(),n=Wh(B$(e,(r,i)=>{const s=JI(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return q$(t.nonvalidatedAtoms.toMap(),n)}function ej(t){md(pd(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=db(r),o=db(n),s=Wh(Q$,u=>{var l,c,h,f;return{persistence_UNSTABLE:{type:(l=(c=u.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&l!==void 0?l:"none",backButton:(h=(f=u.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&h!==void 0?h:!1}}}),a=W$(r.dirtyAtoms,u=>i.has(u)||o.has(u));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function tj(t){md(pd(e=>{const n=qh(e,"latest"),r=qh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function nj(){const t=Vy(),[e,n]=Z$(()=>qh(t.current)),r=qI(e),i=hb(),o=hb();if(md(pd(a=>n(qh(a)),[])),ZI(()=>{const a=e.retain();if(i.current&&!fb){var u;window.clearTimeout(i.current),i.current=null,(u=o.current)===null||u===void 0||u.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!fb){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},J$)}return e}function ex(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;K$(()=>{const s=new Set;for(const l of[i.atomValues.keys(),o.atomValues.keys()])for(const c of l){var a,u;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((u=o.atomValues.get(c))===null||u===void 0?void 0:u.contents)&&JI(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(l=>{X$(t,new Y$(l),o.atomValues.has(l)?Je(o.atomValues.get(l)):G$)}),t.replaceState(l=>({...l,stateID:e.getID()}))})}function rj(){const t=Vy();return pd(e=>ex(t.current,e),[t])}var tx={useRecoilSnapshot:nj,gotoSnapshot:ex,useGotoRecoilSnapshot:rj,useRecoilTransactionObserver:tj,useTransactionObservation_DEPRECATED:ej,useTransactionSubscription_DEPRECATED:md};const{peekNodeInfo:ij}=Ji,{useStoreRef:oj}=ui;function sj(){const t=oj();return({key:e})=>ij(t.current,t.current.getState().currentTree,e)}var aj=sj;const{reactMode:uj}=Al,{RecoilRoot:lj,useStoreRef:cj}=ui,{useMemo:hj}=Ze;function fj(){uj().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=cj().current;return hj(()=>{function e({children:n}){return Ze.createElement(lj,{store_INTERNAL:t},n)}return e},[t])}var dj=fj;const{loadableWithValue:pj}=kl,{initializeNode:mj}=Ji,{DEFAULT_VALUE:gj,getNode:vj}=In,{copyTreeState:yj,getRecoilValueAsLoadable:wj,invalidateDownstreams:Sj,writeLoadableToTreeState:bj}=Nr;function pb(t){return vj(t.key).nodeType==="atom"}class _j{constructor(e,n){ve(this,"_store",void 0),ve(this,"_treeState",void 0),ve(this,"_changes",void 0),ve(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!pb(r))throw we("Reading selectors within atomicUpdate is not supported");const i=wj(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:we(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ve(this,"set",(r,i)=>{if(!pb(r))throw we("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else mj(this._store,r.key,"set"),this._changes.set(r.key,i)}),ve(this,"reset",r=>{this.set(r,gj)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=yj(this._treeState);for(const[n,r]of this._changes)bj(e,n,pj(r));return Sj(this._store,e),e}}function Ej(t){return e=>{t.replaceState(n=>{const r=new _j(t,n);return e(r),r.newTreeState_INTERNAL()})}}var Tj={atomicUpdater:Ej},Ij=Tj.atomicUpdater,nx=Object.freeze({__proto__:null,atomicUpdater:Ij});function xj(t,e){if(!t)throw new Error(e)}var Cj=xj,cu=Cj;const{atomicUpdater:Rj}=nx,{batchUpdates:kj}=ad,{DEFAULT_VALUE:Aj}=In,{useStoreRef:Nj}=ui,{refreshRecoilValue:Oj,setRecoilValue:mb}=Nr,{cloneSnapshot:Dj}=hd,{gotoSnapshot:Pj}=tx,{useCallback:Lj}=Ze;class rx{}const Mj=new rx;function ix(t,e,n,r){let i=Mj,o;if(kj(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw we(a);const u=gI({...r??{},set:(c,h)=>mb(t,c,h),reset:c=>mb(t,c,Aj),refresh:c=>Oj(t,c),gotoSnapshot:c=>Pj(t,c),transact_UNSTABLE:c=>Rj(t)(c)},{snapshot:()=>{const c=Dj(t);return o=c.retain(),c}}),l=e(u);if(typeof l!="function")throw we(a);i=l(...n)}),i instanceof rx&&cu(!1),He(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function $j(t,e){const n=Nj();return Lj((...r)=>ix(n.current,t,r),e!=null?[...e,n]:void 0)}var ox={recoilCallback:ix,useRecoilCallback:$j};const{useStoreRef:jj}=ui,{refreshRecoilValue:Vj}=Nr,{useCallback:Fj}=Ze;function Uj(t){const e=jj();return Fj(()=>{const n=e.current;Vj(n,t)},[t,e])}var Bj=Uj;const{atomicUpdater:zj}=nx,{useStoreRef:Wj}=ui,{useMemo:Hj}=Ze;function qj(t,e){const n=Wj();return Hj(()=>(...r)=>{zj(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var Kj=qj;class Gj{constructor(e){ve(this,"value",void 0),this.value=e}}var Qj={WrappedValue:Gj},Yj=Qj.WrappedValue,sx=Object.freeze({__proto__:null,WrappedValue:Yj});const{isFastRefreshEnabled:Xj}=Al;class gb extends Error{}class Jj{constructor(e){var n,r,i;ve(this,"_name",void 0),ve(this,"_numLeafs",void 0),ve(this,"_root",void 0),ve(this,"_onHit",void 0),ve(this,"_onSet",void 0),ve(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,u;let l,c;for(const[T,d]of e){var h,f,m;const p=this._root;if((p==null?void 0:p.type)==="leaf")throw this.invalidCacheError();const v=l;if(l=v?v.branches.get(c):p,l=(h=l)!==null&&h!==void 0?h:{type:"branch",nodeKey:T,parent:v,branches:new Map,branchKey:c},l.type!=="branch"||l.nodeKey!==T)throw this.invalidCacheError();v==null||v.branches.set(c,l),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,l),c=this._mapNodeValue(d),this._root=(m=this._root)!==null&&m!==void 0?m:l}const g=l?(o=l)===null||o===void 0?void 0:o.branches.get(c):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==c))throw this.invalidCacheError();const w={type:"leaf",value:n,parent:l,branchKey:c};(s=l)===null||s===void 0||s.branches.set(c,w),this._root=(a=this._root)!==null&&a!==void 0?a:w,this._numLeafs++,this._onSet(w),r==null||(u=r.onNodeVisit)===null||u===void 0||u.call(r,w)};try{i()}catch(o){if(o instanceof gb)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=Xj()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Iy(e+(this._name!=null?` - ${this._name}`:"")),new gb}}var Zj={TreeCache:Jj},eV=Zj.TreeCache,ax=Object.freeze({__proto__:null,TreeCache:eV});class tV{constructor(e){var n;ve(this,"_maxSize",void 0),ve(this,"_size",void 0),ve(this,"_head",void 0),ve(this,"_tail",void 0),ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Je(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var nV={LRUCache:tV},rV=nV.LRUCache,ux=Object.freeze({__proto__:null,LRUCache:rV});const{LRUCache:iV}=ux,{TreeCache:oV}=ax;function sV({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new iV({maxSize:e}),i=new oV({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var vb=sV;function Jn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw we("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(He(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>Jn(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Jn(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:Jn(o,e)]=s;return Jn(i,e,n)}return t instanceof Set?Jn(Array.from(t).sort((i,o)=>Jn(i,e).localeCompare(Jn(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Jn(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Jn(i,e)}:${Jn(t[i],e,i)}`).join(",")}}`}function aV(t,e={allowFunctions:!1}){return Jn(t,e)}var gd=aV;const{TreeCache:uV}=ax,Cc={equality:"reference",eviction:"keep-all",maxSize:1/0};function lV({equality:t=Cc.equality,eviction:e=Cc.eviction,maxSize:n=Cc.maxSize}=Cc,r){const i=cV(t);return hV(e,n,i,r)}function cV(t){switch(t){case"reference":return e=>e;case"value":return e=>gd(e)}throw we(`Unrecognized equality policy ${t}`)}function hV(t,e,n,r){switch(t){case"keep-all":return new uV({name:r,mapNodeValue:n});case"lru":return vb({name:r,maxSize:Je(e),mapNodeValue:n});case"most-recent":return vb({name:r,maxSize:1,mapNodeValue:n})}throw we(`Unrecognized eviction policy ${t}`)}var fV=lV;function dV(t){return()=>null}var pV={startPerfBlock:dV};const{isLoadable:mV,loadableWithError:Rc,loadableWithPromise:gV,loadableWithValue:qp}=kl,{WrappedValue:lx}=sx,{getNodeLoadable:kc,peekNodeLoadable:vV,setNodeValue:yV}=Ji,{saveDepsToStore:wV}=Nl,{DEFAULT_VALUE:SV,getConfigDeletionHandler:bV,getNode:_V,registerNode:yb}=In,{isRecoilValue:EV}=na,{markRecoilValueModified:wb}=Nr,{retainedByOptionWithDefault:TV}=Wo,{recoilCallback:IV}=ox,{startPerfBlock:xV}=pV;class cx{}const Za=new cx,eu=[],Ac=new Map,CV=(()=>{let t=0;return()=>t++})();function hx(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=fV(i??{equality:"reference",eviction:"keep-all"},n),u=TV(t.retainedBy_UNSTABLE),l=new Map;let c=0;function h(){return!Ve("recoil_memory_managament_2020")||c>0}function f(I){return I.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return bV(n)!==void 0&&!h()}function g(I,L,j,Q,H){je(L,Q,H),w(I,j)}function w(I,L){Ce(I,L)&&ge(I),d(L,!0)}function T(I,L){Ce(I,L)&&(Je(ne(I)).stateVersions.clear(),d(L,!1))}function d(I,L){const j=Ac.get(I);if(j!=null){for(const Q of j)wb(Q,Je(e));L&&Ac.delete(I)}}function p(I,L){let j=Ac.get(L);j==null&&Ac.set(L,j=new Set),j.add(I)}function v(I,L,j,Q,H,ce){return L.then(pe=>{if(!h())throw ge(I),Za;const re=qp(pe);return g(I,j,H,re,Q),pe}).catch(pe=>{if(!h())throw ge(I),Za;if(He(pe))return E(I,pe,j,Q,H,ce);const re=Rc(pe);throw g(I,j,H,re,Q),pe})}function E(I,L,j,Q,H,ce){return L.then(pe=>{if(!h())throw ge(I),Za;ce.loadingDepKey!=null&&ce.loadingDepPromise===L?j.atomValues.set(ce.loadingDepKey,qp(pe)):I.getState().knownSelectors.forEach(be=>{j.atomValues.delete(be)});const re=O(I,j);if(re&&re.state!=="loading"){if((Ce(I,H)||ne(I)==null)&&w(I,H),re.state==="hasValue")return re.contents;throw re.contents}if(!Ce(I,H)){const be=K(I,j);if(be!=null)return be.loadingLoadable.contents}const[Le,tt]=N(I,j,H);if(Le.state!=="loading"&&g(I,j,H,Le,tt),Le.state==="hasError")throw Le.contents;return Le.contents}).catch(pe=>{if(pe instanceof cx)throw Za;if(!h())throw ge(I),Za;const re=Rc(pe);throw g(I,j,H,re,Q),pe})}function A(I,L,j,Q){var H,ce,pe,re;if(Ce(I,Q)||L.version===((H=I.getState())===null||H===void 0||(ce=H.currentTree)===null||ce===void 0?void 0:ce.version)||L.version===((pe=I.getState())===null||pe===void 0||(re=pe.nextTree)===null||re===void 0?void 0:re.version)){var Le,tt,be;wV(n,j,I,(Le=(tt=I.getState())===null||tt===void 0||(be=tt.nextTree)===null||be===void 0?void 0:be.version)!==null&&Le!==void 0?Le:I.getState().currentTree.version)}for(const De of j)s.add(De)}function N(I,L,j){const Q=xV(n);let H=!0,ce=!0;const pe=()=>{Q(),ce=!1};let re,Le=!1,tt;const be={loadingDepKey:null,loadingDepPromise:null},De=new Map;function Tt({key:Qe}){const Ue=kc(I,L,Qe);switch(De.set(Qe,Ue),H||(A(I,L,new Set(De.keys()),j),T(I,j)),Ue.state){case"hasValue":return Ue.contents;case"hasError":throw Ue.contents;case"loading":throw be.loadingDepKey=Qe,be.loadingDepPromise=Ue.contents,Ue.contents}throw we("Invalid Loadable state")}const lt=Qe=>(...Ue)=>{if(ce)throw we("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&cu(!1),IV(I,Qe,Ue,{node:e})};try{re=r({get:Tt,getCallback:lt}),re=EV(re)?Tt(re):re,mV(re)&&(re.state==="hasError"&&(Le=!0),re=re.contents),He(re)?re=v(I,re,L,De,j,be).finally(pe):pe(),re=re instanceof lx?re.value:re}catch(Qe){re=Qe,He(re)?re=E(I,re,L,De,j,be).finally(pe):(Le=!0,pe())}return Le?tt=Rc(re):He(re)?tt=gV(re):tt=qp(re),H=!1,Ge(I,j,De),A(I,L,new Set(De.keys()),j),[tt,De]}function O(I,L){let j=L.atomValues.get(n);if(j!=null)return j;const Q=new Set;try{j=a.get(ce=>(typeof ce!="string"&&cu(!1),kc(I,L,ce).contents),{onNodeVisit:ce=>{ce.type==="branch"&&ce.nodeKey!==n&&Q.add(ce.nodeKey)}})}catch(ce){throw we(`Problem with cache lookup for selector "${n}": ${ce.message}`)}if(j){var H;L.atomValues.set(n,j),A(I,L,Q,(H=ne(I))===null||H===void 0?void 0:H.executionID)}return j}function D(I,L){const j=O(I,L);if(j!=null)return ge(I),j;const Q=K(I,L);if(Q!=null){var H;return((H=Q.loadingLoadable)===null||H===void 0?void 0:H.state)==="loading"&&p(I,Q.executionID),Q.loadingLoadable}const ce=CV(),[pe,re]=N(I,L,ce);return pe.state==="loading"?(Ae(I,ce,pe,re,L),p(I,ce)):(ge(I),je(L,pe,re)),pe}function K(I,L){const j=DI([l.has(I)?[Je(l.get(I))]:[],rd(Ay(l,([H])=>H!==I),([,H])=>H)]);function Q(H){for(const[ce,pe]of H)if(!kc(I,L,ce).is(pe))return!0;return!1}for(const H of j){if(H.stateVersions.get(L.version)||!Q(H.depValuesDiscoveredSoFarDuringAsyncWork))return H.stateVersions.set(L.version,!0),H;H.stateVersions.set(L.version,!1)}}function ne(I){return l.get(I)}function Ae(I,L,j,Q,H){l.set(I,{depValuesDiscoveredSoFarDuringAsyncWork:Q,executionID:L,loadingLoadable:j,stateVersions:new Map([[H.version,!0]])})}function Ge(I,L,j){if(Ce(I,L)){const Q=ne(I);Q!=null&&(Q.depValuesDiscoveredSoFarDuringAsyncWork=j)}}function ge(I){l.delete(I)}function Ce(I,L){var j;return L===((j=ne(I))===null||j===void 0?void 0:j.executionID)}function mt(I){return Array.from(I.entries()).map(([L,j])=>[L,j.contents])}function je(I,L,j){I.atomValues.set(n,L);try{a.set(mt(j),L)}catch(Q){throw we(`Problem with setting cache for selector "${n}": ${Q.message}`)}}function et(I){if(eu.includes(n)){const L=`Recoil selector has circular dependencies: ${eu.slice(eu.indexOf(n)).join("  ")}`;return Rc(we(L))}eu.push(n);try{return I()}finally{eu.pop()}}function W(I,L){const j=L.atomValues.get(n);return j??a.get(Q=>{var H;return typeof Q!="string"&&cu(!1),(H=vV(I,L,Q))===null||H===void 0?void 0:H.contents})}function oe(I,L){return et(()=>D(I,L))}function ae(I){I.atomValues.delete(n)}function le(I,L){e==null&&cu(!1);for(const Q of s){var j;const H=_V(Q);(j=H.clearCache)===null||j===void 0||j.call(H,I,L)}s.clear(),ae(L),a.clear(),wb(I,e)}return o!=null?e=yb({key:n,nodeType:"selector",peek:W,get:oe,set:(L,j,Q)=>{let H=!1;const ce=new Map;function pe({key:be}){if(H)throw we("Recoil: Async selector sets are not currently supported.");const De=kc(L,j,be);if(De.state==="hasValue")return De.contents;if(De.state==="loading"){const Tt=`Getting value of asynchronous atom or selector "${be}" in a pending state while setting selector "${n}" is not yet supported.`;throw we(Tt)}else throw De.contents}function re(be,De){if(H)throw we("Recoil: Async selector sets are not currently supported.");const Tt=typeof De=="function"?De(pe(be)):De;yV(L,j,be.key,Tt).forEach((Qe,Ue)=>ce.set(Ue,Qe))}function Le(be){re(be,SV)}const tt=o({set:re,get:pe,reset:Le},Q);if(tt!==void 0)throw He(tt)?we("Recoil: Async selector sets are not currently supported."):we("Recoil: selector set should be a void function.");return H=!0,ce},init:f,invalidate:ae,clearCache:le,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):e=yb({key:n,nodeType:"selector",peek:W,get:oe,init:f,invalidate:ae,clearCache:le,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}hx.value=t=>new lx(t);var oa=hx;const{isLoadable:RV,loadableWithError:Kp,loadableWithPromise:Gp,loadableWithValue:ls}=kl,{WrappedValue:fx}=sx,{peekNodeInfo:kV}=Ji,{DEFAULT_VALUE:uo,DefaultValue:vi,getConfigDeletionHandler:dx,registerNode:AV,setConfigDeletionHandler:NV}=In,{isRecoilValue:OV}=na,{getRecoilValueAsLoadable:DV,markRecoilValueModified:PV,setRecoilValue:Sb,setRecoilValueLoadable:LV}=Nr,{retainedByOptionWithDefault:MV}=Wo,tu=t=>t instanceof fx?t.value:t;function $V(t){const{key:e,persistence_UNSTABLE:n}=t,r=MV(t.retainedBy_UNSTABLE);let i=0;function o(p){return Gp(p.then(v=>(s=ls(v),v)).catch(v=>{throw s=Kp(v),v}))}let s=He(t.default)?o(t.default):RV(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:ls(tu(t.default));s.contents;let a;const u=new Map;function l(p){return p}function c(p,v){const E=v.then(A=>{var N,O;return((O=((N=p.getState().nextTree)!==null&&N!==void 0?N:p.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===E&&Sb(p,d,A),A}).catch(A=>{var N,O;throw((O=((N=p.getState().nextTree)!==null&&N!==void 0?N:p.getState().currentTree).atomValues.get(e))===null||O===void 0?void 0:O.contents)===E&&LV(p,d,Kp(A)),A});return E}function h(p,v,E){var A;i++;const N=()=>{var ge;i--,(ge=u.get(p))===null||ge===void 0||ge.forEach(Ce=>Ce()),u.delete(p)};if(p.getState().knownAtoms.add(e),s.state==="loading"){const ge=()=>{var Ce;((Ce=p.getState().nextTree)!==null&&Ce!==void 0?Ce:p.getState().currentTree).atomValues.has(e)||PV(p,d)};s.contents.finally(ge)}const O=(A=t.effects)!==null&&A!==void 0?A:t.effects_UNSTABLE;if(O!=null){let et=function(L){if(Ce&&L.key===e){const j=ge;return j instanceof vi?f(p,v):He(j)?Gp(j.then(Q=>Q instanceof vi?s.toPromise():Q)):ls(j)}return DV(p,L)},W=function(L){return et(L).toPromise()},oe=function(L){var j;const Q=kV(p,(j=p.getState().nextTree)!==null&&j!==void 0?j:p.getState().currentTree,L.key);return Ce&&L.key===e&&!(ge instanceof vi)?{...Q,isSet:!0,loadable:et(L)}:Q};var ne=et,Ae=W,Ge=oe;let ge=uo,Ce=!0,mt=!1,je=null;const ae=L=>j=>{if(Ce){const Q=et(d),H=Q.state==="hasValue"?Q.contents:uo;ge=typeof j=="function"?j(H):j,He(ge)&&(ge=ge.then(ce=>(je={effect:L,value:ce},ce)))}else{if(He(j))throw we("Setting atoms to async values is not implemented.");typeof j!="function"&&(je={effect:L,value:tu(j)}),Sb(p,d,typeof j=="function"?Q=>{const H=tu(j(Q));return je={effect:L,value:H},H}:tu(j))}},le=L=>()=>ae(L)(uo),I=L=>j=>{var Q;const{release:H}=p.subscribeToTransactions(ce=>{var pe;let{currentTree:re,previousTree:Le}=ce.getState();Le||(Le=re);const tt=(pe=re.atomValues.get(e))!==null&&pe!==void 0?pe:s;if(tt.state==="hasValue"){var be,De,Tt,lt;const Qe=tt.contents,Ue=(be=Le.atomValues.get(e))!==null&&be!==void 0?be:s,mn=Ue.state==="hasValue"?Ue.contents:uo;((De=je)===null||De===void 0?void 0:De.effect)!==L||((Tt=je)===null||Tt===void 0?void 0:Tt.value)!==Qe?j(Qe,mn,!re.atomValues.has(e)):((lt=je)===null||lt===void 0?void 0:lt.effect)===L&&(je=null)}},e);u.set(p,[...(Q=u.get(p))!==null&&Q!==void 0?Q:[],H])};for(const L of O)try{const j=L({node:d,storeID:p.storeID,parentStoreID_UNSTABLE:p.parentStoreID,trigger:E,setSelf:ae(L),resetSelf:le(L),onSet:I(L),getPromise:W,getLoadable:et,getInfo_UNSTABLE:oe});if(j!=null){var D;u.set(p,[...(D=u.get(p))!==null&&D!==void 0?D:[],j])}}catch(j){ge=j,mt=!0}if(Ce=!1,!(ge instanceof vi)){var K;const L=mt?Kp(ge):He(ge)?Gp(c(p,ge)):ls(tu(ge));L.contents,v.atomValues.set(e,L),(K=p.getState().nextTree)===null||K===void 0||K.atomValues.set(e,L)}}return N}function f(p,v){var E,A;return(E=(A=v.atomValues.get(e))!==null&&A!==void 0?A:a)!==null&&E!==void 0?E:s}function m(p,v){if(v.atomValues.has(e))return Je(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const E=v.nonvalidatedAtoms.get(e),A=n.validator(E,uo);return a=A instanceof vi?s:ls(A),a}else return s}function g(){a=void 0}function w(p,v,E){if(v.atomValues.has(e)){const A=Je(v.atomValues.get(e));if(A.state==="hasValue"&&E===A.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&E instanceof vi)return new Map;return a=void 0,new Map().set(e,ls(E))}function T(){return dx(e)!==void 0&&i<=0}const d=AV({key:e,nodeType:"atom",peek:f,get:m,set:w,init:h,invalidate:g,shouldDeleteConfigOnRelease:T,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return d}function Fy(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return OV(n)?jV({...e,default:n}):$V({...e,default:n})}function jV(t){const e=Fy({...t,default:uo,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof vi?r:Je(t.persistence_UNSTABLE).validator(r,uo)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=oa({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof vi?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return NV(n.key,dx(t.key)),n}Fy.value=t=>new fx(t);var px=Fy;class VV{constructor(e){var n;ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var FV={MapCache:VV},UV=FV.MapCache,BV=Object.freeze({__proto__:null,MapCache:UV});const{LRUCache:bb}=ux,{MapCache:zV}=BV,Nc={equality:"reference",eviction:"none",maxSize:1/0};function WV({equality:t=Nc.equality,eviction:e=Nc.eviction,maxSize:n=Nc.maxSize}=Nc){const r=HV(t);return qV(e,n,r)}function HV(t){switch(t){case"reference":return e=>e;case"value":return e=>gd(e)}throw we(`Unrecognized equality policy ${t}`)}function qV(t,e,n){switch(t){case"keep-all":return new zV({mapKey:n});case"lru":return new bb({mapKey:n,maxSize:Je(e)});case"most-recent":return new bb({mapKey:n,maxSize:1})}throw we(`Unrecognized eviction policy ${t}`)}var mx=WV;const{setConfigDeletionHandler:KV}=In;function GV(t){var e,n;const r=mx({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:u,...l}=t,c="default"in t?t.default:new Promise(()=>{}),h=px({...l,key:`${t.key}__${(o=gd(i))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,h),KV(h.key,()=>{r.delete(i)}),h}}var QV=GV;const{setConfigDeletionHandler:YV}=In;let XV=0;function JV(t){var e,n;const r=mx({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(f){throw we(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=gd(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${XV++}`,u=f=>t.get(i)(f),l=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=oa({key:a,get:u,set:(g,w)=>f(i)(g,w),cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=oa({key:a,get:u,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,h),YV(h.key,()=>{r.delete(i)}),h}}var Zi=JV;const ZV=Zi({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function eF(t){return ZV(t)}var tF=eF;const nF=Zi({key:"__error",get:t=>()=>{throw we(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function rF(t){return nF(t)}var iF=rF;function oF(t){return t}var sF=oF;const{loadableWithError:gx,loadableWithPromise:vx,loadableWithValue:yx}=kl;function vd(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function aF(t){return t!=null&&!He(t)}function yd(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Lg(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function js(t,e,n){const r=n.map((i,o)=>i==null?yx(e[o]):He(i)?vx(i):gx(i));return Lg(t,r)}function uF(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const lF=Zi({key:"__waitForNone",get:t=>({get:e})=>{const n=yd(t),[r,i]=vd(e,n);return js(t,r,i)},dangerouslyAllowMutability:!0}),cF=Zi({key:"__waitForAny",get:t=>({get:e})=>{const n=yd(t),[r,i]=vd(e,n);return i.some(o=>!He(o))?js(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())He(a)&&a.then(u=>{r[s]=u,i[s]=void 0,o(js(t,r,i))}).catch(u=>{i[s]=u,o(js(t,r,i))})})},dangerouslyAllowMutability:!0}),hF=Zi({key:"__waitForAll",get:t=>({get:e})=>{const n=yd(t),[r,i]=vd(e,n);if(i.every(s=>s==null))return Lg(t,r);const o=i.find(aF);if(o!=null)throw o;return Promise.all(i).then(s=>Lg(t,uF(r,s)))},dangerouslyAllowMutability:!0}),fF=Zi({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=yd(t),[r,i]=vd(e,n);return i.every(o=>!He(o))?js(t,r,i):Promise.all(i.map((o,s)=>He(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>js(t,r,i))},dangerouslyAllowMutability:!0}),dF=Zi({key:"__noWait",get:t=>({get:e})=>{try{return oa.value(yx(e(t)))}catch(n){return oa.value(He(n)?vx(n):gx(n))}},dangerouslyAllowMutability:!0});var pF={waitForNone:lF,waitForAny:cF,waitForAll:hF,waitForAllSettled:fF,noWait:dF};const{RecoilLoadable:mF}=kl,{DefaultValue:gF}=In,{RecoilRoot:vF,useRecoilStoreID:yF}=ui,{isRecoilValue:wF}=na,{retentionZone:SF}=od,{freshSnapshot:bF}=hd,{useRecoilState:_F,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:EF,useRecoilStateLoadable:TF,useRecoilValue:IF,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:xF,useRecoilValueLoadable:CF,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:RF,useResetRecoilState:kF,useSetRecoilState:AF}=F$,{useGotoRecoilSnapshot:NF,useRecoilSnapshot:OF,useRecoilTransactionObserver:DF}=tx,{useRecoilCallback:PF}=ox,{noWait:LF,waitForAll:MF,waitForAllSettled:$F,waitForAny:jF,waitForNone:VF}=pF;var Uy={DefaultValue:gF,isRecoilValue:wF,RecoilLoadable:mF,RecoilEnv:Ra,RecoilRoot:vF,useRecoilStoreID:yF,useRecoilBridgeAcrossReactRoots_UNSTABLE:dj,atom:px,selector:oa,atomFamily:QV,selectorFamily:Zi,constSelector:tF,errorSelector:iF,readOnlySelector:sF,noWait:LF,waitForNone:VF,waitForAny:jF,waitForAll:MF,waitForAllSettled:$F,useRecoilValue:IF,useRecoilValueLoadable:CF,useRecoilState:_F,useRecoilStateLoadable:TF,useSetRecoilState:AF,useResetRecoilState:kF,useGetRecoilValueInfo_UNSTABLE:aj,useRecoilRefresher_UNSTABLE:Bj,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:RF,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:xF,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:EF,useRecoilCallback:PF,useRecoilTransaction_UNSTABLE:Kj,useGotoRecoilSnapshot:NF,useRecoilSnapshot:OF,useRecoilTransactionObserver_UNSTABLE:DF,snapshot_UNSTABLE:bF,useRetain:Ly,retentionZone:SF},FF=Uy.RecoilRoot,wx=Uy.atom,Nn=Uy.useRecoilState,By={};Object.defineProperty(By,"__esModule",{value:!0});var zy=By.recoilPersist=void 0;const UF=(t={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:n=localStorage}=t,r=({onSet:u,node:l,trigger:c,setSelf:h})=>{if(c==="get"){const f=o();typeof f.then=="function"&&f.then(m=>{m.hasOwnProperty(l.key)&&h(m[l.key])}),f.hasOwnProperty(l.key)&&h(f[l.key])}u(async(f,m,g)=>{const w=o();typeof w.then=="function"?w.then(T=>i(f,T,l.key,g)):i(f,w,l.key,g)})},i=(u,l,c,h)=>{h?delete l[c]:l[c]=u,a(l)},o=()=>{const u=n.getItem(e);return u==null?{}:typeof u=="string"?s(u):typeof u.then=="function"?u.then(s):{}},s=u=>{if(u===void 0)return{};try{return JSON.parse(u)}catch(l){return console.error(l),{}}},a=u=>{try{typeof n.mergeItem=="function"?n.mergeItem(e,JSON.stringify(u)):n.setItem(e,JSON.stringify(u))}catch(l){console.error(l)}};return{persistAtom:r}};zy=By.recoilPersist=UF;const Sx={connected:!1,uid:"",photoURL:"",displayName:""},{persistAtom:BF}=zy({key:"userState",storage:localStorage}),sa=wx({key:"userState",default:Sx,effects_UNSTABLE:[BF]}),zF=()=>{const[{connected:t}]=Nn(sa),e=Ar();return R.useEffect(()=>{e(t?"/projects":"/sign-in")},[]),y.jsx(y.Fragment,{})},ze=({className:t,value:e,onChange:n,type:r,label:i,lightTheme:o})=>y.jsxs("div",{className:`${t} relative w-full`,children:[y.jsx("label",{className:`
                    pointer-events-none                
                    absolute 
                    text-ink-light-grey font-ink-catamaran text-sm
                    transition-all duration-300 transition-ease-in-out
                    italic
            
                    left-2
                    ${e.length>0?"-top-2 text-xxs":"top-[0.65rem]"}
                `,children:i}),r==="textarea"?y.jsx("textarea",{className:`
                    w-full h-full bg-ink-transparent 
                    font-ink-catamaran text-sm 
                    py-2 px-2 
                    border-b-[1px]
                    transition-all duration-300 transition-ease-in-out
                    focus:outline-none ${o===!0||o===void 0?"text-ink-white border-ink-lighter-grey focus:border-ink-white":"text-ink-dark-grey border-ink-dark-grey focus:ink-dark-grey"}
                `,value:e,onChange:n}):y.jsx("input",{type:r,className:`
                        w-full h-full bg-ink-transparent 
                        font-ink-catamaran text-sm 
                        py-2 px-2 border-b-[1px] 
                        transition-all duration-300 transition-ease-in-out
                        focus:outline-none ${o===!0||o===void 0?"text-ink-white border-ink-lighter-grey focus:border-ink-white":"text-ink-dark-grey border-ink-dark-grey focus:ink-dark-grey"}
                    `,value:e,onChange:n})]}),Rt=({className:t,onClick:e,children:n,lightTheme:r})=>y.jsx("button",{className:`
                ${t||""}
                transition duration-300 ease-in-out
                bg-ink-transparent 
                border px-4 py-2 rounded
                
                font-ink-fira font-extralight 
                text-center text-sm
                tracking-ink-3 indent-ink-3
                
                hover:scale-110
                
                active:scale-90
                
                ${r===!0||r===void 0?"border-ink-white text-ink-white hover:bg-ink-white hover:text-ink-dark-grey":"border-ink-dark-grey text-ink-dark-grey hover:bg-ink-dark-grey hover:text-ink-white"}
            `,onClick:e,children:n}),bx=({children:t})=>y.jsx("div",{className:"spacer bg-[url('../waves/sign_waves.png')] h-screen bg-ink-medium-grey flex justify-center items-center",children:y.jsxs("div",{className:"w-1/4 min-w-[170px] max-w-[400px] h-1/2",children:[y.jsx("h1",{className:"text-ink-white text-4xl font-ink-libre text-center mb-20",children:"Inkwell"}),t]})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ex={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(f=64)),r.push(n[c],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_x(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw new HF;const f=o<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),h!==64){const g=l<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qF=function(t){const e=_x(t);return Ex.encodeByteArray(e,!0)},Kh=function(t){return qF(t).replace(/\./g,"")},Tx=function(t){try{return Ex.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=()=>KF().__FIREBASE_DEFAULTS__,QF=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tx(t[1]);return e&&JSON.parse(e)},Wy=()=>{try{return GF()||QF()||YF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ix=t=>{var e,n;return(n=(e=Wy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XF=t=>{const e=Ix(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xx=()=>{var t;return(t=Wy())===null||t===void 0?void 0:t.config},Cx=t=>{var e;return(e=Wy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Kh(JSON.stringify(n)),Kh(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Rx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nU(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ax(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function rU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iU,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new hr(i,a,r)}}function oU(t,e){return t.replace(sU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sU=/\{\$([^}]+)}/g;function aU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(_b(o)&&_b(s)){if(!Gh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _b(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uU(t,e){const n=new lU(t,e);return n.subscribe.bind(n)}class lU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qp),i.error===void 0&&(i.error=Qp),i.complete===void 0&&(i.complete=Qp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=1e3,fU=2,dU=4*60*60*1e3,pU=.5;function Eb(t,e=hU,n=fU){const r=e*Math.pow(n,t),i=Math.round(pU*r*(Math.random()-.5)*2);return Math.min(dU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class ar{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vU(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gU(t){return t===so?void 0:t}function vU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const wU={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},SU=Re.INFO,bU={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},_U=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wd{constructor(e){this.name=e,this._logLevel=SU,this._logHandler=_U,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const EU=(t,e)=>e.some(n=>t instanceof n);let Tb,Ib;function TU(){return Tb||(Tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IU(){return Ib||(Ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,Mg=new WeakMap,Ox=new WeakMap,Yp=new WeakMap,Hy=new WeakMap;function xU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Nx.set(n,t)}).catch(()=>{}),Hy.set(e,t),e}function CU(t){if(Mg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Mg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RU(t){$g=t($g)}function kU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return Ox.set(r,e.sort?e.sort():[e]),Mi(r)}:IU().includes(t)?function(...e){return t.apply(Xp(this),e),Mi(Nx.get(this))}:function(...e){return Mi(t.apply(Xp(this),e))}}function AU(t){return typeof t=="function"?kU(t):(t instanceof IDBTransaction&&CU(t),EU(t,TU())?new Proxy(t,$g):t)}function Mi(t){if(t instanceof IDBRequest)return xU(t);if(Yp.has(t))return Yp.get(t);const e=AU(t);return e!==t&&(Yp.set(t,e),Hy.set(e,t)),e}const Xp=t=>Hy.get(t);function NU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Mi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Mi(s.result),u.oldVersion,u.newVersion,Mi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const OU=["get","getKey","getAll","getAllKeys","count"],DU=["put","add","delete","clear"],Jp=new Map;function xb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OU.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Jp.set(e,o),o}RU(t=>({...t,get:(e,n,r)=>xb(e,n)||t.get(e,n,r),has:(e,n)=>!!xb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jg="@firebase/app",Cb="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new wd("@firebase/app"),MU="@firebase/app-compat",$U="@firebase/analytics-compat",jU="@firebase/analytics",VU="@firebase/app-check-compat",FU="@firebase/app-check",UU="@firebase/auth",BU="@firebase/auth-compat",zU="@firebase/database",WU="@firebase/database-compat",HU="@firebase/functions",qU="@firebase/functions-compat",KU="@firebase/installations",GU="@firebase/installations-compat",QU="@firebase/messaging",YU="@firebase/messaging-compat",XU="@firebase/performance",JU="@firebase/performance-compat",ZU="@firebase/remote-config",eB="@firebase/remote-config-compat",tB="@firebase/storage",nB="@firebase/storage-compat",rB="@firebase/firestore",iB="@firebase/firestore-compat",oB="firebase",sB="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="[DEFAULT]",aB={[jg]:"fire-core",[MU]:"fire-core-compat",[jU]:"fire-analytics",[$U]:"fire-analytics-compat",[FU]:"fire-app-check",[VU]:"fire-app-check-compat",[UU]:"fire-auth",[BU]:"fire-auth-compat",[zU]:"fire-rtdb",[WU]:"fire-rtdb-compat",[HU]:"fire-fn",[qU]:"fire-fn-compat",[KU]:"fire-iid",[GU]:"fire-iid-compat",[QU]:"fire-fcm",[YU]:"fire-fcm-compat",[XU]:"fire-perf",[JU]:"fire-perf-compat",[ZU]:"fire-rc",[eB]:"fire-rc-compat",[tB]:"fire-gcs",[nB]:"fire-gcs-compat",[rB]:"fire-fst",[iB]:"fire-fst-compat","fire-js":"fire-js",[oB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,Fg=new Map;function uB(t,e){try{t.container.addComponent(e)}catch(n){No.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rr(t){const e=t.name;if(Fg.has(e))return No.debug(`There were multiple attempts to register component ${e}.`),!1;Fg.set(e,t);for(const n of Qh.values())uB(n,t);return!0}function Ml(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new Ho("app","Firebase",lB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=sB;function Dx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=xx()),!n)throw $i.create("no-options");const o=Qh.get(i);if(o){if(Gh(n,o.options)&&Gh(r,o.config))return o;throw $i.create("duplicate-app",{appName:i})}const s=new yU(i);for(const u of Fg.values())s.addComponent(u);const a=new cB(n,r,s);return Qh.set(i,a),a}function Px(t=Vg){const e=Qh.get(t);if(!e&&t===Vg&&xx())return Dx();if(!e)throw $i.create("no-app",{appName:t});return e}function Wn(t,e,n){var r;let i=(r=aB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),No.warn(a.join(" "));return}Rr(new ar(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="firebase-heartbeat-database",fB=1,sl="firebase-heartbeat-store";let Zp=null;function Lx(){return Zp||(Zp=NU(hB,fB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sl)}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function dB(t){try{return await(await Lx()).transaction(sl).objectStore(sl).get(Mx(t))}catch(e){if(e instanceof hr)No.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});No.warn(n.message)}}}async function Rb(t,e){try{const r=(await Lx()).transaction(sl,"readwrite");await r.objectStore(sl).put(e,Mx(t)),await r.done}catch(n){if(n instanceof hr)No.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});No.warn(r.message)}}}function Mx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=1024,mB=30*24*60*60*1e3;class gB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=mB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kb(),{heartbeatsToSend:n,unsentEntries:r}=vB(this._heartbeatsCache.heartbeats),i=Kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function kb(){return new Date().toISOString().substring(0,10)}function vB(t,e=pB){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ab(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ab(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kx()?Ax().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await dB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ab(t){return Kh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){Rr(new ar("platform-logger",e=>new PU(e),"PRIVATE")),Rr(new ar("heartbeat",e=>new gB(e),"PRIVATE")),Wn(jg,Cb,t),Wn(jg,Cb,"esm2017"),Wn("fire-js","")}wB("");var SB="firebase",bB="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(SB,bB,"app");const _B=(t,e)=>e.some(n=>t instanceof n);let Nb,Ob;function EB(){return Nb||(Nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TB(){return Ob||(Ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $x=new WeakMap,Ug=new WeakMap,jx=new WeakMap,em=new WeakMap,qy=new WeakMap;function IB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ji(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&$x.set(n,t)}).catch(()=>{}),qy.set(e,t),e}function xB(t){if(Ug.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ug.set(t,e)}let Bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CB(t){Bg=t(Bg)}function RB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tm(this),e,...n);return jx.set(r,e.sort?e.sort():[e]),ji(r)}:TB().includes(t)?function(...e){return t.apply(tm(this),e),ji($x.get(this))}:function(...e){return ji(t.apply(tm(this),e))}}function kB(t){return typeof t=="function"?RB(t):(t instanceof IDBTransaction&&xB(t),_B(t,EB())?new Proxy(t,Bg):t)}function ji(t){if(t instanceof IDBRequest)return IB(t);if(em.has(t))return em.get(t);const e=kB(t);return e!==t&&(em.set(t,e),qy.set(e,t)),e}const tm=t=>qy.get(t);function AB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ji(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ji(s.result),u.oldVersion,u.newVersion,ji(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const NB=["get","getKey","getAll","getAllKeys","count"],OB=["put","add","delete","clear"],nm=new Map;function Db(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NB.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return nm.set(e,o),o}CB(t=>({...t,get:(e,n,r)=>Db(e,n)||t.get(e,n,r),has:(e,n)=>!!Db(e,n)||t.has(e,n)}));const Vx="@firebase/installations",Ky="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=1e4,Ux=`w:${Ky}`,Bx="FIS_v2",DB="https://firebaseinstallations.googleapis.com/v1",PB=60*60*1e3,LB="installations",MB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Oo=new Ho(LB,MB,$B);function zx(t){return t instanceof hr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx({projectId:t}){return`${DB}/projects/${t}/installations`}function Hx(t){return{token:t.token,requestStatus:2,expiresIn:VB(t.expiresIn),creationTime:Date.now()}}async function qx(t,e){const r=(await e.json()).error;return Oo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Kx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jB(t,{refreshToken:e}){const n=Kx(t);return n.append("Authorization",FB(e)),n}async function Gx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function VB(t){return Number(t.replace("s","000"))}function FB(t){return`${Bx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Wx(t),i=Kx(t),o=e.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const s={fid:n,authVersion:Bx,appId:t.appId,sdkVersion:Ux},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await Gx(()=>fetch(r,a));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Hx(l.authToken)}}else throw await qx("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=/^[cdef][\w-]{21}$/,zg="";function WB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=HB(t);return zB.test(n)?n:zg}catch{return zg}}function HB(t){return BB(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;function Xx(t,e){const n=Sd(t);Jx(n,e),qB(n,e)}function Jx(t,e){const n=Yx.get(t);if(n)for(const r of n)r(e)}function qB(t,e){const n=KB();n&&n.postMessage({key:t,fid:e}),GB()}let po=null;function KB(){return!po&&"BroadcastChannel"in self&&(po=new BroadcastChannel("[Firebase] FID Change"),po.onmessage=t=>{Jx(t.data.key,t.data.fid)}),po}function GB(){Yx.size===0&&po&&(po.close(),po=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="firebase-installations-database",YB=1,Do="firebase-installations-store";let rm=null;function Gy(){return rm||(rm=AB(QB,YB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Do)}}})),rm}async function Yh(t,e){const n=Sd(t),i=(await Gy()).transaction(Do,"readwrite"),o=i.objectStore(Do),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&Xx(t,e.fid),e}async function Zx(t){const e=Sd(t),r=(await Gy()).transaction(Do,"readwrite");await r.objectStore(Do).delete(e),await r.done}async function bd(t,e){const n=Sd(t),i=(await Gy()).transaction(Do,"readwrite"),o=i.objectStore(Do),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&Xx(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qy(t){let e;const n=await bd(t.appConfig,r=>{const i=XB(r),o=JB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===zg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function XB(t){const e=t||{fid:WB(),registrationStatus:0};return eC(e)}function JB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Oo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ZB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:e4(t)}:{installationEntry:e}}async function ZB(t,e){try{const n=await UB(t,e);return Yh(t.appConfig,n)}catch(n){throw zx(n)&&n.customData.serverCode===409?await Zx(t.appConfig):await Yh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function e4(t){let e=await Pb(t.appConfig);for(;e.registrationStatus===1;)await Qx(100),e=await Pb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qy(t);return r||n}return e}function Pb(t){return bd(t,e=>{if(!e)throw Oo.create("installation-not-found");return eC(e)})}function eC(t){return t4(t)?{fid:t.fid,registrationStatus:0}:t}function t4(t){return t.registrationStatus===1&&t.registrationTime+Fx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4({appConfig:t,heartbeatServiceProvider:e},n){const r=r4(t,n),i=jB(t,n),o=e.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const s={installation:{sdkVersion:Ux,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await Gx(()=>fetch(r,a));if(u.ok){const l=await u.json();return Hx(l)}else throw await qx("Generate Auth Token",u)}function r4(t,{fid:e}){return`${Wx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yy(t,e=!1){let n;const r=await bd(t.appConfig,o=>{if(!tC(o))throw Oo.create("not-registered");const s=o.authToken;if(!e&&s4(s))return o;if(s.requestStatus===1)return n=i4(t,e),o;{if(!navigator.onLine)throw Oo.create("app-offline");const a=u4(o);return n=o4(t,a),a}});return n?await n:r.authToken}async function i4(t,e){let n=await Lb(t.appConfig);for(;n.authToken.requestStatus===1;)await Qx(100),n=await Lb(t.appConfig);const r=n.authToken;return r.requestStatus===0?Yy(t,e):r}function Lb(t){return bd(t,e=>{if(!tC(e))throw Oo.create("not-registered");const n=e.authToken;return l4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function o4(t,e){try{const n=await n4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Yh(t.appConfig,r),n}catch(n){if(zx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Zx(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Yh(t.appConfig,r)}throw n}}function tC(t){return t!==void 0&&t.registrationStatus===2}function s4(t){return t.requestStatus===2&&!a4(t)}function a4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+PB}function u4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function l4(t){return t.requestStatus===1&&t.requestTime+Fx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t){const e=t,{installationEntry:n,registrationPromise:r}=await Qy(e);return r?r.catch(console.error):Yy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e=!1){const n=t;return await f4(n),(await Yy(n,e)).token}async function f4(t){const{registrationPromise:e}=await Qy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(!t||!t.options)throw im("App Configuration");if(!t.name)throw im("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw im(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function im(t){return Oo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="installations",p4="installations-internal",m4=t=>{const e=t.getProvider("app").getImmediate(),n=d4(e),r=Ml(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},g4=t=>{const e=t.getProvider("app").getImmediate(),n=Ml(e,nC).getImmediate();return{getId:()=>c4(n),getToken:i=>h4(n,i)}};function v4(){Rr(new ar(nC,m4,"PUBLIC")),Rr(new ar(p4,g4,"PRIVATE"))}v4();Wn(Vx,Ky);Wn(Vx,Ky,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="analytics",y4="firebase_id",w4="origin",S4=60*1e3,b4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new wd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hn=new Ho("analytics","Analytics",_4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){if(!t.startsWith(Xy)){const e=Hn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function rC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function T4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function I4(t,e){const n=T4("firebase-js-sdk-policy",{createScriptURL:E4}),r=document.createElement("script"),i=`${Xy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function x4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function C4(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const u=(await rC(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(a){Tn.error(a)}t("config",i,o)}async function R4(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await rC(n);for(const u of s){const l=a.find(h=>h.measurementId===u),c=l&&e[l.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Tn.error(o)}}function k4(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,u]=s;await R4(t,e,n,a,u)}else if(o==="config"){const[a,u]=s;await C4(t,e,n,r,a,u)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Tn.error(a)}}return i}function A4(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=k4(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function N4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Xy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=30,D4=1e3;class P4{constructor(e={},n=D4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iC=new P4;function L4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function M4(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:L4(r)},o=b4.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const u=await s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function $4(t,e=iC,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Hn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Hn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new F4;return setTimeout(async()=>{a.abort()},n!==void 0?n:S4),oC({appId:r,apiKey:i,measurementId:o},s,a,e)}async function oC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iC){var o;const{appId:s,measurementId:a}=t;try{await j4(r,e)}catch(u){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw u}try{const u=await M4(t);return i.deleteThrottleMetadata(s),u}catch(u){const l=u;if(!V4(l)){if(i.deleteThrottleMetadata(s),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw u}const c=Number((o=l==null?void 0:l.customData)===null||o===void 0?void 0:o.httpStatus)===503?Eb(n,i.intervalMillis,O4):Eb(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,h),Tn.debug(`Calling attemptFetch again in ${c} millis`),oC(t,h,r,i)}}function j4(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function V4(t){if(!(t instanceof hr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class F4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function U4(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(){if(kx())try{await Ax()}catch(t){return Tn.warn(Hn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tn.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function z4(t,e,n,r,i,o,s){var a;const u=$4(t);u.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Tn.error(m)),e.push(u);const l=B4().then(m=>{if(m)return r.getId()}),[c,h]=await Promise.all([u,l]);N4(o)||I4(o,c.measurementId),i("js",new Date);const f=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return f[w4]="firebase",f.update=!0,h!=null&&(f[y4]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.app=e}_delete(){return delete Nu[this.app.options.appId],Promise.resolve()}}let Nu={},$b=[];const jb={};let om="dataLayer",H4="gtag",Vb,sC,Fb=!1;function q4(){const t=[];if(Rx()&&t.push("This is a browser extension environment."),rU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Hn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function K4(t,e,n){q4();const r=t.options.appId;if(!r)throw Hn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hn.create("no-api-key");if(Nu[r]!=null)throw Hn.create("already-exists",{id:r});if(!Fb){x4(om);const{wrappedGtag:o,gtagCore:s}=A4(Nu,$b,jb,om,H4);sC=o,Vb=s,Fb=!0}return Nu[r]=z4(t,$b,jb,e,Vb,om,n),new W4(t)}function G4(t,e,n,r){t=Dt(t),U4(sC,Nu[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}const Ub="@firebase/analytics",Bb="0.10.0";function Q4(){Rr(new ar(Mb,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return K4(r,i,n)},"PUBLIC")),Rr(new ar("analytics-internal",t,"PRIVATE")),Wn(Ub,Bb),Wn(Ub,Bb,"esm2017");function t(e){try{const n=e.getProvider(Mb).getImmediate();return{logEvent:(r,i,o)=>G4(n,r,i,o)}}catch(n){throw Hn.create("interop-component-reg-failed",{reason:n})}}}Q4();var Y4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,Jy=Jy||{},de=Y4||self;function Xh(){}function _d(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $l(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function X4(t){return Object.prototype.hasOwnProperty.call(t,sm)&&t[sm]||(t[sm]=++J4)}var sm="closure_uid_"+(1e9*Math.random()>>>0),J4=0;function Z4(t,e,n){return t.call.apply(t.bind,arguments)}function ez(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?en=Z4:en=ez,en.apply(null,arguments)}function Oc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function jt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function eo(){this.s=this.s,this.o=this.o}var tz=0;eo.prototype.s=!1;eo.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),tz!=0)&&X4(this)};eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_d(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var nz=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{de.addEventListener("test",Xh,e),de.removeEventListener("test",Xh,e)}catch{}return t}();function Jh(t){return/^[\s\xa0]*$/.test(t)}var Wb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function am(t,e){return t<e?-1:t>e?1:0}function Ed(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return Ed().indexOf(t)!=-1}function ew(t){return ew[" "](t),t}ew[" "]=Xh;function uC(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var rz=Sr("Opera"),aa=Sr("Trident")||Sr("MSIE"),lC=Sr("Edge"),Wg=lC||aa,cC=Sr("Gecko")&&!(Ed().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),iz=Ed().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge");function hC(){var t=de.document;return t?t.documentMode:void 0}var Zh;e:{var um="",lm=function(){var t=Ed();if(cC)return/rv:([^\);]+)(\)|;)/.exec(t);if(lC)return/Edge\/([\d\.]+)/.exec(t);if(aa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(iz)return/WebKit\/(\S+)/.exec(t);if(rz)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(lm&&(um=lm?lm[1]:""),aa){var cm=hC();if(cm!=null&&cm>parseFloat(um)){Zh=String(cm);break e}}Zh=um}var oz={};function sz(){return uC(oz,9,function(){let t=0;const e=Wb(String(Zh)).split("."),n=Wb("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=am(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||am(i[2].length==0,o[2].length==0)||am(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Hg;if(de.document&&aa){var Hb=hC();Hg=Hb||parseInt(Zh,10)||void 0}else Hg=void 0;var az=Hg;function al(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cC){e:{try{ew(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uz[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&al.$.h.call(this)}}jt(al,tn);var uz={2:"touch",3:"pen",4:"mouse"};al.prototype.h=function(){al.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jl="closure_listenable_"+(1e6*Math.random()|0),lz=0;function cz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lz,this.fa=this.ia=!1}function Td(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fC(t){const e={};for(const n in t)e[n]=t[n];return e}const qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<qb.length;o++)n=qb[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Id(t){this.src=t,this.g={},this.h=0}Id.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Kg(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new cz(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function qg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=aC(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Td(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Kg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var nw="closure_lm_"+(1e6*Math.random()|0),hm={};function pC(t,e,n,r,i){if(r&&r.once)return gC(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pC(t,e[o],n,r,i);return null}return n=ow(n),t&&t[jl]?t.O(e,n,$l(r)?!!r.capture:!!r,i):mC(t,e,n,!1,r,i)}function mC(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=$l(i)?!!i.capture:!!i,a=iw(t);if(a||(t[nw]=a=new Id(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=hz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nz||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hz(){function t(n){return e.call(t.src,t.listener,n)}const e=fz;return t}function gC(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gC(t,e[o],n,r,i);return null}return n=ow(n),t&&t[jl]?t.P(e,n,$l(r)?!!r.capture:!!r,i):mC(t,e,n,!0,r,i)}function vC(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vC(t,e[o],n,r,i);else r=$l(r)?!!r.capture:!!r,n=ow(n),t&&t[jl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Kg(o,n,r,i),-1<n&&(Td(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=iw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Kg(e,n,r,i)),(n=-1<t?e[t]:null)&&rw(n))}function rw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[jl])qg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iw(e))?(qg(n,t),n.h==0&&(n.src=null,e[nw]=null)):Td(t)}}}function yC(t){return t in hm?hm[t]:hm[t]="on"+t}function fz(t,e){if(t.fa)t=!0;else{e=new al(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rw(t),t=n.call(r,e)}return t}function iw(t){return t=t[nw],t instanceof Id?t:null}var fm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ow(t){return typeof t=="function"?t:(t[fm]||(t[fm]=function(e){return t.handleEvent(e)}),t[fm])}function Pt(){eo.call(this),this.i=new Id(this),this.S=this,this.J=null}jt(Pt,eo);Pt.prototype[jl]=!0;Pt.prototype.removeEventListener=function(t,e,n,r){vC(this,t,e,n,r)};function zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;e=new tn(r,t),dC(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Dc(s,r,!0,e)&&i}if(s=e.g=t,i=Dc(s,r,!0,e)&&i,i=Dc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Dc(s,r,!1,e)&&i}Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Td(n[r]);delete t.g[e],t.h--}}this.J=null};Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&qg(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var sw=de.JSON.stringify;function dz(){var t=bC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pz{constructor(){this.h=this.g=null}add(e,n){const r=wC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wC=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new mz,t=>t.reset());class mz{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gz(t){de.setTimeout(()=>{throw t},0)}function SC(t,e){Gg||vz(),Qg||(Gg(),Qg=!0),bC.add(t,e)}var Gg;function vz(){var t=de.Promise.resolve(void 0);Gg=function(){t.then(yz)}}var Qg=!1,bC=new pz;function yz(){for(var t;t=dz();){try{t.h.call(t.g)}catch(n){gz(n)}var e=wC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qg=!1}function xd(t,e){Pt.call(this),this.h=t||1,this.g=e||de,this.j=en(this.qb,this),this.l=Date.now()}jt(xd,Pt);G=xd.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(aw(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function aw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){xd.$.N.call(this),aw(this),delete this.g};function uw(t,e,n){if(typeof t=="function")n&&(t=en(t,n));else if(t&&typeof t.handleEvent=="function")t=en(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function _C(t){t.g=uw(()=>{t.g=null,t.i&&(t.i=!1,_C(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wz extends eo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_C(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ul(t){eo.call(this),this.h=t,this.g={}}jt(ul,eo);var Kb=[];function EC(t,e,n,r){Array.isArray(n)||(n&&(Kb[0]=n.toString()),n=Kb);for(var i=0;i<n.length;i++){var o=pC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function TC(t){tw(t.g,function(e,n){this.g.hasOwnProperty(n)&&rw(e)},t),t.g={}}ul.prototype.N=function(){ul.$.N.call(this),TC(this)};ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Cd(){this.g=!0}Cd.prototype.Ea=function(){this.g=!1};function Sz(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function bz(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Ez(t,n)+(r?" "+r:"")})}function _z(t,e){t.info(function(){return"TIMEOUT: "+e})}Cd.prototype.info=function(){};function Ez(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return sw(n)}catch{return e}}var qo={},Gb=null;function Rd(){return Gb=Gb||new Pt}qo.Ta="serverreachability";function IC(t){tn.call(this,qo.Ta,t)}jt(IC,tn);function ll(t){const e=Rd();zt(e,new IC(e))}qo.STAT_EVENT="statevent";function xC(t,e){tn.call(this,qo.STAT_EVENT,t),this.stat=e}jt(xC,tn);function un(t){const e=Rd();zt(e,new xC(e,t))}qo.Ua="timingevent";function CC(t,e){tn.call(this,qo.Ua,t),this.size=e}jt(CC,tn);function Vl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var kd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lw(){}lw.prototype.h=null;function Qb(t){return t.h||(t.h=t.i())}function kC(){}var Fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cw(){tn.call(this,"d")}jt(cw,tn);function hw(){tn.call(this,"c")}jt(hw,tn);var Yg;function Ad(){}jt(Ad,lw);Ad.prototype.g=function(){return new XMLHttpRequest};Ad.prototype.i=function(){return{}};Yg=new Ad;function Ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ul(this),this.P=Tz,t=Wg?125:void 0,this.V=new xd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new AC}function AC(){this.i=null,this.g="",this.h=!1}var Tz=45e3,Xg={},ef={};G=Ul.prototype;G.setTimeout=function(t){this.P=t};function Jg(t,e,n){t.L=1,t.v=Od(ei(e)),t.s=n,t.S=!0,NC(t,null)}function NC(t,e){t.G=Date.now(),Bl(t),t.A=ei(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),VC(n.i,"t",r),t.C=0,n=t.l.I,t.h=new AC,t.g=sR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wz(en(t.Pa,t,t.g),t.O)),EC(t.U,t.g,"readystatechange",t.nb),e=t.I?fC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ll(),Sz(t.j,t.u,t.A,t.m,t.W,t.s)}G.nb=function(t){t=t.target;const e=this.M;e&&Br(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{const c=Br(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Wg||this.g&&(this.h.h||this.g.ja()||Zb(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?ll(3):ll(2)),Nd(this);var n=this.g.da();this.aa=n;t:if(OC(this)){var r=Zb(this.g);t="";var i=r.length,o=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),Ou(this);var s="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,bz(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jh(a)){var l=a;break t}}l=null}if(n=l)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zg(this,n);else{this.i=!1,this.o=3,un(12),mo(this),Ou(this);break e}}this.S?(DC(this,c,s),Wg&&this.i&&c==3&&(EC(this.U,this.V,"tick",this.mb),this.V.start())):(ks(this.j,this.m,s,null),Zg(this,s)),c==4&&mo(this),this.i&&!this.J&&(c==4?nR(this.l,this):(this.i=!1,Bl(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),mo(this),Ou(this)}}}catch{}finally{}};function OC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function DC(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Iz(t,n),i==ef){e==4&&(t.o=4,un(14),r=!1),ks(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Xg){t.o=4,un(15),ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ks(t.j,t.m,i,null),Zg(t,i);OC(t)&&i!=ef&&i!=Xg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),yw(e),e.L=!0,un(11))):(ks(t.j,t.m,n,"[Invalid Chunked Response]"),mo(t),Ou(t))}G.mb=function(){if(this.g){var t=Br(this.g),e=this.g.ja();this.C<e.length&&(Nd(this),DC(this,t,e),this.i&&t!=4&&Bl(this))}};function Iz(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ef:(n=Number(e.substring(n,r)),isNaN(n)?Xg:(r+=1,r+n>e.length?ef:(e=e.substr(r,n),t.C=r+n,e)))}G.cancel=function(){this.J=!0,mo(this)};function Bl(t){t.Y=Date.now()+t.P,PC(t,t.P)}function PC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Vl(en(t.lb,t),e)}function Nd(t){t.B&&(de.clearTimeout(t.B),t.B=null)}G.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(_z(this.j,this.A),this.L!=2&&(ll(),un(17)),mo(this),this.o=2,Ou(this)):PC(this,this.Y-t)};function Ou(t){t.l.H==0||t.J||nR(t.l,t)}function mo(t){Nd(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,aw(t.V),TC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Zg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ev(n.h,t))){if(!t.K&&ev(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rf(n),Ld(n);else break e;vw(n),un(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=Vl(en(n.ib,n),6e3));if(1>=BC(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else go(n,11)}else if((t.K||n.g==t)&&rf(n),!Jh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.J=l[1],n.oa=l[2];const c=l[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const h=l[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.h;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(fw(o,o.h),o.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Xe(r.G,r.F,w))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=oR(r,r.I?r.oa:null,r.Y),s.K){zC(r.h,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(Nd(a),Bl(a)),r.g=s}else eR(r);0<n.i.length&&Md(n)}else l[0]!="stop"&&l[0]!="close"||go(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?go(n,7):gw(n):l[0]!="noop"&&n.l&&n.l.Aa(l),n.A=0)}}ll(4)}catch{}}function xz(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Cz(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_d(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function LC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_d(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Cz(t),r=xz(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var MC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function bo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof bo){this.h=e!==void 0?e:t.h,tf(this,t.j),this.s=t.s,this.g=t.g,nf(this,t.m),this.l=t.l,e=t.i;var n=new cl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Yb(this,n),this.o=t.o}else t&&(n=String(t).match(MC))?(this.h=!!e,tf(this,n[1]||"",!0),this.s=du(n[2]||""),this.g=du(n[3]||"",!0),nf(this,n[4]),this.l=du(n[5]||"",!0),Yb(this,n[6]||"",!0),this.o=du(n[7]||"")):(this.h=!!e,this.i=new cl(null,this.h))}bo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pu(e,Xb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pu(e,Xb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pu(n,n.charAt(0)=="/"?Nz:Az,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pu(n,Dz)),t.join("")};function ei(t){return new bo(t)}function tf(t,e,n){t.j=n?du(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Yb(t,e,n){e instanceof cl?(t.i=e,Pz(t.i,t.h)):(n||(e=pu(e,Oz)),t.i=new cl(e,t.h))}function Xe(t,e,n){t.i.set(e,n)}function Od(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function du(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Xb=/[#\/\?@]/g,Az=/[#\?:]/g,Nz=/[#\?]/g,Oz=/[#\?@]/g,Dz=/#/g;function cl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function to(t){t.g||(t.g=new Map,t.h=0,t.i&&Rz(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=cl.prototype;G.add=function(t,e){to(this),this.i=null,t=Na(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $C(t,e){to(t),e=Na(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jC(t,e){return to(t),e=Na(t,e),t.g.has(e)}G.forEach=function(t,e){to(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};G.sa=function(){to(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};G.Z=function(t){to(this);let e=[];if(typeof t=="string")jC(this,t)&&(e=e.concat(this.g.get(Na(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return to(this),this.i=null,t=Na(this,t),jC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function VC(t,e,n){$C(t,e),0<n.length&&(t.i=null,t.g.set(Na(t,e),Zy(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Na(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Pz(t,e){e&&!t.j&&(to(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($C(this,r),VC(this,i,n))},t)),t.j=e}var Lz=class{constructor(t,e){this.h=t,this.g=e}};function FC(t){this.l=t||Mz,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mz=10;function UC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BC(t){return t.h?1:t.g?t.g.size:0}function ev(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fw(t,e){t.g?t.g.add(e):t.h=e}function zC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FC.prototype.cancel=function(){if(this.i=WC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Zy(t.i)}function dw(){}dw.prototype.stringify=function(t){return de.JSON.stringify(t,void 0)};dw.prototype.parse=function(t){return de.JSON.parse(t,void 0)};function $z(){this.g=new dw}function jz(t,e,n){const r=n||"";try{LC(t,function(i,o){let s=i;$l(i)&&(s=sw(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vz(t,e){const n=new Cd;if(de.Image){const r=new Image;r.onload=Oc(Pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oc(Pc,n,r,"TestLoadImage: error",!1,e),r.onabort=Oc(Pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oc(Pc,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zl(t){this.l=t.fc||null,this.j=t.ob||!1}jt(zl,lw);zl.prototype.g=function(){return new Dd(this.l,this.j)};zl.prototype.i=function(t){return function(){return t}}({});function Dd(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jt(Dd,Pt);var pw=0;G=Dd.prototype;G.open=function(t,e){if(this.readyState!=pw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hl(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wl(this)),this.readyState=pw};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function HC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wl(this):hl(this),this.readyState==3&&HC(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,Wl(this))};G.Ya=function(t){this.g&&(this.response=t,Wl(this))};G.ka=function(){this.g&&Wl(this)};function Wl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hl(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function hl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Fz=de.JSON.parse;function ht(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qC,this.L=this.M=!1}jt(ht,Pt);var qC="",Uz=/^https?$/i,Bz=["POST","PUT"];G=ht.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yg.g(),this.C=this.u?Qb(this.u):Qb(Yg),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Jb(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=aC(Bz,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QC(this),0<this.B&&((this.L=zz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=uw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Jb(this,o)}};function zz(t){return aa&&sz()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof Jy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function Jb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KC(t),Pd(t)}function KC(t){t.F||(t.F=!0,zt(t,"complete"),zt(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),Pd(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pd(this,!0)),ht.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?GC(this):this.kb())};G.kb=function(){GC(this)};function GC(t){if(t.h&&typeof Jy<"u"&&(!t.C[1]||Br(t)!=4||t.da()!=2)){if(t.v&&Br(t)==4)uw(t.La,0,t);else if(zt(t,"readystatechange"),Br(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(MC)[1]||null;if(!i&&de.self&&de.self.location){var o=de.self.location.protocol;i=o.substr(0,o.length-1)}r=!Uz.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var s=2<Br(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KC(t)}}finally{Pd(t)}}}}function Pd(t,e){if(t.g){QC(t);const n=t.g,r=t.C[0]?Xh:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function QC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}function Br(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Fz(e)}};function Zb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case qC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YC(t){let e="";return tw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xe(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XC(t){this.Ga=0,this.i=[],this.j=new Cd,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nu("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nu("baseRetryDelayMs",5e3,t),this.hb=nu("retryDelaySeedMs",1e4,t),this.eb=nu("forwardChannelMaxRetries",2,t),this.xa=nu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new FC(t&&t.concurrentRequestLimit),this.Ja=new $z,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}G=XC.prototype;G.qa=8;G.H=1;function gw(t){if(JC(t),t.H==3){var e=t.W++,n=ei(t.G);Xe(n,"SID",t.J),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),Hl(t,n),e=new Ul(t,t.j,e,void 0),e.L=2,e.v=Od(ei(n)),n=!1,de.navigator&&de.navigator.sendBeacon&&(n=de.navigator.sendBeacon(e.v.toString(),"")),!n&&de.Image&&(new Image().src=e.v,n=!0),n||(e.g=sR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bl(e)}iR(t)}function Ld(t){t.g&&(yw(t),t.g.cancel(),t.g=null)}function JC(t){Ld(t),t.u&&(de.clearTimeout(t.u),t.u=null),rf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function Md(t){UC(t.h)||t.m||(t.m=!0,SC(t.Na,t),t.C=0)}function Wz(t,e){return BC(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Vl(en(t.Na,t,e),rR(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ul(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=fC(o),dC(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZC(this,i,e),n=ei(this.G),Xe(n,"RID",t),Xe(n,"CVER",22),this.F&&Xe(n,"X-HTTP-Session-Id",this.F),Hl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(YC(o)))+"&"+e:this.o&&mw(n,this.o,o)),fw(this.h,i),this.bb&&Xe(n,"TYPE","init"),this.P?(Xe(n,"$req",e),Xe(n,"SID","null"),i.ba=!0,Jg(i,n,null)):Jg(i,n,e),this.H=2}}else this.H==3&&(t?e_(this,t):this.i.length==0||UC(this.h)||e_(this))};function e_(t,e){var n;e?n=e.m:n=t.W++;const r=ei(t.G);Xe(r,"SID",t.J),Xe(r,"RID",n),Xe(r,"AID",t.V),Hl(t,r),t.o&&t.s&&mw(r,t.o,t.s),n=new Ul(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=ZC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fw(t.h,n),Jg(n,r,e)}function Hl(t,e){t.ma&&tw(t.ma,function(n,r){Xe(e,r,n)}),t.l&&LC({},function(n,r){Xe(e,r,n)})}function ZC(t,e,n){n=Math.min(t.i.length,n);var r=t.l?en(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{jz(c,s,"req"+l+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function eR(t){t.g||t.u||(t.ba=1,SC(t.Ma,t),t.A=0)}function vw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Vl(en(t.Ma,t),rR(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,tR(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Vl(en(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,un(10),Ld(this),tR(this))};function yw(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function tR(t){t.g=new Ul(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ei(t.wa);Xe(e,"RID","rpc"),Xe(e,"SID",t.J),Xe(e,"CI",t.M?"0":"1"),Xe(e,"AID",t.V),Xe(e,"TYPE","xmlhttp"),Hl(t,e),t.o&&t.s&&mw(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Od(ei(e)),n.s=null,n.S=!0,NC(n,t)}G.ib=function(){this.v!=null&&(this.v=null,Ld(this),vw(this),un(19))};function rf(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function nR(t,e){var n=null;if(t.g==e){rf(t),yw(t),t.g=null;var r=2}else if(ev(t.h,e))n=e.F,zC(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Rd(),zt(r,new CC(r,n)),Md(t)}else eR(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&Wz(t,e)||r==2&&vw(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:go(t,5);break;case 4:go(t,10);break;case 3:go(t,6);break;default:go(t,2)}}}function rR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function go(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=en(t.pb,t);n||(n=new bo("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||tf(n,"https"),Od(n)),Vz(n.toString(),r)}else un(2);t.H=0,t.l&&t.l.za(e),iR(t),JC(t)}G.pb=function(t){t?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function iR(t){if(t.H=0,t.pa=[],t.l){const e=WC(t.h);(e.length!=0||t.i.length!=0)&&(zb(t.pa,e),zb(t.pa,t.i),t.h.i.length=0,Zy(t.i),t.i.length=0),t.l.ya()}}function oR(t,e,n){var r=n instanceof bo?ei(n):new bo(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),nf(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new bo(null,void 0);r&&tf(o,r),e&&(o.g=e),i&&nf(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Xe(r,n,e),Xe(r,"VER",t.qa),Hl(t,r),r}function sR(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ht(new zl({ob:!0})):new ht(t.va),e.Oa(t.I),e}function aR(){}G=aR.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.Va=function(){};function of(){if(aa&&!(10<=Number(az)))throw Error("Environmental error: no available transport.")}of.prototype.g=function(t,e){return new Pn(t,e)};function Pn(t,e){Pt.call(this),this.g=new XC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Jh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oa(this)}jt(Pn,Pt);Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=oR(t,null,t.Y),Md(t)};Pn.prototype.close=function(){gw(this.g)};Pn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sw(t),t=n);e.i.push(new Lz(e.fb++,t)),e.H==3&&Md(e)};Pn.prototype.N=function(){this.g.l=null,delete this.j,gw(this.g),delete this.g,Pn.$.N.call(this)};function uR(t){cw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}jt(uR,cw);function lR(){hw.call(this),this.status=1}jt(lR,hw);function Oa(t){this.g=t}jt(Oa,aR);Oa.prototype.Ba=function(){zt(this.g,"a")};Oa.prototype.Aa=function(t){zt(this.g,new uR(t))};Oa.prototype.za=function(t){zt(this.g,new lR)};Oa.prototype.ya=function(){zt(this.g,"b")};function Hz(){this.blockSize=-1}function ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}jt(ur,Hz);ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}ur.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)dm(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){dm(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){dm(this,r),i=0;break}}this.h=i,this.i+=e};ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function $e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var qz={};function ww(t){return-128<=t&&128>t?uC(qz,t,function(e){return new $e([e|0],0>e?-1:0)}):new $e([t|0],0>t?-1:0)}function br(t){if(isNaN(t)||!isFinite(t))return Vs;if(0>t)return Ut(br(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tv;return new $e(e,0)}function cR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ut(cR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=br(Math.pow(e,8)),r=Vs,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=br(Math.pow(e,o)),r=r.R(o).add(br(s))):(r=r.R(n),r=r.add(br(s)))}return r}var tv=4294967296,Vs=ww(0),nv=ww(1),t_=ww(16777216);G=$e.prototype;G.ea=function(){if(Un(this))return-Ut(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tv+r)*e,e*=tv}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zr(this))return"0";if(Un(this))return"-"+Ut(this).toString(t);for(var e=br(Math.pow(t,6)),n=this,r="";;){var i=af(n,e).g;n=sf(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Un(t){return t.h==-1}G.X=function(t){return t=sf(this,t),Un(t)?-1:zr(t)?0:1};function Ut(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $e(n,~t.h).add(nv)}G.abs=function(){return Un(this)?Ut(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new $e(n,n[n.length-1]&-2147483648?-1:0)};function sf(t,e){return t.add(Ut(e))}G.R=function(t){if(zr(this)||zr(t))return Vs;if(Un(this))return Un(t)?Ut(this).R(Ut(t)):Ut(Ut(this).R(t));if(Un(t))return Ut(this.R(Ut(t)));if(0>this.X(t_)&&0>t.X(t_))return br(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=s*u,Lc(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Lc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Lc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Lc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $e(n,0)};function Lc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ru(t,e){this.g=t,this.h=e}function af(t,e){if(zr(e))throw Error("division by zero");if(zr(t))return new ru(Vs,Vs);if(Un(t))return e=af(Ut(t),e),new ru(Ut(e.g),Ut(e.h));if(Un(e))return e=af(t,Ut(e)),new ru(Ut(e.g),e.h);if(30<t.g.length){if(Un(t)||Un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nv,r=e;0>=r.X(t);)n=n_(n),r=n_(r);var i=cs(n,1),o=cs(r,1);for(r=cs(r,2),n=cs(n,2);!zr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=cs(r,1),n=cs(n,1)}return e=sf(t,i.R(e)),new ru(i,e)}for(i=Vs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=br(n),s=o.R(e);Un(s)||0<s.X(t);)n-=r,o=br(n),s=o.R(e);zr(o)&&(o=nv),i=i.add(o),t=sf(t,s)}return new ru(i,t)}G.gb=function(t){return af(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $e(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $e(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $e(n,this.h^t.h)};function n_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $e(n,t.h)}function cs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new $e(i,t.h)}of.prototype.createWebChannel=of.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;kd.NO_ERROR=0;kd.TIMEOUT=8;kd.HTTP_ERROR=6;RC.COMPLETE="complete";kC.EventType=Fl;Fl.OPEN="a";Fl.CLOSE="b";Fl.ERROR="c";Fl.MESSAGE="d";Pt.prototype.listen=Pt.prototype.O;ht.prototype.listenOnce=ht.prototype.P;ht.prototype.getLastError=ht.prototype.Sa;ht.prototype.getLastErrorCode=ht.prototype.Ia;ht.prototype.getStatus=ht.prototype.da;ht.prototype.getResponseJson=ht.prototype.Wa;ht.prototype.getResponseText=ht.prototype.ja;ht.prototype.send=ht.prototype.ha;ht.prototype.setWithCredentials=ht.prototype.Oa;ur.prototype.digest=ur.prototype.l;ur.prototype.reset=ur.prototype.reset;ur.prototype.update=ur.prototype.j;$e.prototype.add=$e.prototype.add;$e.prototype.multiply=$e.prototype.R;$e.prototype.modulo=$e.prototype.gb;$e.prototype.compare=$e.prototype.X;$e.prototype.toNumber=$e.prototype.ea;$e.prototype.toString=$e.prototype.toString;$e.prototype.getBits=$e.prototype.D;$e.fromNumber=br;$e.fromString=cR;var Kz=function(){return new of},Gz=function(){return Rd()},pm=kd,Qz=RC,Yz=qo,r_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xz=zl,Mc=kC,Jz=ht,Zz=ur,Fs=$e;const i_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new wd("@firebase/firestore");function o_(){return Po.logLevel}function te(t,...e){if(Po.logLevel<=Re.DEBUG){const n=e.map(Sw);Po.debug(`Firestore (${Da}): ${t}`,...n)}}function ti(t,...e){if(Po.logLevel<=Re.ERROR){const n=e.map(Sw);Po.error(`Firestore (${Da}): ${t}`,...n)}}function ua(t,...e){if(Po.logLevel<=Re.WARN){const n=e.map(Sw);Po.warn(`Firestore (${Da}): ${t}`,...n)}}function Sw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw ti(e),new Error(e)}function Ke(t,e){t||fe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class t3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n3{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new hR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Yt(e)}}class r3{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class i3{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new r3(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s3{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.T=n.token,new o3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=a3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new yt(0,0))}static max(){return new me(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class We extends fl{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const u3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends fl{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return u3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(We.fromString(e))}static fromName(e){return new se(We.fromString(e).popFirst(5))}static empty(){return new se(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new We(e.slice()))}}function l3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Bi(i,se.empty(),e)}function c3(t){return new Bi(t.readTime,t.key,-1)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(me.min(),se.empty(),-1)}static max(){return new Bi(me.max(),se.empty(),-1)}}function h3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==f3)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{s[l]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}bw.ct=-1;function $d(t){return t==null}function uf(t){return t===0&&1/t==-1/0}function p3(t){return typeof t=="number"&&Number.isInteger(t)&&!uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=o??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ft(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new nn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pR("Invalid base64 string: "+i):i}}(e);return new sn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const m3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=m3.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ew(t){const e=t.mapValue.fields.__previous_value__;return _w(e)?Ew(e):e}function dl(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_w(t)?4:v3(t)?9007199254740991:10:fe()}function kr(t,e){if(t===e)return!0;const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dl(t).isEqual(dl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=zi(r.timestampValue),s=zi(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Lo(r.bytesValue).isEqual(Lo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=bt(r.doubleValue),s=bt(i.doubleValue);return o===s?uf(o)===uf(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(s_(o)!==s_(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!kr(o[a],s[a])))return!1;return!0}(t,e);default:return fe()}}function ml(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=Mo(t),r=Mo(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=bt(i.integerValue||i.doubleValue),a=bt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return u_(t.timestampValue,e.timestampValue);case 4:return u_(dl(t),dl(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Lo(i),a=Lo(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const l=Oe(s[u],a[u]);if(l!==0)return l}return Oe(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Oe(bt(i.latitude),bt(o.latitude));return s!==0?s:Oe(bt(i.longitude),bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const l=ca(s[u],a[u]);if(l)return l}return Oe(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===jc.mapValue&&o===jc.mapValue)return 0;if(i===jc.mapValue)return 1;if(o===jc.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const h=Oe(a[c],l[c]);if(h!==0)return h;const f=ca(s[a[c]],u[l[c]]);if(f!==0)return f}return Oe(a.length,l.length)}(t.mapValue,e.mapValue);default:throw fe()}}function u_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=zi(t),r=zi(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function ha(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,se.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=rv(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${rv(r.fields[a])}`;return o+"}"}(t.mapValue):fe();var e,n}function l_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iv(t){return!!t&&"integerValue"in t}function Tw(t){return!!t&&"arrayValue"in t}function c_(t){return!!t&&"nullValue"in t}function h_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function Du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Du(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new yn(Du(this.value))}}function mR(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new Zt([n]);if(oh(r)){const o=mR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Jt(e,0,me.min(),me.min(),me.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,me.min(),me.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,me.min(),me.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.position=e,this.inclusive=n}}function f_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(s.referenceValue),n.key):r=ca(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function y3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{}class Et extends gR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S3(e,n,r):n==="array-contains"?new E3(e,r):n==="in"?new T3(e,r):n==="not-in"?new I3(e,r):n==="array-contains-any"?new x3(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b3(e,r):new _3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lr extends gR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new lr(e,n)}matches(e){return vR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function vR(t){return t.op==="and"}function yR(t){return w3(t)&&vR(t)}function w3(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function ov(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+ha(t.value);if(yR(t))return t.filters.map(e=>ov(e)).join(",");{const e=t.filters.map(n=>ov(n)).join(",");return`${t.op}(${e})`}}function wR(t,e){return t instanceof Et?function(n,r){return r instanceof Et&&n.op===r.op&&n.field.isEqual(r.field)&&kr(n.value,r.value)}(t,e):t instanceof lr?function(n,r){return r instanceof lr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&wR(o,r.filters[s]),!0):!1}(t,e):void fe()}function SR(t){return t instanceof Et?function(e){return`${e.field.canonicalString()} ${e.op} ${ha(e.value)}`}(t):t instanceof lr?function(e){return e.op.toString()+" {"+e.getFilters().map(SR).join(" ,")+"}"}(t):"Filter"}class S3 extends Et{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class b3 extends Et{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _3 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class E3 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tw(n)&&ml(n.arrayValue,this.value)}}class T3 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class I3 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ml(this.value.arrayValue,n)}}class x3 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function p_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new C3(t,e,n,r,i,o,s)}function Iw(t){const e=ye(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ov(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),e.dt=n}return e.dt}function xw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d_(t.startAt,e.startAt)&&d_(t.endAt,e.endAt)}function sv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function R3(t,e,n,r,i,o,s,a){return new Gl(t,e,n,r,i,o,s,a)}function Cw(t){return new Gl(t)}function m_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _R(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Rw(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ER(t){return t.collectionGroup!==null}function Us(t){const e=ye(t);if(e.wt===null){e.wt=[];const n=Rw(e),r=_R(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Pu(n)),e.wt.push(new Pu(Zt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pu(Zt.keyField(),o))}}}return e.wt}function ni(t){const e=ye(t);if(!e._t)if(e.limitType==="F")e._t=p_(e.path,e.collectionGroup,Us(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Us(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Pu(o.field,s))}const r=e.endAt?new lf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new lf(e.startAt.position,e.startAt.inclusive):null;e._t=p_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function av(t,e){e.getFirstInequalityField(),Rw(t);const n=t.filters.concat([e]);return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uv(t,e,n){return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jd(t,e){return xw(ni(t),ni(e))&&t.limitType===e.limitType}function TR(t){return`${Iw(ni(t))}|lt:${t.limitType}`}function lv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>SR(r)).join(", ")}]`),$d(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),`Target(${n})`}(ni(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Us(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=f_(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Us(n),r)||n.endAt&&!function(i,o,s){const a=f_(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Us(n),r))}(t,e)}function k3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IR(t){return(e,n)=>{let r=!1;for(const i of Us(t)){const o=A3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function A3(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?ca(a,u):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new at(se.comparator);function ri(){return N3}const xR=new at(se.comparator);function mu(...t){let e=xR;for(const n of t)e=e.insert(n.key,n);return e}function CR(t){let e=xR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vo(){return Lu()}function RR(){return Lu()}function Lu(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const O3=new at(se.comparator),D3=new nn(se.comparator);function Ee(...t){let e=D3;for(const n of t)e=e.add(n);return e}const P3=new nn(Oe);function L3(){return P3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function AR(t){return{integerValue:""+t}}function M3(t,e){return p3(e)?AR(e):kR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function $3(t,e,n){return t instanceof cf?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&_w(i)&&(i=Ew(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof fa?OR(t,e):t instanceof da?DR(t,e):function(r,i){const o=NR(r,i),s=g_(o)+g_(r.gt);return iv(o)&&iv(r.gt)?AR(s):kR(r.serializer,s)}(t,e)}function j3(t,e,n){return t instanceof fa?OR(t,e):t instanceof da?DR(t,e):n}function NR(t,e){return t instanceof hf?iv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class cf extends Fd{}class fa extends Fd{constructor(e){super(),this.elements=e}}function OR(t,e){const n=PR(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class da extends Fd{constructor(e){super(),this.elements=e}}function DR(t,e){let n=PR(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class hf extends Fd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function g_(t){return bt(t.integerValue||t.doubleValue)}function PR(t){return Tw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.field=e,this.transform=n}}function V3(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof fa&&r instanceof fa||n instanceof da&&r instanceof da?la(n.elements,r.elements,kr):n instanceof hf&&r instanceof hf?kr(n.gt,r.gt):n instanceof cf&&r instanceof cf}(t.transform,e.transform)}class F3{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function MR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kw(t.key,qn.none()):new Ql(t.key,t.data,qn.none());{const n=t.data,r=yn.empty();let i=new nn(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new no(t.key,r,new kn(i.toArray()),qn.none())}}function U3(t,e,n){t instanceof Ql?function(r,i,o){const s=r.value.clone(),a=y_(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof no?function(r,i,o){if(!sh(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=y_(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll($R(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Mu(t,e,n,r){return t instanceof Ql?function(i,o,s,a){if(!sh(i.precondition,o))return s;const u=i.value.clone(),l=w_(i.fieldTransforms,a,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(i,o,s,a){if(!sh(i.precondition,o))return s;const u=w_(i.fieldTransforms,a,o),l=o.data;return l.setAll($R(i)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return sh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function B3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=NR(r.transform,i||null);o!=null&&(n===null&&(n=yn.empty()),n.set(r.field,o))}return n||null}function v_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&la(n,r,(i,o)=>V3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends Ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends Ud{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $R(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function y_(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,j3(s,a,n[i]))}return r}function w_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$3(o,s,e))}return r}class kw extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z3 extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&U3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RR();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=MR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>v_(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>v_(n,r))}}class Aw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=O3;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Aw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ie;function K3(t){switch(t){default:return fe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function jR(t){if(t===void 0)return ti("GRPC error has no .code"),$.UNKNOWN;switch(t){case wt.OK:return $.OK;case wt.CANCELLED:return $.CANCELLED;case wt.UNKNOWN:return $.UNKNOWN;case wt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case wt.INTERNAL:return $.INTERNAL;case wt.UNAVAILABLE:return $.UNAVAILABLE;case wt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case wt.NOT_FOUND:return $.NOT_FOUND;case wt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case wt.ABORTED:return $.ABORTED;case wt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case wt.DATA_LOSS:return $.DATA_LOSS;default:return fe()}}(Ie=wt||(wt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vc}static getOrCreateInstance(){return Vc===null&&(Vc=new Nw),Vc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Vc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Fs([4294967295,4294967295],0);function S_(t){const e=G3().encode(t),n=new Zz;return n.update(e),new Uint8Array(n.digest())}function b_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fs([n,r],0),new Fs([i,o],0)]}class Ow{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(r<0)throw new gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Fs.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Fs.fromNumber(r)));return i.compare(Q3)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=S_(e),[r,i]=b_(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ow(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=S_(e),[r,i]=b_(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bd(me.min(),i,new at(Oe),ri(),Ee())}}class Yl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yl(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class VR{constructor(e,n){this.targetId=e,this.Vt=n}}class FR{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class __{constructor(){this.St=0,this.Dt=T_(),this.Ct=sn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ee(),n=Ee(),r=Ee();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Yl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=T_()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Y3{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ri(),this.zt=E_(),this.Wt=new at(Oe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(sv(s))if(i===0){const a=new se(s.path);this.Yt(r,a,Jt.newNoDocument(a,me.min()))}else Ke(i===1);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);if(u!==0){this.ee(r);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,l)}(n=Nw.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(l,c,h){var f,m,g,w,T,d;const p={localCacheCount:c,existenceFilterCount:h.count},v=h.unchangedNames;return v&&(p.bloomFilter={applied:l===0,hashCount:(f=v==null?void 0:v.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(g=(m=v==null?void 0:v.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&w!==void 0?w:0,padding:(d=(T=v==null?void 0:v.bits)===null||T===void 0?void 0:T.padding)!==null&&d!==void 0?d:0}),p}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,l;try{u=Lo(o).toUint8Array()}catch(c){if(c instanceof pR)return ua("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{l=new Ow(u,s,a)}catch(c){return ua(c instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return l.It===0?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&sv(a.target)){const u=new se(a.target.path);this.jt.get(u)!==null||this.ae(s,u)||this.Yt(s,u,Jt.newNoDocument(u,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=Ee();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.se(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Bd(e,n,this.Wt,this.jt,r);return this.jt=ri(),this.zt=E_(),this.Wt=new at(Oe),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new __,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new nn(Oe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new __),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function E_(){return new at(se.comparator)}function T_(){return new at(se.comparator)}const X3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),J3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Z3=(()=>({and:"AND",or:"OR"}))();class e9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cv(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t9(t,e){return ff(t,e.toTimestamp())}function Tr(t){return Ke(!!t),me.fromTimestamp(function(e){const n=zi(e);return new yt(n.seconds,n.nanos)}(t))}function Dw(t,e){return function(n){return new We(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function BR(t){const e=We.fromString(t);return Ke(qR(e)),e}function hv(t,e){return Dw(t.databaseId,e.path)}function mm(t,e){const n=BR(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(zR(n))}function fv(t,e){return Dw(t.databaseId,e)}function n9(t){const e=BR(t);return e.length===4?We.emptyPath():zR(e)}function dv(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zR(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function I_(t,e,n){return{name:hv(t,e),fields:n.value.mapValue.fields}}function r9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(Ke(l===void 0||typeof l=="string"),sn.fromBase64String(l||"")):(Ke(l===void 0||l instanceof Uint8Array),sn.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const l=u.code===void 0?$.UNKNOWN:jR(u.code);return new Z(l,u.message||"")}(s);n=new FR(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mm(t,r.document.name),o=Tr(r.document.updateTime),s=r.document.createTime?Tr(r.document.createTime):me.min(),a=new yn({mapValue:{fields:r.document.fields}}),u=Jt.newFoundDocument(i,o,s,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new ah(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mm(t,r.document),o=r.readTime?Tr(r.readTime):me.min(),s=Jt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ah([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mm(t,r.document),o=r.removedTargetIds||[];n=new ah([],o,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new q3(i,o),a=r.targetId;n=new VR(a,s)}}return n}function i9(t,e){let n;if(e instanceof Ql)n={update:I_(t,e.key,e.value)};else if(e instanceof kw)n={delete:hv(t,e.key)};else if(e instanceof no)n={update:I_(t,e.key,e.data),updateMask:d9(e.fieldMask)};else{if(!(e instanceof z3))return fe();n={verify:hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof cf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof fa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof da)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof hf)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:t9(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function o9(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Tr(r.updateTime):Tr(i);return o.isEqual(me.min())&&(o=Tr(i)),new F3(o,r.transformResults||[])}(n,e))):[]}function s9(t,e){return{documents:[fv(t,e.path)]}}function a9(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=fv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return HR(lr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:ds(c.field),direction:c9(c.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=cv(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function u9(t){let e=n9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const h=WR(c);return h instanceof lr&&yR(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(h){return new Pu(ps(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,$d(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(c){const h=!!c.before,f=c.values||[];return new lf(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const h=!c.before,f=c.values||[];return new lf(f,h)}(n.endAt)),R3(e,i,s,o,a,"F",u,l)}function l9(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WR(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ps(e.unaryFilter.field);return Et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ps(e.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ps(e.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ps(e.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(e){return Et.create(ps(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return lr.create(e.compositeFilter.filters.map(n=>WR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(t):fe()}function c9(t){return X3[t]}function h9(t){return J3[t]}function f9(t){return Z3[t]}function ds(t){return{fieldPath:t.canonicalString()}}function ps(t){return Zt.fromServerFormat(t.fieldPath)}function HR(t){return t instanceof Et?function(e){if(e.op==="=="){if(h_(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NAN"}};if(c_(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(h_(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NAN"}};if(c_(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(e.field),op:h9(e.op),value:e.value}}}(t):t instanceof lr?function(e){const n=e.getFilters().map(r=>HR(r));return n.length===1?n[0]:{compositeFilter:{op:f9(e.op),filters:n}}}(t):fe()}function d9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,i,o=me.min(),s=me.min(),a=sn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.fe=e}}function m9(t){const e=u9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.rn=new v9}addToCollectionParentIndex(e,n){return this.rn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Bi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class v9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(We.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pa(0)}static Mn(){return new pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mu(r.mutation,i,kn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=mu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ri();const s=Lu(),a=Lu();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof no)?o=o.insert(l.key,l):c!==void 0?(s.set(l.key,c.mutation.getFieldMask()),Mu(c.mutation,l,c.mutation.getFieldMask(),yt.now())):s.set(l.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new w9(c,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Lu();let i=new at((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||kn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=RR();c.forEach(f=>{if(!o.has(f)){const m=MR(n.get(f),r.get(f));m!==null&&h.set(f,m),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ER(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(vo());let a=-1,u=o;return s.next(l=>B.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?B.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(c=>({batchId:a,changes:CR(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=mu();return this.indexManager.getCollectionParents(e,i).next(s=>B.forEach(s,a=>{const u=function(l,c){return new Gl(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,h)=>{o=o.insert(c,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const l=u.getKey();o.get(l)===null&&(o=o.insert(l,Jt.newInvalidDocument(l)))});let s=mu();return o.forEach((a,u)=>{const l=i.get(a);l!==void 0&&Mu(l.mutation,u,kn.empty(),yt.now()),Vd(n,u)&&(s=s.insert(a,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return B.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Tr(r.createTime)}),B.resolve()}getNamedQuery(e,n){return B.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:m9(r.bundledQuery),readTime:Tr(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.overlays=new at(se.comparator),this.ls=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vo();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=vo(),o=n.length+1,s=new se(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new at((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=vo(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=vo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return B.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new H3(n,r));let o=this.ls.get(n);o===void 0&&(o=Ee(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.fs=new nn(At.ds),this.ws=new nn(At._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new At(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new At(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new se(new We([])),r=new At(n,e),i=new At(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new se(new We([])),r=new At(n,e),i=new At(n,e+1);let o=Ee();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new At(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return se.comparator(e.key,n.key)||Oe(e.As,n.As)}static _s(e,n){return Oe(e.As,n.As)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new nn(At.ds)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new W3(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new At(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(Oe);return n.forEach(i=>{const o=new At(i,0),s=new At(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),B.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;se.isDocumentKey(o)||(o=o.child(""));const s=new At(new se(o),0);let a=new nn(Oe);return this.Rs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.As)),!0)},s),B.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return B.forEach(n.mutations,i=>{const o=new At(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new At(n,0),i=this.Rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.Ds=e,this.docs=new at(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=ri();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ri();const s=n.path,a=new se(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||h3(c3(c),r)<=0||(i.has(c.key)||Vd(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){fe()}Cs(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I9(this)}getSize(e){return B.resolve(this.size)}}class I9 extends y9{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.persistence=e,this.xs=new Pa(n=>Iw(n),xw),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Pw,this.targetCount=0,this.Ms=pa.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),B.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Fn(n),B.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n){this.$s={},this.overlays={},this.Os=new bw(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new x9(this),this.indexManager=new g9,this.remoteDocumentCache=function(r){return new T9(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new p9(n),this.qs=new b9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new E9(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new R9(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return B.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class R9 extends d3{constructor(e){super(),this.currentSequenceNumber=e}}class Lw{constructor(e){this.persistence=e,this.Qs=new Pw,this.js=null}static zs(e){return new Lw(e)}get Ws(){if(this.js)return this.js;throw fe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),B.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Ws,r=>{const i=se.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,me.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return B.or([()=>B.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Mw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(m_(n))return B.resolve(null);let r=ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uv(n,null,"F"),r=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ee(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ji(n,a);return this.zi(n,l,s,u.readTime)?this.Ki(e,uv(n,null,"F")):this.Wi(e,l,n,u)}))})))}Gi(e,n,r,i){return m_(n)||i.isEqual(me.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(o_()<=Re.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lv(n)),this.Wi(e,s,n,l3(i,-1)))})}ji(e,n){let r=new nn(IR(e));return n.forEach((i,o)=>{Vd(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return o_()<=Re.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",lv(n)),this.Ui.getDocumentsMatchingQuery(e,n,Bi.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new at(Oe),this.Yi=new Pa(o=>Iw(o),xw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S9(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function N9(t,e,n,r){return new A9(t,e,n,r)}async function KR(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Ee();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}function O9(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){const c=u.batch,h=c.keys();let f=B.resolve();return h.forEach(m=>{f=f.next(()=>l.getEntry(a,m)).next(g=>{const w=u.docVersions.get(m);Ke(w!==null),g.version.compareTo(w)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Ee();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GR(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function D9(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,h)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(sn.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(h,m),function(g,w,T){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,m,c)&&a.push(n.Bs.updateTargetData(o,m))});let u=ri(),l=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(P9(o,s,e.documentUpdates).next(c=>{u=c.nr,l=c.sr})),!r.isEqual(me.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ji=i,o))}function P9(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ri();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{nr:s,sr:i}})}function L9(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M9(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Ci(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function pv(t,e,n){const r=ye(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Kl(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function x_(t,e,n){const r=ye(t);let i=me.min(),o=Ee();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,l){const c=ye(a),h=c.Yi.get(l);return h!==void 0?B.resolve(c.Ji.get(h)):c.Bs.getTargetData(u,l)}(r,s,ni(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:me.min(),n?o:Ee())).next(a=>($9(r,k3(e),a),{documents:a,ir:o})))}function $9(t,e,n){let r=t.Xi.get(e)||me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class C_{constructor(){this.activeTargetIds=L3()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j9{constructor(){this.Hr=new C_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new C_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function gm(){return Fc===null?Fc=268435456+Math.round(2147483648*Math.random()):Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class B9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=gm(),a=this.To(e,n);te("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(l=>(te("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw ua("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=F9[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=gm();return new Promise((s,a)=>{const u=new Jz;u.setWithCredentials(!0),u.listenOnce(Qz.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pm.NO_ERROR:const c=u.getResponseJson();te(Qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case pm.TIMEOUT:te(Qt,`RPC '${e}' ${o} timed out`),a(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case pm.HTTP_ERROR:const h=u.getStatus();if(te(Qt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(m.status);a(new Z(g,m.message))}else a(new Z($.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Z($.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{te(Qt,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);te(Qt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=gm(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kz(),a=Gz(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Xz({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");te(Qt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const h=s.createWebChannel(c,u);let f=!1,m=!1;const g=new U9({ro:T=>{m?te(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(te(Qt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),te(Qt,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},oo:()=>h.close()}),w=(T,d,p)=>{T.listen(d,v=>{try{p(v)}catch(E){setTimeout(()=>{throw E},0)}})};return w(h,Mc.EventType.OPEN,()=>{m||te(Qt,`RPC '${e}' stream ${i} transport opened.`)}),w(h,Mc.EventType.CLOSE,()=>{m||(m=!0,te(Qt,`RPC '${e}' stream ${i} transport closed`),g.wo())}),w(h,Mc.EventType.ERROR,T=>{m||(m=!0,ua(Qt,`RPC '${e}' stream ${i} transport errored:`,T),g.wo(new Z($.UNAVAILABLE,"The operation could not be completed")))}),w(h,Mc.EventType.MESSAGE,T=>{var d;if(!m){const p=T.data[0];Ke(!!p);const v=p,E=v.error||((d=v[0])===null||d===void 0?void 0:d.error);if(E){te(Qt,`RPC '${e}' stream ${i} received error:`,E);const A=E.status;let N=function(D){const K=wt[D];if(K!==void 0)return jR(K)}(A),O=E.message;N===void 0&&(N=$.INTERNAL,O="Unknown error status: "+A+" with message "+E.message),m=!0,g.wo(new Z(N,O)),h.close()}else te(Qt,`RPC '${e}' stream ${i} received:`,p),g._o(p)}}),w(a,Yz.STAT_EVENT,T=>{T.stat===r_.PROXY?te(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===r_.NOPROXY&&te(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){return new e9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new QR(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z9 extends YR{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=r9(this.serializer,e),r=function(i){if(!("targetChange"in i))return me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?Tr(o.readTime):me.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=dv(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=sv(a)?{documents:s9(i,a)}:{query:a9(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=UR(i,o.resumeToken);const u=cv(i,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){s.readTime=ff(i,o.snapshotVersion.toTimestamp());const u=cv(i,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=l9(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=dv(this.serializer),n.removeTarget=e,this.Wo(n)}}class W9 extends YR{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=o9(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.cu(r,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=dv(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>i9(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z($.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class q9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ti(n),this.mu=!1):te("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{Go(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=ye(a);u.vu.add(4),await Xl(u),u.bu.set("Unknown"),u.vu.delete(4),await Wd(u)}(this))})}),this.bu=new q9(r,i)}}async function Wd(t){if(Go(t))for(const e of t.Ru)await e(!0)}async function Xl(t){for(const e of t.Ru)await e(!1)}function XR(t,e){const n=ye(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Vw(n)?jw(n):La(n).Ko()&&$w(n,e))}function JR(t,e){const n=ye(t),r=La(n);n.Au.delete(e),r.Ko()&&ZR(n,e),n.Au.size===0&&(r.Ko()?r.jo():Go(n)&&n.bu.set("Unknown"))}function $w(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).su(e)}function ZR(t,e){t.Vu.qt(e),La(t).iu(e)}function jw(t){t.Vu=new Y3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),La(t).start(),t.bu.gu()}function Vw(t){return Go(t)&&!La(t).Uo()&&t.Au.size>0}function Go(t){return ye(t).vu.size===0}function ek(t){t.Vu=void 0}async function G9(t){t.Au.forEach((e,n)=>{$w(t,e)})}async function Q9(t,e){ek(t),Vw(t)?(t.bu.Iu(e),jw(t)):t.bu.set("Unknown")}async function Y9(t,e,n){if(t.bu.set("Online"),e instanceof FR&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await df(t,r)}else if(e instanceof ah?t.Vu.Ht(e):e instanceof VR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(me.min()))try{const r=await GR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(u);l&&i.Au.set(u,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,u)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(sn.EMPTY_BYTE_STRING,l.snapshotVersion)),ZR(i,a);const c=new Ci(l.target,a,u,l.sequenceNumber);$w(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await df(t,r)}}async function df(t,e,n){if(!Kl(e))throw e;t.vu.add(1),await Xl(t),t.bu.set("Offline"),n||(n=()=>GR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Wd(t)})}function tk(t,e){return e().catch(n=>df(t,n,e))}async function Hd(t){const e=ye(t),n=Wi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;X9(e);)try{const i=await L9(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,J9(e,i)}catch(i){await df(e,i)}nk(e)&&rk(e)}function X9(t){return Go(t)&&t.Eu.length<10}function J9(t,e){t.Eu.push(e);const n=Wi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function nk(t){return Go(t)&&!Wi(t).Uo()&&t.Eu.length>0}function rk(t){Wi(t).start()}async function Z9(t){Wi(t).hu()}async function e6(t){const e=Wi(t);for(const n of t.Eu)e.uu(n.mutations)}async function t6(t,e,n){const r=t.Eu.shift(),i=Aw.from(r,e,n);await tk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hd(t)}async function n6(t,e){e&&Wi(t).ou&&await async function(n,r){if(i=r.code,K3(i)&&i!==$.ABORTED){const o=n.Eu.shift();Wi(n).Qo(),await tk(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Hd(n)}var i}(t,e),nk(t)&&rk(t)}async function k_(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Go(n);n.vu.add(3),await Xl(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Wd(n)}async function r6(t,e){const n=ye(t);e?(n.vu.delete(2),await Wd(n)):e||(n.vu.add(2),await Xl(n),n.bu.set("Unknown"))}function La(t){return t.Su||(t.Su=function(e,n,r){const i=ye(e);return i.fu(),new z9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:G9.bind(null,t),ao:Q9.bind(null,t),nu:Y9.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Vw(t)?jw(t):t.bu.set("Unknown")):(await t.Su.stop(),ek(t))})),t.Su}function Wi(t){return t.Du||(t.Du=function(e,n,r){const i=ye(e);return i.fu(),new W9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Z9.bind(null,t),ao:n6.bind(null,t),au:e6.bind(null,t),cu:t6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Hd(t)):(await t.Du.stop(),t.Eu.length>0&&(te("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Fw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uw(t,e){if(ti("AsyncQueue",`${e}: ${t}`),Kl(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=mu(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Bs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Cu=new at(se.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):fe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ma{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ma(e,n,Bs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.Nu=void 0,this.listeners=[]}}class o6{constructor(){this.queries=new Pa(e=>TR(e),jd),this.onlineState="Unknown",this.ku=new Set}}async function ik(t,e){const n=ye(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new i6),i)try{o.Nu=await n.onListen(r)}catch(s){const a=Uw(s,`Initialization of query '${lv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Bw(n)}async function ok(t,e){const n=ye(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function s6(t,e){const n=ye(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&Bw(n)}function a6(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Bw(t){t.ku.forEach(e=>{e.next()})}class sk{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.key=e}}class uk{constructor(e){this.key=e}}class u6{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ee(),this.mutatedKeys=Ee(),this.tc=IR(e),this.ec=new Bs(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new A_,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),m=Vd(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?g!==w&&(r.track({type:3,doc:m}),T=!0):this.rc(f,m)||(r.track({type:2,doc:m}),T=!0,(u&&this.tc(m,u)>0||l&&this.tc(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(u||l)&&(a=!0)),T&&(m?(s=s.add(m),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,c)=>function(h,f){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(h)-m(f)}(l.type,c.type)||this.tc(l.doc,c.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,o.length!==0||u?{snapshot:new ma(this.query,e.ec,i,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new A_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new uk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new ak(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ma.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class l6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class c6{constructor(e){this.key=e,this.fc=!1}}class h6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Pa(a=>TR(a),jd),this._c=new Map,this.mc=new Set,this.gc=new at(se.comparator),this.yc=new Map,this.Ic=new Pw,this.Tc={},this.Ec=new Map,this.Ac=pa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function f6(t,e){const n=_6(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await M9(n.localStore,ni(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await d6(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&XR(n.remoteStore,s)}return i}async function d6(t,e,n,r,i){t.Rc=(h,f,m)=>async function(g,w,T,d){let p=w.view.sc(T);p.zi&&(p=await x_(g.localStore,w.query,!1).then(({documents:A})=>w.view.sc(A,p)));const v=d&&d.targetChanges.get(w.targetId),E=w.view.applyChanges(p,g.isPrimaryClient,v);return O_(g,w.targetId,E.cc),E.snapshot}(t,h,f,m);const o=await x_(t.localStore,e,!0),s=new u6(e,o.ir),a=s.sc(o.documents),u=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);O_(t,n,l.cc);const c=new l6(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}async function p6(t,e){const n=ye(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!jd(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await pv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),JR(n.remoteStore,r.targetId),mv(n,r.targetId)}).catch(ql)):(mv(n,r.targetId),await pv(n.localStore,r.targetId,!0))}async function m6(t,e,n){const r=E6(t);try{const i=await function(o,s){const a=ye(o),u=yt.now(),l=s.reduce((f,m)=>f.add(m.key),Ee());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ri(),g=Ee();return a.Zi.getEntries(f,l).next(w=>{m=w,m.forEach((T,d)=>{d.isValidDocument()||(g=g.add(T))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(w=>{c=w;const T=[];for(const d of s){const p=B3(d,c.get(d.key).overlayedDocument);p!=null&&T.push(new no(d.key,p,mR(p.value.mapValue),qn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,T,s)}).next(w=>{h=w;const T=w.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(f,w.batchId,T)})}).then(()=>({batchId:h.batchId,changes:CR(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new at(Oe)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),await Jl(r,i.changes),await Hd(r.remoteStore)}catch(i){const o=Uw(i,"Failed to persist write");n.reject(o)}}async function lk(t,e){const n=ye(t);try{const r=await D9(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?Ke(s.fc):i.removedDocuments.size>0&&(Ke(s.fc),s.fc=!1))}),await Jl(n,r,e)}catch(r){await ql(r)}}function N_(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=ye(o);a.onlineState=s;let u=!1;a.queries.forEach((l,c)=>{for(const h of c.listeners)h.Mu(s)&&(u=!0)}),u&&Bw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g6(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new at(se.comparator);s=s.insert(o,Jt.newNoDocument(o,me.min()));const a=Ee().add(o),u=new Bd(me.min(),new Map,new at(Oe),s,a);await lk(r,u),r.gc=r.gc.remove(o),r.yc.delete(e),zw(r)}else await pv(r.localStore,e,!1).then(()=>mv(r,e,n)).catch(ql)}async function v6(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await O9(n.localStore,e);hk(n,r,null),ck(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(n,i)}catch(i){await ql(i)}}async function y6(t,e,n){const r=ye(t);try{const i=await function(o,s){const a=ye(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,s).next(c=>(Ke(c!==null),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);hk(r,e,n),ck(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jl(r,i)}catch(i){await ql(i)}}function ck(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function hk(t,e,n){const r=ye(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function mv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||fk(t,r)})}function fk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(JR(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),zw(t))}function O_(t,e,n){for(const r of n)r instanceof ak?(t.Ic.addReference(r.key,e),w6(t,r)):r instanceof uk?(te("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||fk(t,r.key)):fe()}function w6(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(te("SyncEngine","New document in limbo: "+n),t.mc.add(r),zw(t))}function zw(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new se(We.fromString(e)),r=t.Ac.next();t.yc.set(r,new c6(n)),t.gc=t.gc.insert(n,r),XR(t.remoteStore,new Ci(ni(Cw(n.path)),r,"TargetPurposeLimboResolution",bw.ct))}}async function Jl(t,e,n){const r=ye(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=Mw.Li(u.targetId,l);o.push(c)}}))}),await Promise.all(s),r.dc.nu(i),await async function(a,u){const l=ye(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>B.forEach(u,h=>B.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>B.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Kl(c))throw c;te("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const f=l.Ji.get(h),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);l.Ji=l.Ji.insert(h,g)}}}(r.localStore,o))}async function S6(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await KR(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(a=>{a.reject(new Z($.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(n,r.er)}}function b6(t,e){const n=ye(t),r=n.yc.get(e);if(r&&r.fc)return Ee().add(r.key);{let i=Ee();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function _6(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g6.bind(null,e),e.dc.nu=s6.bind(null,e.eventManager),e.dc.Pc=a6.bind(null,e.eventManager),e}function E6(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y6.bind(null,e),e}class D_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return N9(this.persistence,new k9,e.initialUser,this.serializer)}createPersistence(e){return new C9(Lw.zs,this.serializer)}createSharedClientState(e){return new j9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class T6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S6.bind(null,this.syncEngine),await r6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new o6}createDatastore(e){const n=zd(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new B9(i));var i;return function(o,s,a,u){return new H9(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>N_(this.syncEngine,a,0),s=R_.D()?new R_:new V9,new K9(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,l){const c=new h6(r,i,o,s,a,u);return l&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ye(e);te("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Xl(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=fR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ym(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C6(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>k_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>k_(e.remoteStore,o)),t._onlineComponents=e}function x6(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function C6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await ym(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!x6(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await ym(t,new D_)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await ym(t,new D_);return t._offlineComponents}async function pk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await P_(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await P_(t,new T6))),t._onlineComponents}function R6(t){return pk(t).then(e=>e.syncEngine)}async function mk(t){const e=await pk(t),n=e.eventManager;return n.onListen=f6.bind(null,e.syncEngine),n.onUnlisten=p6.bind(null,e.syncEngine),n}function k6(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,u){const l=new dk({next:h=>{o.enqueueAndForget(()=>ok(i,c));const f=h.docs.has(s);!f&&h.fromCache?u.reject(new Z($.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?u.reject(new Z($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new sk(Cw(s.path),l,{includeMetadataChanges:!0,Ku:!0});return ik(i,c)}(await mk(t),t.asyncQueue,e,n,r)),r.promise}function A6(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,u){const l=new dk({next:h=>{o.enqueueAndForget(()=>ok(i,c)),h.fromCache&&a.source==="server"?u.reject(new Z($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new sk(s,l,{includeMetadataChanges:!0,Ku:!0});return ik(i,c)}(await mk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N6(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M_(t){if(!se.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $_(t){if(se.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new e3;switch(n.type){case"firstParty":return new i3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=L_.get(e);n&&(te("ComponentProvider","Removing Datastore"),L_.delete(e),n.terminate())}(this),Promise.resolve()}}function O6(t,e,n,r={}){var i;const o=(t=cr(t,Kd))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&ua("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Yt.MOCK_USER;else{s=ZF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Yt(u)}t._authCredentials=new t3(new hR(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Ma{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Vi extends Ma{constructor(e,n,r){super(e,n,Cw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new se(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Ir(t,e,...n){if(t=Dt(t),vk("collection","path",e),t instanceof Kd){const r=We.fromString(e,...n);return $_(r),new Vi(t,null,r)}{if(!(t instanceof cn||t instanceof Vi))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return $_(r),new Vi(t.firestore,null,r)}}function Lt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=fR.A()),vk("doc","path",e),t instanceof Kd){const r=We.fromString(e,...n);return M_(r),new cn(t,null,new se(r))}{if(!(t instanceof cn||t instanceof Vi))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return M_(r),new cn(t.firestore,t instanceof Vi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new QR(this,"async_queue_retry"),this.Xc=()=>{const n=vm();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=vm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Gr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Kl(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw ti("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Fw.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&fe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Qo extends Kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new D6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yk(this),this._firestoreClient.terminate()}}function P6(t,e){const n=typeof t=="object"?t:Px(),r=typeof t=="string"?t:e||"(default)",i=Ml(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=XF("firestore");o&&O6(i,...o)}return i}function Ww(t){return t._firestoreClient||yk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yk(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,u,l){return new g3(s,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,gk(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new I6(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(sn.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ga(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=/^__.*__$/;class M6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class wk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new no(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Qd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Sk(this.ca)&&L6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zd(e)}ya(e,n,r,i=!1){return new Qd({ca:e,methodName:n,ga:r,path:Zt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yd(t){const e=t._freezeSettings(),n=zd(t._databaseId);return new $6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bk(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);qw("Data must be an object, but it was:",s,r);const a=Ek(r,s);let u,l;if(o.merge)u=new kn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const f=gv(e,h,n);if(!s.contains(f))throw new Z($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ik(c,f)||c.push(f)}u=new kn(c),l=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=s.fieldTransforms;return new M6(new yn(a),u,l)}class Xd extends Zl{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function _k(t,e,n){return new Qd({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class j6 extends Zl{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=_k(this,e,!0),r=this.pa.map(o=>Yo(o,n)),i=new fa(r);return new LR(e.path,i)}isEqual(e){return this===e}}class V6 extends Zl{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=_k(this,e,!0),r=this.pa.map(o=>Yo(o,n)),i=new da(r);return new LR(e.path,i)}isEqual(e){return this===e}}function F6(t,e,n,r){const i=t.ya(1,e,n);qw("Data must be an object, but it was:",i,r);const o=[],s=yn.empty();Ko(r,(u,l)=>{const c=Kw(e,u,n);l=Dt(l);const h=i.da(c);if(l instanceof Xd)o.push(c);else{const f=Yo(l,h);f!=null&&(o.push(c),s.set(c,f))}});const a=new kn(o);return new wk(s,a,i.fieldTransforms)}function U6(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[gv(e,r,n)],u=[i];if(o.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(gv(e,o[f])),u.push(o[f+1]);const l=[],c=yn.empty();for(let f=a.length-1;f>=0;--f)if(!Ik(l,a[f])){const m=a[f];let g=u[f];g=Dt(g);const w=s.da(m);if(g instanceof Xd)l.push(m);else{const T=Yo(g,w);T!=null&&(l.push(m),c.set(m,T))}}const h=new kn(l);return new wk(c,h,s.fieldTransforms)}function B6(t,e,n,r=!1){return Yo(n,t.ya(r?4:3,e))}function Yo(t,e){if(Tk(t=Dt(t)))return qw("Unsupported field value:",e,t),Ek(t,e);if(t instanceof Zl)return function(n,r){if(!Sk(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Yo(s,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return M3(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=yt.fromDate(n);return{timestampValue:ff(r.serializer,i)}}if(n instanceof yt){const i=new yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ff(r.serializer,i)}}if(n instanceof Hw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ga)return{bytesValue:UR(r.serializer,n._byteString)};if(n instanceof cn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${qd(n)}`)}(t,e)}function Ek(t,e){const n={};return dR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const o=Yo(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Tk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof Hw||t instanceof ga||t instanceof cn||t instanceof Zl)}function qw(t,e,n){if(!Tk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=qd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function gv(t,e,n){if((e=Dt(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return Kw(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const z6=new RegExp("[~\\*/\\[\\]]");function Kw(t,e,n){if(e.search(z6)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Z($.INVALID_ARGUMENT,a+t+u)}function Ik(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W6 extends xk{data(){return super.data()}}function Gw(t,e){return typeof e=="string"?Kw(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qw{}class q6 extends Qw{}function uh(t,e,...n){let r=[];e instanceof Qw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof Yw).length,s=i.filter(a=>a instanceof Jd).length;if(o>1||o>0&&s>0)throw new Z($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jd extends q6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jd(e,n,r)}_apply(e){const n=this._parse(e);return Ck(e._query,n),new Ma(e.firestore,e.converter,av(e._query,n))}_parse(e){const n=Yd(e.firestore);return function(i,o,s,a,u,l,c){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new Z($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){F_(c,l);const f=[];for(const m of c)f.push(V_(a,i,m));h={arrayValue:{values:f}}}else h=V_(a,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||F_(c,l),h=B6(s,o,c,l==="in"||l==="not-in");return Et.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lh(t,e,n){const r=e,i=Gw("where",t);return Jd._create(i,r,n)}class Yw extends Qw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)Ck(o,a),o=av(o,a)}(e._query,n),new Ma(e.firestore,e.converter,av(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function V_(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Z($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ER(e)&&n.indexOf("/")!==-1)throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!se.isDocumentKey(r))throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return l_(t,new se(r))}if(n instanceof cn)return l_(t,n._key);throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function F_(t,e){if(!Array.isArray(t)||t.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ck(t,e){if(e.isInequality()){const r=Rw(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Z($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=_R(t);o!==null&&K6(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function K6(t,e,n){if(!n.isEqual(e))throw new Z($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class G6{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Hw(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ew(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const n=zi(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ke(qR(r));const i=new pl(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(n)||ti(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kk extends xk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ch extends kk{data(e={}){return super.data(e)}}let Q6=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ch(this._firestore,this._userDataWriter,r.key,r,new vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new ch(r._firestore,r._userDataWriter,s.doc.key,s.doc,new vu(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new ch(r._firestore,r._userDataWriter,s.doc.key,s.doc,new vu(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:Y6(s.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Y6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){t=cr(t,cn);const e=cr(t.firestore,Qo);return k6(Ww(e),t._key).then(n=>J6(e,t,n))}class Ak extends G6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function zs(t){t=cr(t,Ma);const e=cr(t.firestore,Qo),n=Ww(e),r=new Ak(e);return H6(t._query),A6(n,t._query).then(i=>new Q6(e,r,t,i))}function X6(t,e,n){t=cr(t,cn);const r=cr(t.firestore,Qo),i=Rk(t.converter,e,n);return Zd(r,[bk(Yd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qn.none())])}function or(t,e,n,...r){t=cr(t,cn);const i=cr(t.firestore,Qo),o=Yd(i);let s;return s=typeof(e=Dt(e))=="string"||e instanceof Gd?U6(o,"updateDoc",t._key,e,n,r):F6(o,"updateDoc",t._key,e),Zd(i,[s.toMutation(t._key,qn.exists(!0))])}function hh(t){return Zd(cr(t.firestore,Qo),[new kw(t._key,qn.none())])}function Xw(t,e){const n=cr(t.firestore,Qo),r=Lt(t),i=Rk(t.converter,e);return Zd(n,[bk(Yd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function Zd(t,e){return function(n,r){const i=new Gr;return n.asyncQueue.enqueueAndForget(async()=>m6(await R6(n),r,i)),i.promise}(Ww(t),e)}function J6(t,e,n){const r=n.docs.get(e._key),i=new Ak(t);return new kk(t,i,e._key,r,new vu(n.hasPendingWrites,n.fromCache),e.converter)}function mf(...t){return new j6("arrayUnion",t)}function vv(...t){return new V6("arrayRemove",t)}(function(t,e=!0){(function(n){Da=n})(Aa),Rr(new ar("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Qo(new n3(n.getProvider("auth-internal")),new s3(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Wn(i_,"3.12.0",t),Wn(i_,"3.12.0","esm2017")})();function Jw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nk(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z6=Nk,Ok=new Ho("auth","Firebase",Nk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new wd("@firebase/auth");function eW(t,...e){gf.logLevel<=Re.WARN&&gf.warn(`Auth (${Aa}): ${t}`,...e)}function fh(t,...e){gf.logLevel<=Re.ERROR&&gf.error(`Auth (${Aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Zw(t,...e)}function xr(t,...e){return Zw(t,...e)}function Dk(t,e,n){const r=Object.assign(Object.assign({},Z6()),{[e]:n});return new Ho("auth","Firebase",r).create(e,{appName:t.name})}function tW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),Dk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ok.create(t,...e)}function he(t,e,...n){if(!t)throw Zw(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function ii(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Pk(){return U_()==="http:"||U_()==="https:"}function U_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pk()||Rx()||"connection"in navigator)?navigator.onLine:!0}function rW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=eU()||tU()}get(){return nW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new ec(3e4,6e4);function Xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jo(t,e,n,r,i={}){return Mk(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ll(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Lk.fetch()($k(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function Mk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iW),e);try{const i=new sW(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Uc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Uc(t,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Dk(t,c,l);Qn(t,c)}}catch(i){if(i instanceof hr)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function tc(t,e,n,r,i={}){const o=await Jo(t,e,n,r,i);return"mfaPendingCredential"in o&&Qn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function $k(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?e0(t.config,i):`${t.config.apiScheme}://${i}`}class sW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),oW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function uW(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lW(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=t0(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$u(wm(i.auth_time)),issuedAtTime:$u(wm(i.iat)),expirationTime:$u(wm(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function wm(t){return Number(t)*1e3}function t0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tx(n);return i?JSON.parse(i):(fh("Failed to decode base64 JWT payload"),null)}catch(i){return fh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cW(t){const e=t0(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&hW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gl(t,uW(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mW(o.providerUserInfo):[],a=pW(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jk(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function dW(t){const e=Dt(t);await yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mW(t){return t.map(e=>{var{providerId:n}=e,r=Jw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gW(t,e){const n=await Mk(t,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=$k(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lk.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await gW(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new vl;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jk(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lW(this,e)}reload(){return dW(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gl(this,aW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,d=(l=n.createdAt)!==null&&l!==void 0?l:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:N,stsTokenManager:O}=n;he(v&&O,e,"internal-error");const D=vl.fromJSON(this.name,O);he(typeof v=="string",e,"internal-error"),pi(h,e.name),pi(f,e.name),he(typeof E=="boolean",e,"internal-error"),he(typeof A=="boolean",e,"internal-error"),pi(m,e.name),pi(g,e.name),pi(w,e.name),pi(T,e.name),pi(d,e.name),pi(p,e.name);const K=new _o({uid:v,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:A,photoURL:g,phoneNumber:m,tenantId:w,stsTokenManager:D,createdAt:d,lastLoginAt:p});return N&&Array.isArray(N)&&(K.providerData=N.map(ne=>Object.assign({},ne))),T&&(K._redirectEventId=T),K}static async _fromIdTokenResponse(e,n,r=!1){const i=new vl;i.updateFromServerResponse(n);const o=new _o({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yf(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function Hr(t){ii(t instanceof Function,"Expected a class definition");let e=B_.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vk.type="NONE";const z_=Vk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=dh(this.userKey,i.apiKey,o),this.fullPersistenceKey=dh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ws(Hr(z_),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||Hr(z_);const s=dh(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(s);if(c){const h=_o._fromJSON(e,c);l!==o&&(a=h),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ws(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new Ws(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wk(e))return"Blackberry";if(Hk(e))return"Webos";if(n0(e))return"Safari";if((e.includes("chrome/")||Uk(e))&&!e.includes("edge/"))return"Chrome";if(zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fk(t=on()){return/firefox\//i.test(t)}function n0(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uk(t=on()){return/crios\//i.test(t)}function Bk(t=on()){return/iemobile/i.test(t)}function zk(t=on()){return/android/i.test(t)}function Wk(t=on()){return/blackberry/i.test(t)}function Hk(t=on()){return/webos/i.test(t)}function ep(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vW(t=on()){var e;return ep(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yW(){return nU()&&document.documentMode===10}function qk(t=on()){return ep(t)||zk(t)||Hk(t)||Wk(t)||/windows phone/i.test(t)||Bk(t)}function wW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e=[]){let n;switch(t){case"Browser":n=W_(on());break;case"Worker":n=`${W_(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${r}`}async function Gk(t,e){return Jo(t,"GET","/v2/recaptchaConfig",Xo(t,e))}function H_(t){return t!==void 0&&t.enterprise!==void 0}class Qk{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Yk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=xr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",SW().appendChild(r)})}function bW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _W="https://www.google.com/recaptcha/enterprise.js?render=",EW="recaptcha-enterprise",TW="NO_RECAPTCHA";class Xk{constructor(e){this.type=EW,this.auth=Zo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Gk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new Qk(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){const u=window.grecaptcha;H_(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(TW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&H_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}Yk(_W+a).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function wf(t,e,n,r=!1){const i=new Xk(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new IW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Dt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}async initializeRecaptchaConfig(){const e=await Gk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Qk(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Xk(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return he(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zo(t){return Dt(t)}let q_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uU(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t,e){const n=Ml(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Gh(o,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function RW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kW(t,e,n){const r=Zo(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Jk(e),{host:s,port:a}=AW(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NW()}function Jk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AW(t){const e=Jk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:K_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:K_(s)}}}function K_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function OW(t,e){return Jo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t,e){return tc(t,"POST","/v1/accounts:signInWithPassword",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DW(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}async function PW(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends r0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await wf(e,r,"signInWithPassword");return Sm(e,i)}else return Sm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await wf(e,r,"signInWithPassword");return Sm(e,o)}else return Promise.reject(i)});case"emailLink":return DW(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return OW(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return PW(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return tc(t,"POST","/v1/accounts:signInWithIdp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="http://localhost";class $o extends r0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Jw(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new $o(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:LW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $W(t){const e=hu(fu(t)).link,n=e?hu(fu(e)).deep_link_id:null,r=hu(fu(t)).deep_link_id;return(r?hu(fu(r)).link:null)||r||n||e||t}class i0{constructor(e){var n,r,i,o,s,a;const u=hu(fu(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,h=MW((i=u.mode)!==null&&i!==void 0?i:null);he(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$W(e);try{return new i0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.providerId=$a.PROVIDER_ID}static credential(e,n){return yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=i0.parseLink(n);return he(r,"argument-error"),yl._fromEmailAndCode(e,r.code,r.tenantId)}}$a.PROVIDER_ID="password";$a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends nc{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $o._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends nc{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends nc{constructor(){super("twitter.com")}static credential(e,n){return $o._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(t,e){return tc(t,"POST","/v1/accounts:signUp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await _o._fromIdTokenResponse(e,r,i),s=G_(r);return new jo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=G_(r);return new jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function G_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends hr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sf(e,n,r,i)}}function Zk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(t,o,e,r):o})}async function jW(t,e,n=!1){const r=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await gl(t,Zk(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=t0(o.idToken);he(s,r,"internal-error");const{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),jo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e,n=!1){const r="signIn",i=await Zk(t,r,e),o=await jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function FW(t,e){return eA(Zo(t),e)}async function UW(t,e,n){var r;const i=Zo(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await wf(i,o,"signUpPassword");s=bm(i,l)}else s=bm(i,o).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await wf(i,o,"signUpPassword");return bm(i,c)}else return Promise.reject(l)});const a=await s.catch(l=>Promise.reject(l)),u=await jo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function BW(t,e,n){return FW(Dt(t),$a.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){return Jo(t,"POST","/v1/accounts:createAuthUri",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t,e){const n=Pk()?vf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await zW(Dt(t),r);return i||[]}function WW(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function HW(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(){const t=on();return n0(t)||ep(t)}const KW=1e3,GW=10;class rA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qW()&&wW(),this.fallbackToPolling=qk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);yW()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,GW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const QW=rA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iA.type="SESSION";const oA=iA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async l=>l(n.origin,o)),u=await YW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const l=s0("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function JW(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function ZW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t5(){return sA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",n5=1,_f="firebaseLocalStorage",uA="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function np(t,e){return t.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function r5(){const t=indexedDB.deleteDatabase(aA);return new rc(t).toPromise()}function yv(){const t=indexedDB.open(aA,n5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_f,{keyPath:uA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_f)?e(r):(r.close(),await r5(),e(await yv()))})})}async function Q_(t,e,n){const r=np(t,!0).put({[uA]:e,value:n});return new rc(r).toPromise()}async function i5(t,e){const n=np(t,!1).get(e),r=await new rc(n).toPromise();return r===void 0?null:r.value}function Y_(t,e){const n=np(t,!0).delete(e);return new rc(n).toPromise()}const o5=800,s5=3;class lA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(t5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZW(),!this.activeServiceWorker)return;this.sender=new XW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yv();return await Q_(e,bf,"1"),await Y_(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=np(i,!1).getAll();return new rc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lA.type="LOCAL";const a5=lA;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e){return e?Hr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends r0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u5(t){return eA(t.auth,new a0(t),t.bypassAuthState)}function l5(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),VW(n,new a0(t),t.bypassAuthState)}async function c5(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),jW(n,new a0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u5;case"linkViaPopup":case"linkViaRedirect":return c5;case"reauthViaPopup":case"reauthViaRedirect":return l5;default:Qn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new ec(2e3,1e4);async function f5(t,e,n){const r=Zo(t);tW(t,e,o0);const i=cA(r,n);return new yo(r,"signInViaPopup",e,i).executeNotNull()}class yo extends hA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=s0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h5.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="pendingRedirect",ph=new Map;class p5 extends hA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await m5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m5(t,e){const n=y5(e),r=v5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function g5(t,e){ph.set(t._key(),e)}function v5(t){return Hr(t._redirectPersistence)}function y5(t){return dh(d5,t.config.apiKey,t.name)}async function w5(t,e,n=!1){const r=Zo(t),i=cA(r,e),s=await new p5(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=10*60*1e3;class b5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S5&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e={}){return Jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I5=/^https?/;async function x5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E5(t);for(const n of e)try{if(C5(n))return}catch{}Qn(t,"unauthorized-domain")}function C5(t){const e=vf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!I5.test(n))return!1;if(T5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new ec(3e4,6e4);function J_(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k5(t){return new Promise((e,n)=>{var r,i,o;function s(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(xr(t,"network-request-failed"))},timeout:R5.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Cr().gapi)===null||o===void 0)&&o.load)s();else{const a=bW("iframefcb");return Cr()[a]=()=>{gapi.load?s():n(xr(t,"network-request-failed"))},Yk(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw mh=null,e})}let mh=null;function A5(t){return mh=mh||k5(t),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=new ec(5e3,15e3),O5="__/auth/iframe",D5="emulator/auth/iframe",P5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M5(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e0(e,D5):`https://${t.config.authDomain}/${O5}`,r={apiKey:e.apiKey,appName:t.name,v:Aa},i=L5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ll(r).slice(1)}`}async function $5(t){const e=await A5(t),n=Cr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:M5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=xr(t,"network-request-failed"),a=Cr().setTimeout(()=>{o(s)},N5.get());function u(){Cr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V5=500,F5=600,U5="_blank",B5="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z5(t,e,n,r=V5,i=F5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},j5),{width:r.toString(),height:i.toString(),top:o,left:s}),l=on().toLowerCase();n&&(a=Uk(l)?U5:n),Fk(l)&&(e=e||B5,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(vW(l)&&a!=="_self")return W5(e||"",a),new Z_(null);const h=window.open(e||"",a,c);he(h,t,"popup-blocked");try{h.focus()}catch{}return new Z_(h)}function W5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="__/auth/handler",q5="emulator/auth/handler",K5=encodeURIComponent("fac");async function eE(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Aa,eventId:i};if(e instanceof o0){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",aU(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))s[c]=h}if(e instanceof nc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${K5}=${encodeURIComponent(u)}`:"";return`${G5(t)}?${Ll(a).slice(1)}${l}`}function G5({config:t}){return t.emulator?e0(t,q5):`https://${t.authDomain}/${H5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class Q5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=w5,this._overrideRedirectResult=g5}async _openPopup(e,n,r,i){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await eE(e,n,r,vf(),i);return z5(e,s,s0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await eE(e,n,r,vf(),i);return JW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $5(e),r=new b5(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_m];s!==void 0&&n(!!s),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qk()||n0()||ep()}}const Y5=Q5;var tE="@firebase/auth",nE="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z5(t){Rr(new ar("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kk(t)},l=new xW(r,i,o,u);return RW(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new ar("auth-internal",e=>{const n=Zo(e.getProvider("auth").getImmediate());return(r=>new X5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(tE,nE,J5(t)),Wn(tE,nE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=5*60,tH=Cx("authIdTokenMaxAge")||eH;let rE=null;const nH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tH)return;const i=n==null?void 0:n.token;rE!==i&&(rE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rH(t=Px()){const e=Ml(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CW(t,{popupRedirectResolver:Y5,persistence:[a5,QW,oA]}),r=Cx("authTokenSyncURL");if(r){const o=nH(r);HW(n,o,()=>o(n.currentUser)),WW(n,s=>o(s))}const i=Ix("auth");return i&&kW(n,`http://${i}`),n}Z5("Browser");const iH=t=>{const e=t.hasOwnProperty("name"),n=t.hasOwnProperty("description"),r=t.hasOwnProperty("tables");if(!e||!n||!r)return[!1,"Missing name, description or tables."];if(!Array.isArray(t.tables))return[!1,"Tables is not an array."];for(const i of t.tables){const[o,s]=oH(i);if(!o)return[!1,s]}return[!0]},oH=t=>{const e=t.hasOwnProperty("id"),n=t.hasOwnProperty("key"),r=t.hasOwnProperty("facts"),i=t.hasOwnProperty("events"),o=t.hasOwnProperty("rules");if(!e||!n||!r||!i||!o)return[!1,"A table is missing an id, key, facts, events or rules."];if(!Array.isArray(t.facts))return[!1,"Facts is not an array."];if(!Array.isArray(t.events))return[!1,"Events is not an array."];if(!Array.isArray(t.rules))return[!1,"Rules is not an array."];for(const s of t.facts){const[a,u]=sH(s);if(!a)return[!1,u]}for(const s of t.events){const[a,u]=aH(s);if(!a)return[!1,u]}for(const s of t.rules){const[a,u]=uH(s);if(!a)return[!1,u]}return[!0]},dA=t=>t!=="fact"&&t!=="event"&&t!=="rule"?{succeded:!1,errorCode:"Invalid entry type."}:{succeded:!0},sH=t=>{const e=t.hasOwnProperty("id"),n=t.hasOwnProperty("key"),r=t.hasOwnProperty("data");return!e||!n||!r?[!1,"A fact is missing an id, key or data."]:[!0]},aH=t=>{const e=t.hasOwnProperty("id"),n=t.hasOwnProperty("key");return!e||!n?[!1,"An event is missing an id or key."]:[!0]},uH=t=>{const e=t.hasOwnProperty("id"),n=t.hasOwnProperty("key"),r=t.hasOwnProperty("triggeredBy"),i=t.hasOwnProperty("triggers"),o=t.hasOwnProperty("criteria"),s=t.hasOwnProperty("modifications");if(!e||!n||!r||!i||!o||!s)return[!1,"A rule is missing an id, key, triggeredBy, triggers, criteria or modifications."];if(!Array.isArray(t.triggers))return[!1,"Triggers is not an array."];if(!Array.isArray(t.criteria))return[!1,"Criteria is not an array."];if(!Array.isArray(t.modifications))return[!1,"Modifications is not an array."];for(const a of t.criteria){const[u,l]=lH(a);if(!u)return[!1,l]}for(const a of t.modifications){const[u,l]=cH(a);if(!u)return[!1,l]}return[!0]},lH=t=>{const e=t.hasOwnProperty("comparedEntry"),n=t.hasOwnProperty("compareValue"),r=t.hasOwnProperty("comparisonOperator");return!e||!n||!r?[!1,"A criterion is missing a comparedEntry, compareValue or comparisonOperator."]:[!0]},cH=t=>{const e=t.hasOwnProperty("entry"),n=t.hasOwnProperty("modificationOperator"),r=t.hasOwnProperty("value");return!e||!n||!r?[!1,"A modification is missing an entry, modificationOperator or value."]:[!0]},hH={apiKey:"AIzaSyCQgm6Ha6hW_FvU9PVx7enSIgh42Li9Uyo",authDomain:"inkwell-6fd82.firebaseapp.com",projectId:"inkwell-6fd82",storageBucket:"inkwell-6fd82.appspot.com",messagingSenderId:"696275361314",appId:"1:696275361314:web:ff155c9a6add967364f47b",measurementId:"G-X74K3KNJ1Q"},pA=Dx(hH),va=rH(pA),mA=new Vr;mA.setCustomParameters({prompt:"select_account"});const gA=async()=>{try{const{user:t}=await f5(va,mA),e=await vA(t,{photoURL:t.photoURL||`https://robohash.org/${t.uid}.png`});return{succeded:!0,user:{uid:t.uid,...e}}}catch{return{succeded:!1,errorCode:"Error signing in with Google. Please try again!"}}},fH=async(t,e)=>{try{const n=await tA(va,t);if(!n.includes("password")&&n.length>0)return{succeded:!1,errorCode:"Email already in use, maybe in the form of another provider."};const{user:r}=await BW(va,t,e);try{const i=(await Ht(Lt(Mt,`users/${r.uid}`))).data();return{succeded:!0,user:{uid:r.uid,...i}}}catch{return{succeded:!1,errorCode:"Error reading user data from database. Please try again!"}}}catch(n){return{succeded:!1,errorCode:n.message}}},dH=async(t,e,n)=>{try{if((await tA(va,t)).length>0)return{succeded:!1,errorCode:"Email already in use, maybe in the form of another provider."};const{user:i}=await UW(va,t,e);return{succeded:!0,user:await vA(i,{photoURL:`https://robohash.org/${i.uid}.png`,...n})}}catch(r){return{succeded:!1,errorCode:r.message}}},pH=async()=>{try{return await va.signOut(),{succeded:!0}}catch{return{succeded:!1,errorCode:"Error signing out. Please try again!"}}},Mt=P6(pA),vA=async(t,e)=>{if(!t)return;const n=Lt(Mt,`users/${t.uid}`);if((await Ht(n)).exists())console.log("NOT ERROR: User already exists in the database.");else{const{displayName:i,email:o}=t,s=new Date;try{X6(n,{displayName:i||o.split("@")[0],email:o,createdAt:s,projects:[],...e})}catch{throw"Error adding user to the database. Please try again!"}}return(await Ht(n)).data()},yA=async t=>{const e=Ir(Mt,`projects/${t}/tables`),n=await zs(e);if(n.empty)return{succeded:!0,project:{tables:[]}};const r=n.docs.map(o=>mH(o));return{succeded:!0,project:{tables:await Promise.all(r)}}},mH=async t=>{const e=t.data(),n=t.ref,r=await Em(n,"facts"),i=await Em(n,"events"),o=await Em(n,"rules");return{uid:t.id,...e,facts:r,events:i,rules:o}},Em=async(t,e)=>{const n=Ir(t,e),r=await zs(n);return r.empty?[]:r.docs.map(i=>({...i.data(),uid:i.id}))},gH=async(t,e,n,r)=>{const i=Lt(Mt,`projects/${t}/tables/${e}`);return await SH(i,n,r)},vH=async(t,e,n,r,i)=>{const o=Lt(Mt,`projects/${t}/tables/${e}`);return await bH(o,n,r,i)},yH=async(t,e)=>{const n=Lt(Mt,`projects/${t}`),r=Ir(n,"tables"),i=(await Ht(n)).data().tableCounter;try{const o=await Xw(r,{name:e,id:i,createdAt:yt.now(),factsCounter:0,eventsCounter:0,rulesCounter:0,counter:0});return console.log(o),await or(n,{tableCounter:i+1}),{succeded:!0,table:(await Ht(o)).data()}}catch(o){return console.log(o),{succeded:!1,errorCode:"Error creating table. Please try again or contact support."}}},wH=async(t,e)=>{const n=Lt(Mt,`projects/${t}`),r=Lt(n,`tables/${e}`);await hh(r)},SH=async(t,e,n)=>{let r=dA(e);if(!r.succeded)return r;const i=(await Ht(t)).data().counter,o=(await Ht(t)).data()[`${e}sCounter`];n={...n,id:i},await or(t,{[`${e}sCounter`]:o+1,counter:i+1});const s=Ir(t,`${e}s`);return(await Xw(s,n)).id},bH=async(t,e,n,r)=>{const i=dA(e);if(!i.succeded)return i;const o=Ir(t,`${e}s`),s=Lt(o,n);return await or(s,r),{succeded:!0,entryData:(await Ht(s)).data()}},_H=async(t,e,n)=>{const r=Lt(Mt,`projects/${t}/tables/${e}`),i=Ir(r,"facts"),o=Ir(r,"events"),s=Ir(r,"rules"),a=uh(i,lh("id","==",n)),u=uh(o,lh("id","==",n)),l=uh(s,lh("id","==",n)),c=await zs(a),h=await zs(u),f=await zs(l);if(!c.empty){console.log("fact"),await hh(c.docs[0].ref);return}if(!h.empty){console.log("event"),await hh(h.docs[0].ref);return}if(!f.empty){console.log("rule"),await hh(f.docs[0].ref);return}console.log("not found")},EH=async t=>{const e=Lt(Mt,`users/${t}`),n=await Ht(e);if(!n.exists())return{succeded:!1,errorCode:"Could not fetch user from database."};const o=n.data().projects.map(async s=>{const a=await Ht(s);return{uid:a.id,...a.data()}});return{succeded:!0,projects:await Promise.all(o)}},TH=async(t,e,n)=>{const r=Ir(Mt,"projects"),i=Lt(Mt,`users/${t}`);try{const o=await Xw(r,{name:e,description:n,createdAt:yt.now(),members:[i],tableCounter:0});return or(i,{projects:mf(o)}),{succeded:!0,project:{uid:o.id,...(await Ht(o)).data()}}}catch{return{succeded:!1,errorCode:"Error creating project. Please try again or contact support."}}},wA=async t=>{const e=Lt(Mt,`projects/${t}`),n=await Ht(e);return n.exists()?{succeded:!0,project:n.data()}:{succeded:!1,errorCode:"Could not fetch project from database."}},IH=async(t,e)=>{const n=Lt(Mt,`projects/${t}`);console.log(t);try{return await or(n,e),console.log("Project updated successfully."),{succeded:!0}}catch(r){return console.log("Error updating project."),console.log(r),{succeded:!1,errorCode:"Error updating project. Please try again or contact support."}}},xH=async t=>{const e=Lt(Mt,`projects/${t}`),n=await Ht(e);if(!n.exists())return{succeded:!1,errorCode:"Could not fetch project from database."};const o=n.data().members.map(async s=>{const a=await Ht(s);return{uid:a.id,...a.data()}});return{succeded:!0,members:await Promise.all(o)}},CH=async(t,e)=>{const n=Lt(Mt,`projects/${t}`),r=await Ht(n);if(!r.exists())return{succeded:!1,errorCode:"Could not fetch project from database."};const i=Ir(Mt,"users"),o=uh(i,lh("email","==",e)),s=await zs(o);if(s.empty)return{succeded:!1,errorCode:"Could not fetch user from database."};let a,u;if(s.forEach(async h=>{a=h.ref,u={uid:h.id,...h.data()}}),r.data().members.some(h=>h.id==a.id))return{succeded:!1,errorCode:"User is already a member of the project."};try{await or(n,{members:mf(a)})}catch(h){return console.log("AAAAAAAAAAAAA"),console.log(h),{succeded:!1,errorCode:"Error adding user to project. Please try again or contact support."}}try{return await or(a,{projects:mf(n)}),{succeded:!0,user:{uid:a.id,...u}}}catch(h){return console.log("BBBBBBBB"),console.log(h),await or(n,{members:vv(a)}),{succeded:!1,errorCode:"Error adding project to user. Please try again or contact support."}}},RH=async(t,e)=>{const n=Lt(Mt,`projects/${t}`),r=await Ht(n);if(!r.exists())return{succeded:!1,errorCode:"Could not fetch project from database."};const i=Lt(Mt,`users/${e}`);if(!(await Ht(i)).exists())return{succeded:!1,errorCode:"Could not fetch user from database."};if(!r.data().members.some(u=>u.id==i.id))return{succeded:!1,errorCode:"User is not a member of the project."};try{await or(n,{members:vv(i)})}catch{return{succeded:!1,errorCode:"Error removing user from project. Please try again or contact support."}}try{return await or(i,{projects:vv(n)}),{succeded:!0}}catch{return await or(n,{members:mf(i)}),{succeded:!1,errorCode:"Error removing user from project. Please try again or contact support."}}},kH=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,o]=R.useState(null),[s,a]=R.useState(!1),[u,l]=Nn(sa),c=Ar(),h=async()=>{try{const{succeded:m,errorCode:g,user:w}=await fH(t,n);o(m?null:g),a(w||!1)}catch(m){o(m.code)}e(""),r("")},f=async()=>{try{const{succeded:m,errorCode:g,user:w}=await gA();o(m?null:g),a(w||!1)}catch(m){o(m.code)}};return R.useEffect(()=>{s&&(console.log({connected:!0,...s}),l({connected:!0,...s}),c("/projects"))},[s,c]),y.jsxs(bx,{children:[y.jsx(ze,{className:"mb-8",label:"Email",type:"text",value:t,onChange:m=>e(m.target.value),lightTheme:!0}),y.jsx(ze,{className:i!==null&&"mb-8",label:"Password",type:"password",value:n,onChange:m=>r(m.target.value),lightTheme:!0}),i!==null&&y.jsxs("div",{className:"text-ink-red text-xs text-center",children:["ERROR OCCURED: ",i]}),y.jsxs("div",{className:`flex justify-between ${i!==null?"mt-8":"mt-16"}`,children:[y.jsxs("div",{children:[y.jsx(Rt,{onClick:h,children:"SIGN IN"}),y.jsx("div",{className:"relative",children:y.jsx(ea,{className:"absolute font-ink-fira text-ink-light-grey text-xxs hover:underline w-full text-center mt-2",to:"/sign-up",children:"No account?"})})]}),y.jsx(Rt,{onClick:f,children:y.jsx("img",{src:"/InkwellWeb/icons/google_sign_in.svg",alt:"Sign in with Google"})})]})]})},AH=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,o]=R.useState(""),[s,a]=R.useState(""),[u,l]=R.useState(null),[c,h]=R.useState(!1),[f,m]=Nn(sa),g=Ar(),w=async()=>{if(i!==s){alert("Passwords do not match");return}try{const{succeded:d,errorCode:p,user:v}=await dH(n,i,{displayName:t});l(d?null:p),h(v||!1)}catch(d){l(d.code)}e(""),r(""),o(""),a("")},T=async()=>{try{const{succeded:d,errorCode:p,user:v}=await gA();l(d?null:p),h(v||!1)}catch(d){l(d.code)}};return R.useEffect(()=>{c&&(m(c),g("/projects"))},[c,g]),y.jsxs(bx,{children:[y.jsx(ze,{className:"mb-8",label:"Username",type:"text",value:t,onChange:d=>e(d.target.value),lightTheme:!0}),y.jsx(ze,{className:"mb-8",label:"Email",type:"text",value:n,onChange:d=>r(d.target.value),lightTheme:!0}),y.jsx(ze,{className:"mb-8",label:"Password",type:"password",value:i,onChange:d=>o(d.target.value),lightTheme:!0}),y.jsx(ze,{className:u!==null&&"mb-8",label:"Verify Password",type:"password",value:s,onChange:d=>a(d.target.value),lightTheme:!0}),u!==null&&y.jsxs("div",{className:"text-ink-red text-xs text-center",children:["ERROR OCCURED: ",u]}),y.jsxs("div",{className:`flex justify-between ${u!==null?"mt-8":"mt-16"}`,children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx(Rt,{onClick:w,children:"SIGN UP"}),y.jsx("div",{className:"relative",children:y.jsx(ea,{className:"absolute font-ink-fira text-ink-light-grey text-xxs hover:underline w-full text-center mt-2",to:"/sign-in",children:"Already have an account?"})})]}),y.jsx(Rt,{onClick:T,children:y.jsx("img",{src:"/InkwellWeb/icons/google_sign_in.svg",alt:"Sign in with Google"})})]})]})},{persistAtom:NH}=zy({key:"projectState",storage:localStorage}),SA={uid:"local",local:!1,name:"",description:"",createdAt:{nanoseconds:0,seconds:0},members:[],tables:[]},es=wx({key:"projectState",default:SA,effects_UNSTABLE:[NH]}),iu=({imageUrl:t,title:e,description:n,className:r,onClick:i,solidColour:o})=>y.jsxs("div",{className:`${r}
                bg-ink-blue rounded-md min-h-fit overflow-hidden h-[25vh]
                active:scale-95 hover:cursor-pointer hover:scale-105 transition-all ease-in-out duration-300
                drop-shadow-lg shadow-black
            `,onClick:i,children:[o?y.jsx("div",{className:`w-full h-1/2 rounded-t-md object-cover ${o}`}):y.jsx("img",{src:`/InkwellWeb/${t}`,alt:e,className:"w-full h-1/2 rounded-t-md object-cover bg-ink-dark-grey"}),y.jsxs("div",{className:"w-full h-1/2 p-4 pt-2",children:[y.jsx("h1",{className:"text-ink-white text-lg font-normal font-ink-fira",children:e}),y.jsx("p",{className:"text-ink-white text-base font-light font-ink-catamaran",children:n})]})]}),OH=t=>{const e=new Date(t.seconds*1e3),n=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],r=e.getMonth(),i=e.getDate(),o=e.getFullYear();return`${i} ${n[r]} ${o}`},hs=({className:t,imgSrc:e,title:n,linkTo:r})=>y.jsx("div",{className:`${t} w-full h-[4vh] pl-[1.5vw]`,children:y.jsxs(ea,{to:r,className:"w-fit h-full flex justify-start items-center py-4",children:[y.jsx("img",{src:`/InkwellWeb/${e}`,alt:n,className:"aspect-square min-h-[22px] h-full mr-4"}),y.jsx("h1",{className:"text-ink-white text-lg font-ink-fira font-light",children:n})]})}),bA=()=>{const[t]=Nn(es);return y.jsxs("div",{className:"w-1/2 max-w-[500px] h-full min-w-[300px] bg-ink-dark-grey",children:[y.jsxs(ea,{to:"/projects",className:"pl-[1vw] aspect-square flex items-center h-[9vh] py-[2vh]",children:[y.jsx("img",{className:"rounded-full h-full mr-4",src:"/InkwellWeb/logos/logo_512x_round.png",alt:"Inkwell logo"}),y.jsx("h1",{className:"text-ink-white text-2xl font-ink-libre text-center",children:"Inkwell"})]}),y.jsx("hr",{className:"border-ink-light-grey mx-auto"}),y.jsx(hs,{className:"my-3",imgSrc:"/InkwellWeb/icons/home.png",title:"Project Overview",linkTo:`/project/${t.uid}`}),y.jsx("hr",{className:"border-ink-light-grey mx-auto"}),y.jsx("h1",{className:"text-ink-light-grey text-lg font-ink-fira pl-[1vw] mt-2",children:"Views"}),y.jsx(hs,{imgSrc:"/InkwellWeb/icons/table.png",title:"Tables",linkTo:`/project/${t.uid}/views/tables`}),y.jsx(hs,{imgSrc:"/InkwellWeb/icons/spreadsheet.png",title:"Spreadsheet",linkTo:`/project/${t.uid}/views/spreadsheet`}),y.jsx(hs,{imgSrc:"/InkwellWeb/icons/diagram.png",title:"Diagram",linkTo:`/project/${t.uid}/views/diagram`}),y.jsx("h1",{className:"text-ink-light-grey text-lg font-ink-fira pl-[1vw] mt-2",children:"Management"}),y.jsx(hs,{imgSrc:"/InkwellWeb/icons/settings.png",title:"Project Settings",linkTo:`/project/${t.uid}/settings`}),y.jsx(hs,{imgSrc:"/InkwellWeb/icons/user.png",title:"Users & Members",linkTo:`/project/${t.uid}/users`})]})},u0=({project:t,children:e})=>y.jsxs("div",{className:"h-screen flex",children:[y.jsx(bA,{}),y.jsxs("div",{className:"w-full h-full flex flex-col justify-between",children:[y.jsxs("div",{className:"w-full sm:px-12 md:px-32 2xl:px-80 flex-[2] bg-ink-blue flex flex-col justify-around",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-ink-white text-6xl font-bold font-ink-fira",children:t.name}),y.jsx("p",{className:"text-ink-white text-lg font-light font-ink-catamaran",children:t.description})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("img",{src:"/InkwellWeb/icons/user_placeholder.png",alt:"User profile",className:"h-full rounded-full border-2 border-ink-white"}),y.jsx("p",{className:"text-ink-white text-lg font-ink-fira",children:OH(t.createdAt)})]})]}),y.jsx("div",{className:"w-full md:px-12 md:py-6 lg:px-16 lg:py-8 xl:px-24 xl:py-12 flex-[3] bg-ink-white",children:e})]})]}),DH=()=>{const{projectId:t}=JT(),[e,n]=Nn(es),r=Ar(),i=async()=>{if(e.local||t==="local")return;console.log("Trying to load project: ",t);let s=await wA(t);if(!s.succeded){console.error("Failed to get project data from firebase!");return}const a={uid:t,local:!1,tables:[],...s.project};if(s=await yA(t),!s.succeded){console.error("Failed to load project from firebase to project state!");return}const u={...a,...s.project};n(u)},o=()=>{};return R.useEffect(()=>(i(),o),[]),y.jsxs(u0,{project:e,children:[y.jsx("h1",{className:"text-ink-dark-light-blue font-ink-fira font-normal mb-2 text-xl",children:"Views"}),y.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[y.jsx(iu,{imageUrl:"/misc/card_tables.png",description:"The classic approach. Balance between ease-of-use and efficiency.",title:"Tables",onClick:()=>r(`/project/${e.uid}/views/tables`)}),y.jsx(iu,{imageUrl:"/misc/card_spreadsheet.png",description:"The most efficient, yet hardest to get used to approach. --TO BE ADDED--",title:"Spreadsheet",onClick:()=>r(`/project/${e.uid}/views/spreadsheet`)}),y.jsx(iu,{imageUrl:"/misc/card_diagram.png",description:"Not the most efficient, but the easiest to get used to approach. --TO BE ADDED--",title:"Diagram",onClick:()=>r(`/project/${e.uid}/views/diagram`)})]}),y.jsx("h1",{className:"text-ink-dark-light-blue font-ink-fira font-normal mt-4 mb-2 text-xl",children:"Management"}),y.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[y.jsx(iu,{imageUrl:"/misc/card_sample.png",description:"Add, remove and inspect members of this project.",solidColour:"bg-ink-light-orange",title:"Users",onClick:()=>r(`/project/${e.uid}/users`)}),y.jsx(iu,{imageUrl:"/misc/card_sample.png",description:"Change the name, description, and other settings of this project.",solidColour:"bg-ink-red",title:"Project Settings",onClick:()=>r(`/project/${e.uid}/settings`)})]})]})},Ef=({classNameOuter:t,className:e,children:n,hidden:r,setHidden:i,onClose:o,title:s})=>y.jsx("div",{className:`${t||""} ${r?"hidden":""}
                absolute w-screen h-screen top-0 left-0 z-50
                bg-ink-dark-grey bg-opacity-50 flex justify-center items-center
            `,children:y.jsxs("div",{className:`${e} w-2/3 h-2/3 p-8 bg-ink-white rounded-md shadow-2xl flex flex-col overflow-scroll`,children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("h1",{className:"text-ink-dark-grey font-ink-catamaran text-2xl font-semibold",children:s}),y.jsx("img",{src:"/InkwellWeb/icons/close_modal.png",alt:"Close",className:"w-8 h-8 cursor-pointer",onClick:()=>{i(!0),o&&o()}})]}),y.jsx("div",{className:"flex-1",children:n})]})}),PH=({className:t})=>{const[e,n]=Nn(sa),[r,i]=Nn(es),[o,s]=R.useState(!0),[{photoURL:a}]=Nn(sa),[u,l]=R.useState(null),c=Ar(),h=async()=>{const f=await pH();if(f.error){l(f.error);return}s(!0),n(Sx),i(SA),c("/")};return y.jsxs(y.Fragment,{children:[y.jsxs(Ef,{className:"z-50",hidden:o,setHidden:s,title:"Account Settings",children:[u&&y.jsx("p",{className:"text-ink-red text-xs text-center mb-4",children:u}),y.jsx(Rt,{lightTheme:!1,onClick:h,children:"Sign Out"})]}),y.jsxs("div",{className:`${t||""} fixed left-1/2 -translate-x-1/2 bg-ink-transparent w-[98vw] h-[9vh] py-[2vh] mx-auto flex justify-between`,children:[y.jsxs(ea,{to:"/projects",className:"w-fit aspect-square flex items-center",children:[y.jsx("img",{className:"rounded-full h-full mr-4",src:"/InkwellWeb/logos/logo_512x_round.png",alt:"Inkwell logo"}),y.jsx("h1",{className:"text-ink-white text-2xl font-ink-libre text-center",children:"Inkwell"})]}),y.jsxs("div",{className:"flex",children:[y.jsx(ea,{to:"/projects",children:y.jsx("img",{src:"/InkwellWeb/icons/documentation.png",alt:"Documentation",className:"h-full border-2 border-ink-white mr-4"})}),y.jsx("img",{src:`/InkwellWeb/${a}`,alt:"User profile",className:"h-full rounded-full border-2 border-ink-white hover:cursor-pointer",onClick:()=>s(!1)})]})]})]})},LH=({onClick:t,name:e,description:n,authors:r,date:i})=>{const o=R.useRef(null),[s,a]=R.useState(0),u=()=>{setTimeout(()=>{a(o.current.clientHeight)},300)};return R.useEffect(()=>(a(o.current.clientHeight),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}),[]),y.jsxs("div",{className:`\r
                active:scale-90 hover:cursor-pointer hover:scale-110 transition-all ease-in-out duration-300 \r
                rounded-md bg-ink-blue flex flex-col justify-between items-center p-4 min-h-fit h-[30vh] max-h-[16rem]\r
            `,onClick:t,ref:o,children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-ink-white font-ink-catamaran text-2xl font-semibold",children:e}),s>200&&y.jsx("p",{className:"text-ink-light-blue font-ink-catamaran text-base font-light",children:n})]}),y.jsxs("div",{className:"w-full flex justify-between",children:[y.jsx("img",{src:"/InkwellWeb/icons/user_placeholder.png",alt:"Placeholder of project owner"}),y.jsx("p",{className:"text-ink-white font-ink-fira text-base font-bold",children:i})]})]})},MH=async t=>{const e=new FileReader;return e.readAsText(t),new Promise((n,r)=>{e.onload=()=>{try{n(JSON.parse(e.result))}catch{r("Invalid JSON file.")}},e.onerror=()=>{r("File reader encountered an error.")}})},$H=async t=>{try{const e=await MH(t),[n,r]=iH(e);return n?{succeded:!0,project:e}:{succeded:!1,errorCode:"JSON file is not a valid project: "+r}}catch(e){return{succeded:!1,errorCode:e.message}}},jH=()=>{const[t]=Nn(sa),[e,n]=Nn(es),[r,i]=R.useState(null),o=Ar(),[s,a]=R.useState(!0),[u,l]=R.useState(""),[c,h]=R.useState(""),[f,m]=R.useState(null),[g,w]=R.useState(!0),[T,d]=R.useState(null),[p,v]=R.useState(null),E=async()=>{const D=await TH(t.uid,u,c);if(!D.succeded){console.log(D.errorCode),m(D.errorCode);return}console.log(D.project),a(!0),l(""),h(""),i([...r,D.project])},A=async()=>{const D=await $H(T);if(!D.succeded){v(D.errorCode);return}const K=new Date(Date.now());n({local:!0,uid:"local",createdAt:{nanoseconds:K.getTime()/1e6,seconds:K.getTime()/1e3},...D.project}),w(!0),d(null),o("/project/local")},N=D=>{n({local:!1,uid:r[D].uid,...r[D]}),console.log("Aaaaaaa"),console.log(r),console.log(r[D]),o(`/project/${r[D].uid}`)},O=()=>{EH(t.uid).then(({succeded:D,errorCode:K,projects:ne})=>{if(console.log(D,K,ne),!D){m(K);return}i(ne)})};return R.useEffect(()=>{t.connected||o("/sign-in"),O()},[]),y.jsxs("div",{className:"h-screen",children:[y.jsx("div",{className:"z-0 absolute h-screen spacer bg-[url('waves/projects_wave_top.svg')]"}),y.jsx("div",{className:"z-0 absolute h-screen spacer bg-[url('waves/projects_wave_bottom.svg')]"}),y.jsx(Ef,{title:"Create project",className:"max-w-[45vw]",hidden:s,setHidden:a,onClose:()=>{m(null),l(""),h("")},children:y.jsxs("div",{className:"flex flex-col justify-between h-full w-full items-center transition duration-300 ease-in-out sm:p-8 md:p-16 lg:p-32",children:[y.jsxs("div",{className:"w-1/2 h-2/3 flex flex-col",children:[y.jsx(ze,{className:"mb-8",label:"Name",type:"text",value:u,onChange:D=>l(D.target.value),lightTheme:!1}),y.jsx(ze,{className:"flex-1",label:"Description",type:"textarea",value:c,onChange:D=>h(D.target.value),lightTheme:!1})]}),y.jsxs("div",{className:"text-center",children:[f&&y.jsx("p",{className:"text-ink-red text-xs text-center mb-4",children:f}),y.jsx(Rt,{onClick:E,lightTheme:!1,children:"Create project"})]})]})}),y.jsx(Ef,{title:"Load local project",className:"max-w-[45vw]",hidden:g,setHidden:w,onClose:()=>{v(null),d(null)},children:y.jsxs("div",{className:`\r
                        flex flex-col justify-between h-full w-full items-center \r
                        transition duration-300 ease-in-out sm:p-8 md:p-16 lg:p-32\r
                    `,children:[y.jsx("input",{type:"file",onChange:D=>d(D.target.files[0])}),p&&y.jsx("p",{className:"text-ink-red text-xs text-center mb-4",children:p}),y.jsx(Rt,{onClick:A,lightTheme:!1,children:"Load project"})]})}),y.jsx(PH,{className:"z-0"}),y.jsxs("div",{className:"relative z-20 bg-ink-transparent pt-[15vh] h-full w-[60%] mx-auto",children:[y.jsx("h1",{className:"z-20 mix-blend-difference text-ink-light-grey font-ink-catamaran text-xl",children:"Your Inkwell projects:"}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[y.jsxs("div",{className:`\r
                            active:scale-90 hover:cursor-pointer hover:scale-110 transition-all ease-in-out duration-300 \r
                            rounded-md bg-ink-blue flex flex-col justify-center items-center p-4 \r
                            min-h-[8rem] h-[30vh] max-h-[16rem]\r
                            `,onClick:()=>a(!1),children:[y.jsx("img",{className:"mb-4",src:"/InkwellWeb/icons/plus.svg",alt:"Add project"}),y.jsx("h1",{className:"text-ink-white font-ink-catamaran text-2xl font-semibold",children:"New project?"})]}),y.jsxs("div",{className:`\r
                            active:scale-90 hover:cursor-pointer hover:scale-110 transition-all ease-in-out \r
                            duration-300 rounded-md bg-ink-blue flex flex-col justify-center\r
                            items-center p-4 min-h-[8rem] h-[30vh] max-h-[16rem]\r
                        `,onClick:()=>w(!1),children:[y.jsx("img",{className:"mb-4",src:"/InkwellWeb/icons/plus.svg",alt:"Add project"}),y.jsx("h1",{className:"text-ink-white font-ink-catamaran text-2xl font-semibold",children:"Load local?"})]}),r!==null&&r.length>0&&r.map(({name:D,description:K,authors:ne,createdAt:Ae},Ge)=>y.jsx(LH,{name:D,description:K,authors:ne,date:new Date(Ae.seconds*1e3).toLocaleDateString(),onClick:()=>{N(Ge),console.log("clicked")}},Ge))]}),r===null&&y.jsx("div",{className:"w-full mt-20 flex justify-center items-center",children:y.jsx(Rt,{onClick:()=>{o(0)},lightTheme:!1,children:"Refresh project list"})})]})]})};var ao={},rp={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wv=function(t,e){return wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},wv(t,e)};function V(t,e){wv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function ya(t){return typeof t=="function"}var iE=!1,Fn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}iE=t},get useDeprecatedSynchronousErrorHandling(){return iE}};function As(t){setTimeout(function(){throw t},0)}var Tf={closed:!0,next:function(t){},error:function(t){if(Fn.useDeprecatedSynchronousErrorHandling)throw t;As(t)},complete:function(){}},hn=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function l0(t){return t!==null&&typeof t=="object"}var VH=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),ju=VH,ut=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var u=r[a];u.remove(this)}if(ya(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(h){e=h instanceof ju?oE(h.errors):[h]}}if(hn(s))for(var a=-1,l=s.length;++a<l;){var c=s[a];if(l0(c))try{c.unsubscribe()}catch(f){e=e||[],f instanceof ju?e=e.concat(oE(f.errors)):e.push(f)}}if(e)throw new ju(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(i===null)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return n;var o=this._subscriptions;return o===null?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function oE(t){return t.reduce(function(e,n){return e.concat(n instanceof ju?n.errors:n)},[])}var If=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ie=function(t){V(e,t);function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Tf;break;case 1:if(!n){o.destination=Tf;break}if(typeof n=="object"){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new sE(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new sE(o,n,r,i);break}return o}return e.prototype[If]=function(){return this},e.create=function(n,r,i){var o=new e(n,r,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(ut),sE=function(t){V(e,t);function e(n,r,i,o){var s=t.call(this)||this;s._parentSubscriber=n;var a,u=s;return ya(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==Tf&&(u=Object.create(r),ya(u.unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!Fn.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},e.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,i=Fn.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=n,r.syncErrorThrown=!0):As(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;As(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return n._complete.call(n._context)};!Fn.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(i){if(this.unsubscribe(),Fn.useDeprecatedSynchronousErrorHandling)throw i;As(i)}},e.prototype.__tryOrSetError=function(n,r,i){if(!Fn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(o){return Fn.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=o,n.syncErrorThrown=!0,!0):(As(o),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(ie);function c0(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;r&&r instanceof ie?t=r:t=null}return!0}function FH(t,e,n){if(t){if(t instanceof ie)return t;if(t[If])return t[If]()}return!t&&!e&&!n?new ie(Tf):new ie(t,e,n)}var ja=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Hi(t){return t}function Sv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _A(t)}function _A(t){return t.length===0?Hi:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Se=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this.operator,o=FH(e,n,r);if(i?o.add(i.call(o,this.source)):o.add(this.source||Fn.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Fn.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){Fn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),c0(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var r=this;return n=aE(n),new n(function(i,o){var s;s=r.subscribe(function(a){try{e(a)}catch(u){o(u),s&&s.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[ja]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:_A(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=aE(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function aE(t){if(t||(t=Fn.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var UH=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Ti=UH,EA=function(t){V(e,t);function e(n,r){var i=t.call(this)||this;return i.subject=n,i.subscriber=r,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},e}(ut),TA=function(t){V(e,t);function e(n){var r=t.call(this,n)||this;return r.destination=n,r}return e}(ie),$t=function(t){V(e,t);function e(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype[If]=function(){return new TA(this)},e.prototype.lift=function(n){var r=new uE(this,this);return r.operator=n,r},e.prototype.next=function(n){if(this.closed)throw new Ti;if(!this.isStopped)for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].next(n)},e.prototype.error=function(n){if(this.closed)throw new Ti;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Ti;this.isStopped=!0;for(var n=this.observers,r=n.length,i=n.slice(),o=0;o<r;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(n){if(this.closed)throw new Ti;return t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){if(this.closed)throw new Ti;return this.hasError?(n.error(this.thrownError),ut.EMPTY):this.isStopped?(n.complete(),ut.EMPTY):(this.observers.push(n),new EA(this,n))},e.prototype.asObservable=function(){var n=new Se;return n.source=this,n},e.create=function(n,r){return new uE(n,r)},e}(Se),uE=function(t){V(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},e.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):ut.EMPTY},e}($t);function h0(){return function(e){return e.lift(new BH(e))}}var BH=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,n){var r=this.connectable;r._refCount++;var i=new zH(e,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o},t}(),zH=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._unsubscribe=function(){var n=this.connectable;if(!n){this.connection=null;return}this.connectable=null;var r=n._refCount;if(r<=0){this.connection=null;return}if(n._refCount=r-1,r>1){this.connection=null;return}var i=this.connection,o=n._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(ie),IA=function(t){V(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,n=this._connection=new ut,n.add(this.source.subscribe(new HH(this.getSubject(),this))),n.closed&&(this._connection=null,n=ut.EMPTY)),n},e.prototype.refCount=function(){return h0()(this)},e}(Se),WH=function(){var t=IA.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),HH=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._error=function(n){this._unsubscribe(),t.prototype._error.call(this,n)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},e}(TA);function qH(t,e,n,r){return function(i){return i.lift(new KH(t,e,n,r))}}var KH=function(){function t(e,n,r,i){this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return t.prototype.call=function(e,n){return n.subscribe(new GH(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),GH=function(t){V(e,t);function e(n,r,i,o,s){var a=t.call(this,n)||this;return a.keySelector=r,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(n){var r;try{r=this.keySelector(n)}catch(i){this.error(i);return}this._group(n,r)},e.prototype._group=function(n,r){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(r),s;if(this.elementSelector)try{s=this.elementSelector(n)}catch(l){this.error(l)}else s=n;if(!o){o=this.subjectSelector?this.subjectSelector():new $t,i.set(r,o);var a=new bv(r,o,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new bv(r,o))}catch(l){this.error(l);return}this.add(u.subscribe(new QH(r,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(n){var r=this.groups;r&&(r.forEach(function(i,o){i.error(n)}),r.clear()),this.destination.error(n)},e.prototype._complete=function(){var n=this.groups;n&&(n.forEach(function(r,i){r.complete()}),n.clear()),this.destination.complete()},e.prototype.removeGroup=function(n){this.groups.delete(n)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ie),QH=function(t){V(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.key=n,o.group=r,o.parent=i,o}return e.prototype._next=function(n){this.complete()},e.prototype._unsubscribe=function(){var n=this,r=n.parent,i=n.key;this.key=this.parent=null,r&&r.removeGroup(i)},e}(ie),bv=function(t){V(e,t);function e(n,r,i){var o=t.call(this)||this;return o.key=n,o.groupSubject=r,o.refCountSubscription=i,o}return e.prototype._subscribe=function(n){var r=new ut,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&r.add(new YH(o)),r.add(s.subscribe(n)),r},e}(Se),YH=function(t){V(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,n.count++,r}return e.prototype.unsubscribe=function(){var n=this.parent;!n.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),n.count-=1,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},e}(ut),xA=function(t){V(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ti;return this._value},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}($t),XH=function(t){V(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(ut),ic=function(t){V(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o=void 0;try{this.work(n)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,i=r.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},e}(XH),JH=function(t){V(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):n.flush(this)},e}(ic),_v=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(r,n)},t.now=function(){return Date.now()},t}(),oc=function(t){V(e,t);function e(n,r){r===void 0&&(r=_v.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(n,r,i){return r===void 0&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var i;this.active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(_v),ZH=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(oc),CA=new ZH(JH),RA=CA,wa=new Se(function(t){return t.complete()});function Va(t){return t?e8(t):wa}function e8(t){return new Se(function(e){return t.schedule(function(){return e.complete()})})}function On(t){return t&&typeof t.schedule=="function"}var kA=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function f0(t,e){return new Se(function(n){var r=new ut,i=0;return r.add(e.schedule(function(){if(i===t.length){n.complete();return}n.next(t[i++]),n.closed||r.add(this.schedule())})),r})}function sc(t,e){return e?f0(t,e):new Se(kA(t))}function ip(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return On(n)?(t.pop(),f0(t,n)):sc(t)}function d0(t,e){return e?new Se(function(n){return e.schedule(t8,0,{error:t,subscriber:n})}):new Se(function(n){return n.error(t)})}function t8(t){var e=t.error,n=t.subscriber;n.error(e)}var Ev;Ev||(Ev={});var Qr=function(){function t(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,n,r){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},t.prototype.accept=function(e,n,r){return e&&typeof e.next=="function"?this.observe(e):this.do(e,n,r)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ip(this.value);case"E":return d0(this.error);case"C":return Va()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function n8(t,e){return e===void 0&&(e=0),function(r){return r.lift(new r8(t,e))}}var r8=function(){function t(e,n){n===void 0&&(n=0),this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return n.subscribe(new AA(e,this.scheduler,this.delay))},t}(),AA=function(t){V(e,t);function e(n,r,i){i===void 0&&(i=0);var o=t.call(this,n)||this;return o.scheduler=r,o.delay=i,o}return e.dispatch=function(n){var r=n.notification,i=n.destination;r.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(n){var r=this.destination;r.add(this.scheduler.schedule(e.dispatch,this.delay,new i8(n,this.destination)))},e.prototype._next=function(n){this.scheduleMessage(Qr.createNext(n))},e.prototype._error=function(n){this.scheduleMessage(Qr.createError(n)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Qr.createComplete()),this.unsubscribe()},e}(ie),i8=function(){function t(e,n){this.notification=e,this.destination=n}return t}(),p0=function(t){V(e,t);function e(n,r,i){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=n<1?1:n,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,n)},e.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new o8(this._getNow(),n)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new Ti;if(this.isStopped||this.hasError?a=ut.EMPTY:(this.observers.push(n),a=new EA(this,n)),o&&n.add(n=new AA(n,o)),r)for(var u=0;u<s&&!n.closed;u++)n.next(i[u]);else for(var u=0;u<s&&!n.closed;u++)n.next(i[u].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),a},e.prototype._getNow=function(){return(this.scheduler||RA).now()},e.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(n-o[a].time<i);)a++;return s>r&&(a=Math.max(a,s-r)),a>0&&o.splice(0,a),o},e}($t),o8=function(){function t(e,n){this.time=e,this.value=n}return t}(),Fa=function(t){V(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return e.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),ut.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),ut.EMPTY):t.prototype._subscribe.call(this,n)},e.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},e.prototype.error=function(n){this.hasCompleted||t.prototype.error.call(this,n)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}($t),s8=1,a8=function(){return Promise.resolve()}(),Tv={};function lE(t){return t in Tv?(delete Tv[t],!0):!1}var cE={setImmediate:function(t){var e=s8++;return Tv[e]=!0,a8.then(function(){return lE(e)&&t()}),e},clearImmediate:function(t){lE(t)}},u8=function(t){V(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=cE.setImmediate(n.flush.bind(n,null))))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(cE.clearImmediate(r),n.scheduled=void 0)},e}(ic),l8=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,s=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++o<s&&(n=r.shift()));if(this.active=!1,i){for(;++o<s&&(n=r.shift());)n.unsubscribe();throw i}},e}(oc),NA=new l8(u8),gh=NA,OA=new oc(ic),fn=OA,c8=function(t){V(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(cancelAnimationFrame(r),n.scheduled=void 0)},e}(ic),h8=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,s=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++o<s&&(n=r.shift()));if(this.active=!1,i){for(;++o<s&&(n=r.shift());)n.unsubscribe();throw i}},e}(oc),DA=new h8(c8),f8=DA,d8=function(t){V(e,t);function e(n,r){n===void 0&&(n=PA),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,n,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var n=this,r=n.actions,i=n.maxFrames,o,s;(s=r[0])&&s.delay<=i&&(r.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=r.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(oc),PA=function(t){V(e,t);function e(n,r,i){i===void 0&&(i=n.index+=1);var o=t.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.index=i,o.active=!0,o.index=n.index=i,o}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(n,r,i){i===void 0&&(i=0),this.delay=n.frame+i;var o=n.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(n,r,i){},e.prototype._execute=function(n,r){if(this.active===!0)return t.prototype._execute.call(this,n,r)},e.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},e}(ic);function yr(){}function p8(t){return!!t&&(t instanceof Se||typeof t.lift=="function"&&typeof t.subscribe=="function")}var m8=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Sa=m8,g8=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ac=g8,v8=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),LA=v8;function Yn(t,e){return function(r){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new y8(t,e))}}var y8=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new w8(e,this.project,this.thisArg))},t}(),w8=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.project=r,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(ie);function MA(t,e,n){if(e)if(On(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return MA(t,n).apply(void 0,r).pipe(Yn(function(o){return hn(o)?e.apply(void 0,o):e(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:t,scheduler:n};return new Se(function(u){if(n){var c={args:r,subscriber:u,params:a};return n.schedule(S8,0,c)}else{if(!s){s=new Fa;var l=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];s.next(h.length<=1?h[0]:h),s.complete()};try{t.apply(o,r.concat([l]))}catch(h){c0(s)?s.error(h):console.warn(h)}}return s.subscribe(u)}})}}function S8(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new Fa;var l=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var f=c.length<=1?c[0]:c;e.add(a.schedule(b8,0,{value:f,subject:u}))};try{o.apply(s,n.concat([l]))}catch(c){u.error(c)}}this.add(u.subscribe(r))}function b8(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function $A(t,e,n){if(e)if(On(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return $A(t,n).apply(void 0,r).pipe(Yn(function(o){return hn(o)?e.apply(void 0,o):e(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={subject:void 0,args:r,callbackFunc:t,scheduler:n,context:this};return new Se(function(s){var a=o.context,u=o.subject;if(n)return n.schedule(_8,0,{params:o,subscriber:s,context:a});if(!u){u=o.subject=new Fa;var l=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var f=c.shift();if(f){u.error(f);return}u.next(c.length<=1?c[0]:c),u.complete()};try{t.apply(a,r.concat([l]))}catch(c){c0(u)?u.error(c):console.warn(c)}}return u.subscribe(s)})}}function _8(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,a=n.scheduler,u=n.subject;if(!u){u=n.subject=new Fa;var l=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var f=c.shift();if(f)e.add(a.schedule(hE,0,{err:f,subject:u}));else{var m=c.length<=1?c[0]:c;e.add(a.schedule(E8,0,{value:m,subject:u}))}};try{o.apply(i,s.concat([l]))}catch(c){this.add(a.schedule(hE,0,{err:c,subject:u}))}}this.add(u.subscribe(r))}function E8(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function hE(t){var e=t.err,n=t.subject;n.error(e)}var ts=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n,r,i,o,s){this.destination.next(r)},e.prototype.notifyError=function(n,r){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(ie),T8=function(t){V(e,t);function e(n,r,i){var o=t.call(this)||this;return o.parent=n,o.outerValue=r,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ie),I8=function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,As),e}};function x8(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qi=x8(),C8=function(t){return function(e){var n=t[qi]();do{var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}while(!0);return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}},R8=function(t){return function(e){var n=t[ja]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},jA=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function VA(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var wl=function(t){if(t&&typeof t[ja]=="function")return R8(t);if(jA(t))return kA(t);if(VA(t))return I8(t);if(t&&typeof t[qi]=="function")return C8(t);var e=l0(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function oi(t,e,n,r,i){if(i===void 0&&(i=new T8(t,n,r)),!i.closed)return e instanceof Se?e.subscribe(i):wl(e)(i)}var fE={};function k8(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return On(t[t.length-1])&&(r=t.pop()),typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&hn(t[0])&&(t=t[0]),sc(t,r).lift(new m0(n))}var m0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new A8(e,this.resultSelector))},t}(),A8=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(n){this.values.push(fE),this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{this.active=r,this.toRespond=r;for(var i=0;i<r;i++){var o=n[i];this.add(oi(this,o,void 0,i))}}},e.prototype.notifyComplete=function(n){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(n,r,i){var o=this.values,s=o[i],a=this.toRespond?s===fE?--this.toRespond:this.toRespond:0;o[i]=r,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(ts);function N8(t,e){return new Se(function(n){var r=new ut;return r.add(e.schedule(function(){var i=t[ja]();r.add(i.subscribe({next:function(o){r.add(e.schedule(function(){return n.next(o)}))},error:function(o){r.add(e.schedule(function(){return n.error(o)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}function O8(t,e){return new Se(function(n){var r=new ut;return r.add(e.schedule(function(){return t.then(function(i){r.add(e.schedule(function(){n.next(i),r.add(e.schedule(function(){return n.complete()}))}))},function(i){r.add(e.schedule(function(){return n.error(i)}))})})),r})}function D8(t,e){if(!t)throw new Error("Iterable cannot be null");return new Se(function(n){var r=new ut,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(e.schedule(function(){i=t[qi](),r.add(e.schedule(function(){if(!n.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(u){n.error(u);return}s?n.complete():(n.next(o),this.schedule())}}))})),r})}function P8(t){return t&&typeof t[ja]=="function"}function L8(t){return t&&typeof t[qi]=="function"}function FA(t,e){if(t!=null){if(P8(t))return N8(t,e);if(VA(t))return O8(t,e);if(jA(t))return f0(t,e);if(L8(t)||typeof t=="string")return D8(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function li(t,e){return e?FA(t,e):t instanceof Se?t:new Se(wl(t))}var ft=function(t){V(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,r}return e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ie),dt=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ie);function pt(t,e){if(!e.closed){if(t instanceof Se)return t.subscribe(e);var n;try{n=wl(t)(e)}catch(r){e.error(r)}return n}}function Vo(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(r){return r.pipe(Vo(function(i,o){return li(t(i,o)).pipe(Yn(function(s,a){return e(i,s,o,a)}))},n))}:(typeof e=="number"&&(n=e),function(r){return r.lift(new M8(t,n))})}var M8=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new $8(e,this.project,this.concurrent))},t}(),$8=function(t){V(e,t);function e(n,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,n)||this;return o.project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new ft(this),i=this.destination;i.add(r);var o=pt(n,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(dt),j8=Vo;function g0(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Vo(Hi,t)}function UA(){return g0(1)}function Sl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return UA()(ip.apply(void 0,t))}function v0(t){return new Se(function(e){var n;try{n=t()}catch(i){e.error(i);return}var r=n?li(n):Va();return r.subscribe(e)})}function V8(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var n=t[0];if(hn(n))return Bc(n,null);if(l0(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Bc(r.map(function(o){return n[o]}),r)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&hn(t[0])?t[0]:t,Bc(t,null).pipe(Yn(function(o){return i.apply(void 0,o)}))}return Bc(t,null)}function Bc(t,e){return new Se(function(n){var r=t.length;if(r===0){n.complete();return}for(var i=new Array(r),o=0,s=0,a=function(l){var c=li(t[l]),h=!1;n.add(c.subscribe({next:function(f){h||(h=!0,s++),i[l]=f},error:function(f){return n.error(f)},complete:function(){o++,(o===r||!h)&&(s===r&&n.next(e?e.reduce(function(f,m,g){return f[m]=i[g],f},{}):i),n.complete())}}))},u=0;u<r;u++)a(u)})}function BA(t,e,n,r){return ya(n)&&(r=n,n=void 0),r?BA(t,e,n).pipe(Yn(function(i){return hn(i)?r.apply(void 0,i):r(i)})):new Se(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}zA(t,e,o,i,n)})}function zA(t,e,n,r,i){var o;if(B8(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(U8(t)){var a=t;t.on(e,n),o=function(){return a.off(e,n)}}else if(F8(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else if(t&&t.length)for(var l=0,c=t.length;l<c;l++)zA(t[l],e,n,r,i);else throw new TypeError("Invalid event target");r.add(o)}function F8(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function U8(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function B8(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function WA(t,e,n){return n?WA(t,e).pipe(Yn(function(r){return hn(r)?n.apply(void 0,r):n(r)})):new Se(function(r){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.next(s.length===1?s[0]:s)},o;try{o=t(i)}catch(s){r.error(s);return}if(ya(e))return function(){return e(i,o)}})}function z8(t,e,n,r,i){var o,s;if(arguments.length==1){var a=t;s=a.initialState,e=a.condition,n=a.iterate,o=a.resultSelector||Hi,i=a.scheduler}else r===void 0||On(r)?(s=t,o=Hi,i=r):(s=t,o=r);return new Se(function(u){var l=s;if(i)return i.schedule(W8,0,{subscriber:u,iterate:n,condition:e,resultSelector:o,state:l});do{if(e){var c=void 0;try{c=e(l)}catch(f){u.error(f);return}if(!c){u.complete();break}}var h=void 0;try{h=o(l)}catch(f){u.error(f);return}if(u.next(h),u.closed)break;try{l=n(l)}catch(f){u.error(f);return}}while(!0)})}function W8(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){e.error(o);return}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(o){e.error(o);return}if(!r){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function H8(t,e,n){return e===void 0&&(e=wa),n===void 0&&(n=wa),v0(function(){return t()?e:n})}function ba(t){return!hn(t)&&t-parseFloat(t)+1>=0}function q8(t,e){return t===void 0&&(t=0),e===void 0&&(e=fn),(!ba(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=fn),new Se(function(n){return n.add(e.schedule(K8,t,{subscriber:n,counter:0,period:t})),n})}function K8(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function HA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return On(i)?(r=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(n=t.pop())):typeof i=="number"&&(n=t.pop()),r===null&&t.length===1&&t[0]instanceof Se?t[0]:g0(n)(sc(t,r))}var qA=new Se(yr);function G8(){return qA}function Iv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return wa;var n=t[0],r=t.slice(1);return t.length===1&&hn(n)?Iv.apply(void 0,n):new Se(function(i){var o=function(){return i.add(Iv.apply(void 0,r).subscribe(i))};return li(n).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function Q8(t,e){return e?new Se(function(n){var r=Object.keys(t),i=new ut;return i.add(e.schedule(Y8,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}):new Se(function(n){for(var r=Object.keys(t),i=0;i<r.length&&!n.closed;i++){var o=r[i];t.hasOwnProperty(o)&&n.next([o,t[o]])}n.complete()})}function Y8(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function KA(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function Ki(t,e){return function(r){return r.lift(new X8(t,e))}}var X8=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new J8(e,this.predicate,this.thisArg))},t}(),J8=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.predicate=r,o.thisArg=i,o.count=0,o}return e.prototype._next=function(n){var r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(n)},e}(ie);function Z8(t,e,n){return[Ki(e,n)(new Se(wl(t))),Ki(KA(e,n))(new Se(wl(t)))]}function GA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(hn(t[0]))t=t[0];else return t[0];return sc(t,void 0).lift(new eq)}var eq=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new tq(e))},t}(),tq=function(t){V(e,t);function e(n){var r=t.call(this,n)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return e.prototype._next=function(n){this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{for(var i=0;i<r&&!this.hasFirst;i++){var o=n[i],s=oi(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(r)},e}(ts);function nq(t,e,n){return t===void 0&&(t=0),new Se(function(r){e===void 0&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(rq,0,{index:i,count:e,start:t,subscriber:r});do{if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}while(!0)})}function rq(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;if(n>=r){i.complete();return}i.next(e),!i.closed&&(t.index=n+1,t.start=e+1,this.schedule(t))}function QA(t,e,n){t===void 0&&(t=0);var r=-1;return ba(e)?r=Number(e)<1&&1||Number(e):On(e)&&(n=e),On(n)||(n=fn),new Se(function(i){var o=ba(t)?t:+t-n.now();return n.schedule(iq,o,{index:0,period:r,subscriber:i})})}function iq(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(n===-1)return r.complete();t.index=e+1,this.schedule(t,n)}}function oq(t,e){return new Se(function(n){var r;try{r=t()}catch(a){n.error(a);return}var i;try{i=e(r)}catch(a){n.error(a);return}var o=i?li(i):wa,s=o.subscribe(n);return function(){s.unsubscribe(),r&&r.unsubscribe()}})}function YA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return typeof n=="function"&&t.pop(),sc(t,void 0).lift(new XA(n))}var XA=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new sq(e,this.resultSelector))},t}(),sq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.resultSelector=r,o.iterators=[],o.active=0,o.resultSelector=typeof r=="function"?r:void 0,o}return e.prototype._next=function(n){var r=this.iterators;hn(n)?r.push(new uq(n)):typeof n[qi]=="function"?r.push(new aq(n[qi]())):r.push(new lq(this.destination,this,n))},e.prototype._complete=function(){var n=this.iterators,r=n.length;if(this.unsubscribe(),r===0){this.destination.complete();return}this.active=r;for(var i=0;i<r;i++){var o=n[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var n=this.iterators,r=n.length,i=this.destination,o=0;o<r;o++){var s=n[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,u=[],o=0;o<r;o++){var s=n[o],l=s.next();if(s.hasCompleted()&&(a=!0),l.done){i.complete();return}u.push(l.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(ie),aq=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),uq=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[qi]=function(){return this},t.prototype.next=function(e){var n=this.index++,r=this.array;return n<this.length?{value:r[n],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),lq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[qi]=function(){return this},e.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},e.prototype.subscribe=function(){return pt(this.observable,new ft(this))},e}(dt);const cq=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:Sa,AsyncSubject:Fa,BehaviorSubject:xA,ConnectableObservable:IA,EMPTY:wa,EmptyError:ac,GroupedObservable:bv,NEVER:qA,Notification:Qr,get NotificationKind(){return Ev},ObjectUnsubscribedError:Ti,Observable:Se,ReplaySubject:p0,Scheduler:_v,Subject:$t,Subscriber:ie,Subscription:ut,TimeoutError:LA,UnsubscriptionError:ju,VirtualAction:PA,VirtualTimeScheduler:d8,animationFrame:f8,animationFrameScheduler:DA,asap:gh,asapScheduler:NA,async:fn,asyncScheduler:OA,bindCallback:MA,bindNodeCallback:$A,combineLatest:k8,concat:Sl,config:Fn,defer:v0,empty:Va,forkJoin:V8,from:li,fromEvent:BA,fromEventPattern:WA,generate:z8,identity:Hi,iif:H8,interval:q8,isObservable:p8,merge:HA,never:G8,noop:yr,observable:ja,of:ip,onErrorResumeNext:Iv,pairs:Q8,partition:Z8,pipe:Sv,queue:RA,queueScheduler:CA,race:GA,range:nq,scheduled:FA,throwError:d0,timer:QA,using:oq,zip:YA},Symbol.toStringTag,{value:"Module"})),y0=TE(cq);function JA(t){return function(n){return n.lift(new hq(t))}}var hq=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new fq(e,this.durationSelector))},t}(),fq=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){if(this.value=n,this.hasValue=!0,!this.throttled){var r=void 0;try{var i=this.durationSelector;r=i(n)}catch(s){return this.destination.error(s)}var o=pt(r,new ft(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var n=this,r=n.value,i=n.hasValue,o=n.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(dt);function dq(t,e){return e===void 0&&(e=fn),JA(function(){return QA(t,e)})}function pq(t){return function(n){return n.lift(new mq(t))}}var mq=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,n){return n.subscribe(new gq(e,this.closingNotifier))},t}(),gq=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.buffer=[],i.add(pt(r,new ft(i))),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype.notifyNext=function(){var n=this.buffer;this.buffer=[],this.destination.next(n)},e}(dt);function vq(t,e){return e===void 0&&(e=null),function(r){return r.lift(new yq(t,e))}}var yq=function(){function t(e,n){this.bufferSize=e,this.startBufferEvery=n,!n||e===n?this.subscriberClass=wq:this.subscriberClass=Sq}return t.prototype.call=function(e,n){return n.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),wq=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.bufferSize=r,i.buffer=[],i}return e.prototype._next=function(n){var r=this.buffer;r.push(n),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},e.prototype._complete=function(){var n=this.buffer;n.length>0&&this.destination.next(n),t.prototype._complete.call(this)},e}(ie),Sq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.bufferSize=r,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(n){var r=this,i=r.bufferSize,o=r.startBufferEvery,s=r.buffers,a=r.count;this.count++,a%o===0&&s.push([]);for(var u=s.length;u--;){var l=s[u];l.push(n),l.length===i&&(s.splice(u,1),this.destination.next(l))}},e.prototype._complete=function(){for(var n=this,r=n.buffers,i=n.destination;r.length>0;){var o=r.shift();o.length>0&&i.next(o)}t.prototype._complete.call(this)},e}(ie);function bq(t){var e=arguments.length,n=fn;On(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new _q(t,r,i,n))}}var _q=function(){function t(e,n,r,i){this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new Tq(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Eq=function(){function t(){this.buffer=[]}return t}(),Tq=function(t){V(e,t);function e(n,r,i,o,s){var a=t.call(this,n)||this;a.bufferTimeSpan=r,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:u,bufferTimeSpan:r};a.add(u.closeAction=s.schedule(dE,r,l))}else{var c={subscriber:a,context:u},h={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(u.closeAction=s.schedule(ZA,r,c)),a.add(s.schedule(Iq,i,h))}return a}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,o,s=0;s<i;s++){var a=r[s],u=a.buffer;u.push(n),u.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(n){this.contexts.length=0,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this,r=n.contexts,i=n.destination;r.length>0;){var o=r.shift();i.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(n){this.closeContext(n);var r=n.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){n=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:n,bufferTimeSpan:i};this.add(n.closeAction=this.scheduler.schedule(dE,i,o))}},e.prototype.openContext=function(){var n=new Eq;return this.contexts.push(n),n},e.prototype.closeContext=function(n){this.destination.next(n.buffer);var r=this.contexts,i=r?r.indexOf(n):-1;i>=0&&r.splice(r.indexOf(n),1)},e}(ie);function dE(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Iq(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext(),s=this;r.closed||(r.add(o.closeAction=i.schedule(ZA,n,{subscriber:r,context:o})),s.schedule(t,e))}function ZA(t){var e=t.subscriber,n=t.context;e.closeContext(n)}function xq(t,e){return function(r){return r.lift(new Cq(t,e))}}var Cq=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new Rq(e,this.openings,this.closingSelector))},t}(),Rq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.closingSelector=i,o.contexts=[],o.add(oi(o,r)),o}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,o=0;o<i;o++)r[o].buffer.push(n)},e.prototype._error=function(n){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this.contexts;n.length>0;){var r=n.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(n,r){n?this.closeBuffer(n):this.openBuffer(r)},e.prototype.notifyComplete=function(n){this.closeBuffer(n.context)},e.prototype.openBuffer=function(n){try{var r=this.closingSelector,i=r.call(this,n);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(n){var r=this.contexts;if(r&&n){var i=n.buffer,o=n.subscription;this.destination.next(i),r.splice(r.indexOf(n),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(n){var r=this.contexts,i=[],o=new ut,s={buffer:i,subscription:o};r.push(s);var a=oi(this,n,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(ts);function kq(t){return function(e){return e.lift(new Aq(t))}}var Aq=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Nq(e,this.closingSelector))},t}(),Nq=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype._complete=function(){var n=this.buffer;n&&this.destination.next(n),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var n=this.closingSubscription;n&&(this.remove(n),n.unsubscribe());var r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}n=new ut,this.closingSubscription=n,this.add(n),this.subscribing=!0,n.add(pt(i,new ft(this))),this.subscribing=!1},e}(dt);function Oq(t){return function(n){var r=new Dq(t),i=n.lift(r);return r.caught=i}}var Dq=function(){function t(e){this.selector=e}return t.prototype.call=function(e,n){return n.subscribe(new Pq(e,this.selector,this.caught))},t}(),Pq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.selector=r,o.caught=i,o}return e.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(s){t.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new ft(this);this.add(i);var o=pt(r,i);o!==i&&this.add(o)}},e}(dt);function Lq(t){return function(e){return e.lift(new m0(t))}}function Mq(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&hn(t[0])&&(t=t[0].slice()),function(r){return r.lift.call(li([r].concat(t)),new m0(n))}}function $q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Sl.apply(void 0,[n].concat(t)))}}function eN(t,e){return Vo(t,e,1)}function jq(t,e){return eN(function(){return t},e)}function Vq(t){return function(e){return e.lift(new Fq(t,e))}}var Fq=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new Uq(e,this.predicate,this.source))},t}(),Uq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.predicate=r,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(n){this.predicate?this._tryPredicate(n):this.count++},e.prototype._tryPredicate=function(n){var r;try{r=this.predicate(n,this.index++,this.source)}catch(i){this.destination.error(i);return}r&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ie);function Bq(t){return function(e){return e.lift(new zq(t))}}var zq=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Wq(e,this.durationSelector))},t}(),Wq=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){try{var r=this.durationSelector.call(this,n);r&&this._tryNext(n,r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(n,r){var i=this.durationSubscription;this.value=n,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=pt(r,new ft(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var n=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,n)}},e}(dt);function Hq(t,e){return e===void 0&&(e=fn),function(n){return n.lift(new qq(t,e))}}var qq=function(){function t(e,n){this.dueTime=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new Kq(e,this.dueTime,this.scheduler))},t}(),Kq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Gq,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},e.prototype.clearDebounce=function(){var n=this.debouncedSubscription;n!==null&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},e}(ie);function Gq(t){t.debouncedNext()}function uc(t){return t===void 0&&(t=null),function(e){return e.lift(new Qq(t))}}var Qq=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,n){return n.subscribe(new Yq(e,this.defaultValue))},t}(),Yq=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.defaultValue=r,i.isEmpty=!0,i}return e.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ie);function tN(t){return t instanceof Date&&!isNaN(+t)}function Xq(t,e){e===void 0&&(e=fn);var n=tN(t),r=n?+t-e.now():Math.abs(t);return function(i){return i.lift(new Jq(r,e))}}var Jq=function(){function t(e,n){this.delay=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new Zq(e,this.delay,this.scheduler))},t}(),Zq=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(n){for(var r=n.source,i=r.queue,o=n.scheduler,s=n.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(n,a)}else this.unsubscribe(),r.active=!1},e.prototype._schedule=function(n){this.active=!0;var r=this.destination;r.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler,i=new eK(r.now()+this.delay,n);this.queue.push(i),this.active===!1&&this._schedule(r)}},e.prototype._next=function(n){this.scheduleNotification(Qr.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Qr.createComplete()),this.unsubscribe()},e}(ie),eK=function(){function t(e,n){this.time=e,this.notification=n}return t}();function tK(t,e){return e?function(n){return new rK(n,e).lift(new pE(t))}:function(n){return n.lift(new pE(t))}}var pE=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new nK(e,this.delayDurationSelector))},t}(),nK=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(n,r,i,o,s){this.destination.next(n),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(n,r){this._error(n)},e.prototype.notifyComplete=function(n){var r=this.removeSubscription(n);r&&this.destination.next(r),this.tryComplete()},e.prototype._next=function(n){var r=this.index++;try{var i=this.delayDurationSelector(n,r);i&&this.tryDelay(i,n)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(n){n.unsubscribe();var r=this.delayNotifierSubscriptions.indexOf(n);return r!==-1&&this.delayNotifierSubscriptions.splice(r,1),n.outerValue},e.prototype.tryDelay=function(n,r){var i=oi(this,n,r);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(ts),rK=function(t){V(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subscriptionDelay=r,i}return e.prototype._subscribe=function(n){this.subscriptionDelay.subscribe(new iK(n,this.source))},e}(Se),iK=function(t){V(e,t);function e(n,r){var i=t.call(this)||this;return i.parent=n,i.source=r,i.sourceSubscribed=!1,i}return e.prototype._next=function(n){this.subscribeToSource()},e.prototype._error=function(n){this.unsubscribe(),this.parent.error(n)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ie);function oK(){return function(e){return e.lift(new sK)}}var sK=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new aK(e))},t}(),aK=function(t){V(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){n.observe(this.destination)},e}(ie);function uK(t,e){return function(n){return n.lift(new lK(t,e))}}var lK=function(){function t(e,n){this.keySelector=e,this.flushes=n}return t.prototype.call=function(e,n){return n.subscribe(new cK(e,this.keySelector,this.flushes))},t}(),cK=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.keySelector=r,o.values=new Set,i&&o.add(pt(i,new ft(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(n){this._error(n)},e.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},e.prototype._useKeySelector=function(n){var r,i=this.destination;try{r=this.keySelector(n)}catch(o){i.error(o);return}this._finalizeNext(r,n)},e.prototype._finalizeNext=function(n,r){var i=this.values;i.has(n)||(i.add(n),this.destination.next(r))},e}(dt);function nN(t,e){return function(n){return n.lift(new hK(t,e))}}var hK=function(){function t(e,n){this.compare=e,this.keySelector=n}return t.prototype.call=function(e,n){return n.subscribe(new fK(e,this.compare,this.keySelector))},t}(),fK=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.keySelector=i,o.hasKey=!1,typeof r=="function"&&(o.compare=r),o}return e.prototype.compare=function(n,r){return n===r},e.prototype._next=function(n){var r;try{var i=this.keySelector;r=i?i(n):n}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=r,this.destination.next(n))},e}(ie);function dK(t,e){return nN(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}function op(t){return t===void 0&&(t=gK),function(e){return e.lift(new pK(t))}}var pK=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,n){return n.subscribe(new mK(e,this.errorFactory))},t}(),mK=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.errorFactory=r,i.hasValue=!1,i}return e.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)},e}(ie);function gK(){return new ac}function w0(t){return function(e){return t===0?Va():e.lift(new vK(t))}}var vK=function(){function t(e){if(this.total=e,this.total<0)throw new Sa}return t.prototype.call=function(e,n){return n.subscribe(new yK(e,this.total))},t}(),yK=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){var r=this.total,i=++this.count;i<=r&&(this.destination.next(n),i===r&&(this.destination.complete(),this.unsubscribe()))},e}(ie);function wK(t,e){if(t<0)throw new Sa;var n=arguments.length>=2;return function(r){return r.pipe(Ki(function(i,o){return o===t}),w0(1),n?uc(e):op(function(){return new Sa}))}}function SK(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return Sl(n,ip.apply(void 0,t))}}function bK(t,e){return function(n){return n.lift(new _K(t,e,n))}}var _K=function(){function t(e,n,r){this.predicate=e,this.thisArg=n,this.source=r}return t.prototype.call=function(e,n){return n.subscribe(new EK(e,this.predicate,this.thisArg,this.source))},t}(),EK=function(t){V(e,t);function e(n,r,i,o){var s=t.call(this,n)||this;return s.predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(n){this.destination.next(n),this.destination.complete()},e.prototype._next=function(n){var r=!1;try{r=this.predicate.call(this.thisArg,n,this.index++,this.source)}catch(i){this.destination.error(i);return}r||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ie);function TK(){return function(t){return t.lift(new IK)}}var IK=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new xK(e))},t}(),xK=function(t){V(e,t);function e(n){var r=t.call(this,n)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return e.prototype._next=function(n){this.hasSubscription||(this.hasSubscription=!0,this.add(pt(n,new ft(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(dt);function rN(t,e){return e?function(n){return n.pipe(rN(function(r,i){return li(t(r,i)).pipe(Yn(function(o,s){return e(r,o,i,s)}))}))}:function(n){return n.lift(new CK(t))}}var CK=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new RK(e,this.project))},t}(),RK=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(n){this.hasSubscription||this.tryNext(n)},e.prototype.tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new ft(this),i=this.destination;i.add(r);var o=pt(n,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(dt);function kK(t,e,n){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new AK(t,e,n))}}var AK=function(){function t(e,n,r){this.project=e,this.concurrent=n,this.scheduler=r}return t.prototype.call=function(e,n){return n.subscribe(new NK(e,this.project,this.concurrent,this.scheduler))},t}(),NK=function(t){V(e,t);function e(n,r,i,o){var s=t.call(this,n)||this;return s.project=r,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(n){var r=n.subscriber,i=n.result,o=n.value,s=n.index;r.subscribeToProjection(i,o,s)},e.prototype._next=function(n){var r=this.destination;if(r.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){r.next(n);try{var o=this.project,s=o(n,i);if(!this.scheduler)this.subscribeToProjection(s,n,i);else{var a={subscriber:this,result:s,value:n,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){r.error(l)}}else this.buffer.push(n)},e.prototype.subscribeToProjection=function(n,r,i){this.active++;var o=this.destination;o.add(pt(n,new ft(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this._next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n&&n.length>0&&this._next(n.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(dt);function OK(t){return function(e){return e.lift(new DK(t))}}var DK=function(){function t(e){this.callback=e}return t.prototype.call=function(e,n){return n.subscribe(new PK(e,this.callback))},t}(),PK=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.add(new ut(r)),i}return e}(ie);function LK(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(n){return n.lift(new iN(t,n,!1,e))}}var iN=function(){function t(e,n,r,i){this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(e,n){return n.subscribe(new MK(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),MK=function(t){V(e,t);function e(n,r,i,o,s){var a=t.call(this,n)||this;return a.predicate=r,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete(),this.unsubscribe()},e.prototype._next=function(n){var r=this,i=r.predicate,o=r.thisArg,s=this.index++;try{var a=i.call(o||this,n,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:n)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ie);function $K(t,e){return function(n){return n.lift(new iN(t,n,!0,e))}}function jK(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ki(function(i,o){return t(i,o,r)}):Hi,w0(1),n?uc(e):op(function(){return new ac}))}}function VK(){return function(e){return e.lift(new FK)}}var FK=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new UK(e))},t}(),UK=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(n){},e}(ie);function BK(){return function(t){return t.lift(new zK)}}var zK=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new WK(e))},t}(),WK=function(t){V(e,t);function e(n){return t.call(this,n)||this}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype._next=function(n){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ie);function xf(t){return function(n){return t===0?Va():n.lift(new HK(t))}}var HK=function(){function t(e){if(this.total=e,this.total<0)throw new Sa}return t.prototype.call=function(e,n){return n.subscribe(new qK(e,this.total))},t}(),qK=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.ring=new Array,i.count=0,i}return e.prototype._next=function(n){var r=this.ring,i=this.total,o=this.count++;if(r.length<i)r.push(n);else{var s=o%i;r[s]=n}},e.prototype._complete=function(){var n=this.destination,r=this.count;if(r>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=r++%i;n.next(o[a])}n.complete()},e}(ie);function KK(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ki(function(i,o){return t(i,o,r)}):Hi,xf(1),n?uc(e):op(function(){return new ac}))}}function GK(t){return function(e){return e.lift(new QK(t))}}var QK=function(){function t(e){this.value=e}return t.prototype.call=function(e,n){return n.subscribe(new YK(e,this.value))},t}(),YK=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype._next=function(n){this.destination.next(this.value)},e}(ie);function XK(){return function(e){return e.lift(new JK)}}var JK=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new ZK(e))},t}(),ZK=function(t){V(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){this.destination.next(Qr.createNext(n))},e.prototype._error=function(n){var r=this.destination;r.next(Qr.createError(n)),r.complete()},e.prototype._complete=function(){var n=this.destination;n.next(Qr.createComplete()),n.complete()},e}(ie);function Cf(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new eG(t,e,n))}}var eG=function(){function t(e,n,r){r===void 0&&(r=!1),this.accumulator=e,this.seed=n,this.hasSeed=r}return t.prototype.call=function(e,n){return n.subscribe(new tG(e,this.accumulator,this.seed,this.hasSeed))},t}(),tG=function(t){V(e,t);function e(n,r,i,o){var s=t.call(this,n)||this;return s.accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(!this.hasSeed)this.seed=n,this.destination.next(n);else return this._tryNext(n)},e.prototype._tryNext=function(n){var r=this.index++,i;try{i=this.accumulator(this.seed,n,r)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(ie);function sp(t,e){return arguments.length>=2?function(r){return Sv(Cf(t,e),xf(1),uc(e))(r)}:function(r){return Sv(Cf(function(i,o,s){return t(i,o,s+1)}),xf(1))(r)}}function nG(t){var e=typeof t=="function"?function(n,r){return t(n,r)>0?n:r}:function(n,r){return n>r?n:r};return sp(e)}function rG(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(HA.apply(void 0,[n].concat(t)))}}function iG(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?Vo(function(){return t},e,n):(typeof e=="number"&&(n=e),Vo(function(){return t},n))}function oG(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new sG(t,e,n))}}var sG=function(){function t(e,n,r){this.accumulator=e,this.seed=n,this.concurrent=r}return t.prototype.call=function(e,n){return n.subscribe(new aG(e,this.accumulator,this.seed,this.concurrent))},t}(),aG=function(t){V(e,t);function e(n,r,i,o){var s=t.call(this,n)||this;return s.accumulator=r,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(n){if(this.active<this.concurrent){var r=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,n,r)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(n)},e.prototype._innerSub=function(n){var r=new ft(this),i=this.destination;i.add(r);var o=pt(n,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(n){var r=this.destination;this.acc=n,this.hasValue=!0,r.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(dt);function uG(t){var e=typeof t=="function"?function(n,r){return t(n,r)<0?n:r}:function(n,r){return n<r?n:r};return sp(e)}function Fo(t,e){return function(r){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return r.lift(new lG(i,e));var o=Object.create(r,WH);return o.source=r,o.subjectFactory=i,o}}var lG=function(){function t(e,n){this.subjectFactory=e,this.selector=n}return t.prototype.call=function(e,n){var r=this.selector,i=this.subjectFactory(),o=r(i).subscribe(e);return o.add(n.subscribe(i)),o},t}();function cG(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&hn(t[0])&&(t=t[0]),function(n){return n.lift(new hG(t))}}var hG=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,n){return n.subscribe(new fG(e,this.nextSources))},t}(),fG=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.nextSources=r,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(n){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var n=this.nextSources.shift();if(n){var r=new ft(this),i=this.destination;i.add(r);var o=pt(n,r);o!==r&&i.add(o)}else this.destination.complete()},e}(dt);function dG(){return function(t){return t.lift(new pG)}}var pG=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new mG(e))},t}(),mG=function(t){V(e,t);function e(n){var r=t.call(this,n)||this;return r.hasPrev=!1,r}return e.prototype._next=function(n){var r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)},e}(ie);function gG(t,e){return function(n){return[Ki(t,e)(n),Ki(KA(t,e))(n)]}}function vG(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(n===0)throw new Error("list of properties cannot be empty.");return function(r){return Yn(yG(t,n))(r)}}function yG(t,e){var n=function(r){for(var i=r,o=0;o<e;o++){var s=i!=null?i[t[o]]:void 0;if(s!==void 0)i=s;else return}return i};return n}function wG(t){return t?Fo(function(){return new $t},t):Fo(new $t)}function SG(t){return function(e){return Fo(new xA(t))(e)}}function bG(){return function(t){return Fo(new Fa)(t)}}function _G(t,e,n,r){n&&typeof n!="function"&&(r=n);var i=typeof n=="function"?n:void 0,o=new p0(t,e,r);return function(s){return Fo(function(){return o},i)(s)}}function EG(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return t.length===1&&hn(t[0])&&(t=t[0]),r.lift.call(GA.apply(void 0,[r].concat(t)))}}function TG(t){return t===void 0&&(t=-1),function(e){return t===0?Va():t<0?e.lift(new mE(-1,e)):e.lift(new mE(t-1,e))}}var mE=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new IG(e,this.count,this.source))},t}(),IG=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.count=r,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(ie);function xG(t){return function(e){return e.lift(new CG(t))}}var CG=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new RG(e,this.notifier,n))},t}(),RG=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.notifier=r,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var n=this,r=n.notifications,i=n.retriesSubscription;r&&(r.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var n=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=n,this},e.prototype.subscribeToRetries=function(){this.notifications=new $t;var n;try{var r=this.notifier;n=r(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=n,this.retriesSubscription=pt(n,new ft(this))},e}(dt);function kG(t){return t===void 0&&(t=-1),function(e){return e.lift(new AG(t,e))}}var AG=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new NG(e,this.count,this.source))},t}(),NG=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.count=r,o.source=i,o}return e.prototype.error=function(n){if(!this.isStopped){var r=this,i=r.source,o=r.count;if(o===0)return t.prototype.error.call(this,n);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ie);function OG(t){return function(e){return e.lift(new DG(t,e))}}var DG=function(){function t(e,n){this.notifier=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new PG(e,this.notifier,this.source))},t}(),PG=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.notifier=r,o.source=i,o}return e.prototype.error=function(n){if(!this.isStopped){var r=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{r=new $t;try{var s=this.notifier;i=s(r)}catch(a){return t.prototype.error.call(this,a)}o=pt(i,new ft(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=o,r.next(n)}},e.prototype._unsubscribe=function(){var n=this,r=n.errors,i=n.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},e}(dt);function LG(t){return function(e){return e.lift(new MG(t))}}var MG=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new $G(e),i=n.subscribe(r);return i.add(pt(this.notifier,new ft(r))),i},t}(),$G=function(t){V(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hasValue=!1,n}return e.prototype._next=function(n){this.value=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(dt);function jG(t,e){return e===void 0&&(e=fn),function(n){return n.lift(new VG(t,e))}}var VG=function(){function t(e,n){this.period=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new FG(e,this.period,this.scheduler))},t}(),FG=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.period=r,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(UG,r,{subscriber:o,period:r})),o}return e.prototype._next=function(n){this.lastValue=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ie);function UG(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function BG(t,e){return function(n){return n.lift(new zG(t,e))}}var zG=function(){function t(e,n){this.compareTo=e,this.comparator=n}return t.prototype.call=function(e,n){return n.subscribe(new WG(e,this.compareTo,this.comparator))},t}(),WG=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.compareTo=r,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(r.subscribe(new HG(n,o))),o}return e.prototype._next=function(n){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(n),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var n=this,r=n._a,i=n._b,o=n.comparator;r.length>0&&i.length>0;){var s=r.shift(),a=i.shift(),u=!1;try{u=o?o(s,a):s===a}catch(l){this.destination.error(l)}u||this.emit(!1)}},e.prototype.emit=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype.nextB=function(n){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(n),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ie),HG=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.parent=r,i}return e.prototype._next=function(n){this.parent.nextB(n)},e.prototype._error=function(n){this.parent.error(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ie);function qG(){return new $t}function KG(){return function(t){return h0()(Fo(qG)(t))}}function GG(t,e,n){var r;return t&&typeof t=="object"?r=t:r={bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(i){return i.lift(QG(r))}}function QG(t){var e=t.bufferSize,n=e===void 0?Number.POSITIVE_INFINITY:e,r=t.windowTime,i=r===void 0?Number.POSITIVE_INFINITY:r,o=t.refCount,s=t.scheduler,a,u=0,l,c=!1,h=!1;return function(m){u++;var g;!a||c?(c=!1,a=new p0(n,i,s),g=a.subscribe(this),l=m.subscribe({next:function(w){a.next(w)},error:function(w){c=!0,a.error(w)},complete:function(){h=!0,l=void 0,a.complete()}}),h&&(l=void 0)):g=a.subscribe(this),this.add(function(){u--,g.unsubscribe(),g=void 0,l&&!h&&o&&u===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function YG(t){return function(e){return e.lift(new XG(t,e))}}var XG=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new JG(e,this.predicate,this.source))},t}(),JG=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.predicate=r,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(n){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=n)},e.prototype._next=function(n){var r=this.index++;this.predicate?this.tryNext(n,r):this.applySingleValue(n)},e.prototype.tryNext=function(n,r){try{this.predicate(n,r,this.source)&&this.applySingleValue(n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var n=this.destination;this.index>0?(n.next(this.seenValue?this.singleValue:void 0),n.complete()):n.error(new ac)},e}(ie);function ZG(t){return function(e){return e.lift(new e7(t))}}var e7=function(){function t(e){this.total=e}return t.prototype.call=function(e,n){return n.subscribe(new t7(e,this.total))},t}(),t7=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){++this.count>this.total&&this.destination.next(n)},e}(ie);function n7(t){return function(e){return e.lift(new r7(t))}}var r7=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Sa}return t.prototype.call=function(e,n){return this._skipCount===0?n.subscribe(new ie(e)):n.subscribe(new i7(e,this._skipCount))},t}(),i7=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return e.prototype._next=function(n){var r=this._skipCount,i=this._count++;if(i<r)this._ring[i]=n;else{var o=i%r,s=this._ring,a=s[o];s[o]=n,this.destination.next(a)}},e}(ie);function o7(t){return function(e){return e.lift(new s7(t))}}var s7=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new a7(e,this.notifier))},t}(),a7=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;i.hasValue=!1;var o=new ft(i);i.add(o),i.innerSubscription=o;var s=pt(r,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(n){this.hasValue&&t.prototype._next.call(this,n)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(dt);function u7(t){return function(e){return e.lift(new l7(t))}}var l7=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,n){return n.subscribe(new c7(e,this.predicate))},t}(),c7=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return e.prototype._next=function(n){var r=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||r.next(n)},e.prototype.tryCallPredicate=function(n){try{var r=this.predicate(n,this.index++);this.skipping=!!r}catch(i){this.destination.error(i)}},e}(ie);function h7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return On(n)?(t.pop(),function(r){return Sl(t,r,n)}):function(r){return Sl(t,r)}}var f7=function(t){V(e,t);function e(n,r,i){r===void 0&&(r=0),i===void 0&&(i=gh);var o=t.call(this)||this;return o.source=n,o.delayTime=r,o.scheduler=i,(!ba(r)||r<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=gh),o}return e.create=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=gh),new e(n,r,i)},e.dispatch=function(n){var r=n.source,i=n.subscriber;return this.add(r.subscribe(i))},e.prototype._subscribe=function(n){var r=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,r,{source:i,subscriber:n})},e}(Se);function d7(t,e){return e===void 0&&(e=0),function(r){return r.lift(new p7(t,e))}}var p7=function(){function t(e,n){this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return new f7(n,this.delay,this.scheduler).subscribe(e)},t}();function bl(t,e){return typeof e=="function"?function(n){return n.pipe(bl(function(r,i){return li(t(r,i)).pipe(Yn(function(o,s){return e(r,o,i,s)}))}))}:function(n){return n.lift(new m7(t))}}var m7=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new g7(e,this.project))},t}(),g7=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.index=0,i}return e.prototype._next=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(o){this.destination.error(o);return}this._innerSub(r)},e.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new ft(this),o=this.destination;o.add(i),this.innerSubscription=pt(n,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var n=this.innerSubscription;(!n||n.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(n){this.destination.next(n)},e}(dt);function v7(){return bl(Hi)}function y7(t,e){return e?bl(function(){return t},e):bl(function(){return t})}function w7(t){return function(e){return e.lift(new S7(t))}}var S7=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new b7(e),i=pt(this.notifier,new ft(r));return i&&!r.seenValue?(r.add(i),n.subscribe(r)):r},t}(),b7=function(t){V(e,t);function e(n){var r=t.call(this,n)||this;return r.seenValue=!1,r}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(dt);function _7(t,e){return e===void 0&&(e=!1),function(n){return n.lift(new E7(t,e))}}var E7=function(){function t(e,n){this.predicate=e,this.inclusive=n}return t.prototype.call=function(e,n){return n.subscribe(new T7(e,this.predicate,this.inclusive))},t}(),T7=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.predicate=r,o.inclusive=i,o.index=0,o}return e.prototype._next=function(n){var r=this.destination,i;try{i=this.predicate(n,this.index++)}catch(o){r.error(o);return}this.nextOrComplete(n,i)},e.prototype.nextOrComplete=function(n,r){var i=this.destination;r?i.next(n):(this.inclusive&&i.next(n),i.complete())},e}(ie);function I7(t,e,n){return function(i){return i.lift(new x7(t,e,n))}}var x7=function(){function t(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}return t.prototype.call=function(e,n){return n.subscribe(new C7(e,this.nextOrObserver,this.error,this.complete))},t}(),C7=function(t){V(e,t);function e(n,r,i,o){var s=t.call(this,n)||this;return s._tapNext=yr,s._tapError=yr,s._tapComplete=yr,s._tapError=i||yr,s._tapComplete=o||yr,ya(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||yr,s._tapError=r.error||yr,s._tapComplete=r.complete||yr),s}return e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},e}(ie),oN={leading:!0,trailing:!1};function R7(t,e){return e===void 0&&(e=oN),function(n){return n.lift(new k7(t,!!e.leading,!!e.trailing))}}var k7=function(){function t(e,n,r){this.durationSelector=e,this.leading=n,this.trailing=r}return t.prototype.call=function(e,n){return n.subscribe(new A7(e,this.durationSelector,this.leading,this.trailing))},t}(),A7=function(t){V(e,t);function e(n,r,i,o){var s=t.call(this,n)||this;return s.destination=n,s.durationSelector=r,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},e.prototype.send=function(){var n=this,r=n._hasValue,i=n._sendValue;r&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(n){var r=this.tryDurationSelector(n);r&&this.add(this._throttled=pt(r,new ft(this)))},e.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},e.prototype.throttlingDone=function(){var n=this,r=n._throttled,i=n._trailing;r&&r.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(dt);function N7(t,e,n){return e===void 0&&(e=fn),n===void 0&&(n=oN),function(r){return r.lift(new O7(t,e,n.leading,n.trailing))}}var O7=function(){function t(e,n,r,i){this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i}return t.prototype.call=function(e,n){return n.subscribe(new D7(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),D7=function(t){V(e,t);function e(n,r,i,o,s){var a=t.call(this,n)||this;return a.duration=r,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(P7,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},e}(ie);function P7(t){var e=t.subscriber;e.clearThrottle()}function L7(t){return t===void 0&&(t=fn),function(e){return v0(function(){return e.pipe(Cf(function(n,r){var i=n.current;return{value:r,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Yn(function(n){var r=n.current,i=n.last,o=n.value;return new M7(o,r-i)}))})}}var M7=function(){function t(e,n){this.value=e,this.interval=n}return t}();function sN(t,e,n){return n===void 0&&(n=fn),function(r){var i=tN(t),o=i?+t-n.now():Math.abs(t);return r.lift(new $7(o,i,e,n))}}var $7=function(){function t(e,n,r,i){this.waitFor=e,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new j7(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),j7=function(t){V(e,t);function e(n,r,i,o,s){var a=t.call(this,n)||this;return a.absoluteTimeout=r,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(n){var r=n.withObservable;n._unsubscribeAndRecycle(),n.add(pt(r,new ft(n)))},e.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,n)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(dt);function V7(t,e){return e===void 0&&(e=fn),sN(t,d0(new LA),e)}function F7(t){return t===void 0&&(t=fn),Yn(function(e){return new U7(e,t.now())})}var U7=function(){function t(e,n){this.value=e,this.timestamp=n}return t}();function B7(t,e,n){return n===0?[e]:(t.push(e),t)}function z7(){return sp(B7,[])}function W7(t){return function(n){return n.lift(new H7(t))}}var H7=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,n){var r=new q7(e),i=n.subscribe(r);return i.closed||r.add(pt(this.windowBoundaries,new ft(r))),i},t}(),q7=function(t){V(e,t);function e(n){var r=t.call(this,n)||this;return r.window=new $t,n.next(r.window),r}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var n=this.window;n&&n.complete();var r=this.destination,i=this.window=new $t;r.next(i)},e}(dt);function K7(t,e){return e===void 0&&(e=0),function(r){return r.lift(new G7(t,e))}}var G7=function(){function t(e,n){this.windowSize=e,this.startWindowEvery=n}return t.prototype.call=function(e,n){return n.subscribe(new Q7(e,this.windowSize,this.startWindowEvery))},t}(),Q7=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.destination=n,o.windowSize=r,o.startWindowEvery=i,o.windows=[new $t],o.count=0,n.next(o.windows[0]),o}return e.prototype._next=function(n){for(var r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,u=0;u<a&&!this.closed;u++)s[u].next(n);var l=this.count-o+1;if(l>=0&&l%r===0&&!this.closed&&s.shift().complete(),++this.count%r===0&&!this.closed){var c=new $t;s.push(c),i.next(c)}},e.prototype._error=function(n){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ie);function Y7(t){var e=fn,n=null,r=Number.POSITIVE_INFINITY;return On(arguments[3])&&(e=arguments[3]),On(arguments[2])?e=arguments[2]:ba(arguments[2])&&(r=Number(arguments[2])),On(arguments[1])?e=arguments[1]:ba(arguments[1])&&(n=Number(arguments[1])),function(o){return o.lift(new X7(t,n,r,e))}}var X7=function(){function t(e,n,r,i){this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new Z7(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),J7=function(t){V(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._numberOfNextedValues=0,n}return e.prototype.next=function(n){this._numberOfNextedValues++,t.prototype.next.call(this,n)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}($t),Z7=function(t){V(e,t);function e(n,r,i,o,s){var a=t.call(this,n)||this;a.destination=n,a.windowTimeSpan=r,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:u,context:null},c={windowTimeSpan:r,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(aN,r,l)),a.add(s.schedule(tQ,i,c))}else{var h={subscriber:a,window:u,windowTimeSpan:r};a.add(s.schedule(eQ,r,h))}return a}return e.prototype._next=function(n){for(var r=this.windows,i=r.length,o=0;o<i;o++){var s=r[o];s.closed||(s.next(n),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(n){for(var r=this.windows;r.length>0;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){for(var n=this.windows;n.length>0;){var r=n.shift();r.closed||r.complete()}this.destination.complete()},e.prototype.openWindow=function(){var n=new J7;this.windows.push(n);var r=this.destination;return r.next(n),n},e.prototype.closeWindow=function(n){n.complete();var r=this.windows;r.splice(r.indexOf(n),1)},e}(ie);function eQ(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function tQ(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},u={subscriber:n,window:o,context:a};a.subscription=r.schedule(aN,e,u),s.add(a.subscription),s.schedule(t,i)}function aN(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function nQ(t,e){return function(n){return n.lift(new rQ(t,e))}}var rQ=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new iQ(e,this.openings,this.closingSelector))},t}(),iQ=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.openings=r,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=oi(o,r,r)),o}return e.prototype._next=function(n){var r=this.contexts;if(r)for(var i=r.length,o=0;o<i;o++)r[o].window.next(n)},e.prototype._error=function(n){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,o=-1;++o<i;){var s=r[o];s.window.error(n),s.subscription.unsubscribe()}t.prototype._error.call(this,n)},e.prototype._complete=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(n,r,i,o,s){if(n===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(r)}catch(m){return this.error(m)}var l=new $t,c=new ut,h={window:l,subscription:c};this.contexts.push(h);var f=oi(this,a,h);f.closed?this.closeWindow(this.contexts.length-1):(f.context=h,c.add(f)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(n))},e.prototype.notifyError=function(n){this.error(n)},e.prototype.notifyComplete=function(n){n!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(n.context))},e.prototype.closeWindow=function(n){if(n!==-1){var r=this.contexts,i=r[n],o=i.window,s=i.subscription;r.splice(n,1),o.complete(),s.unsubscribe()}},e}(ts);function oQ(t){return function(n){return n.lift(new sQ(t))}}var sQ=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new aQ(e,this.closingSelector))},t}(),aQ=function(t){V(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.closingSelector=r,i.openWindow(),i}return e.prototype.notifyNext=function(n,r,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(n){this.openWindow(n)},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(n){n===void 0&&(n=null),n&&(this.remove(n),n.unsubscribe());var r=this.window;r&&r.complete();var i=this.window=new $t;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=oi(this,o))},e}(ts);function uQ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){var r;typeof t[t.length-1]=="function"&&(r=t.pop());var i=t;return n.lift(new lQ(i,r))}}var lQ=function(){function t(e,n){this.observables=e,this.project=n}return t.prototype.call=function(e,n){return n.subscribe(new cQ(e,this.observables,this.project))},t}(),cQ=function(t){V(e,t);function e(n,r,i){var o=t.call(this,n)||this;o.observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var u=r[a];o.add(oi(o,u,void 0,a))}return o}return e.prototype.notifyNext=function(n,r,i){this.values[i]=r;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(n){if(this.toRespond.length===0){var r=[n].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},e.prototype._tryProject=function(n){var r;try{r=this.project.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(ts);function hQ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(YA.apply(void 0,[r].concat(t)))}}function fQ(t){return function(e){return e.lift(new XA(t))}}const dQ=Object.freeze(Object.defineProperty({__proto__:null,audit:JA,auditTime:dq,buffer:pq,bufferCount:vq,bufferTime:bq,bufferToggle:xq,bufferWhen:kq,catchError:Oq,combineAll:Lq,combineLatest:Mq,concat:$q,concatAll:UA,concatMap:eN,concatMapTo:jq,count:Vq,debounce:Bq,debounceTime:Hq,defaultIfEmpty:uc,delay:Xq,delayWhen:tK,dematerialize:oK,distinct:uK,distinctUntilChanged:nN,distinctUntilKeyChanged:dK,elementAt:wK,endWith:SK,every:bK,exhaust:TK,exhaustMap:rN,expand:kK,filter:Ki,finalize:OK,find:LK,findIndex:$K,first:jK,flatMap:j8,groupBy:qH,ignoreElements:VK,isEmpty:BK,last:KK,map:Yn,mapTo:GK,materialize:XK,max:nG,merge:rG,mergeAll:g0,mergeMap:Vo,mergeMapTo:iG,mergeScan:oG,min:uG,multicast:Fo,observeOn:n8,onErrorResumeNext:cG,pairwise:dG,partition:gG,pluck:vG,publish:wG,publishBehavior:SG,publishLast:bG,publishReplay:_G,race:EG,reduce:sp,refCount:h0,repeat:TG,repeatWhen:xG,retry:kG,retryWhen:OG,sample:LG,sampleTime:jG,scan:Cf,sequenceEqual:BG,share:KG,shareReplay:GG,single:YG,skip:ZG,skipLast:n7,skipUntil:o7,skipWhile:u7,startWith:h7,subscribeOn:d7,switchAll:v7,switchMap:bl,switchMapTo:y7,take:w0,takeLast:xf,takeUntil:w7,takeWhile:_7,tap:I7,throttle:R7,throttleTime:N7,throwIfEmpty:op,timeInterval:L7,timeout:V7,timeoutWith:sN,timestamp:F7,toArray:z7,window:W7,windowCount:K7,windowTime:Y7,windowToggle:nQ,windowWhen:oQ,withLatestFrom:uQ,zip:hQ,zipAll:fQ},Symbol.toStringTag,{value:"Module"})),S0=TE(dQ);var lc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate"}(t.BarActionType||(t.BarActionType={}))})(lc);var ci={};Object.defineProperty(ci,"__esModule",{value:!0});function pQ(t){return typeof t=="number"&&t===t}ci.isValidNumber=pQ;function mQ(){}ci.noop=mQ;function gQ(t,e){var n=e.reduce(function(r,i){return r[i]=!0,r},{});return Object.keys(t).reduce(function(r,i){return n[i]||(r[i]=t[i]),r},{})}ci.omit=gQ;var ap={};(function(t){var e=ke&&ke.__assign||function(){return e=Object.assign||function(a){for(var u,l=1,c=arguments.length;l<c;l++){u=arguments[l];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])}return a},e.apply(this,arguments)},n;Object.defineProperty(t,"__esModule",{value:!0});var r=R,i=y0,o=ci;t.ResizerProvider=(n=r.createContext({createID:function(){return-1},populateInstance:o.noop,triggerBarAction:o.noop,vertical:!1,sizeRelatedInfo$:i.EMPTY}),n.Provider),t.ResizerConsumer=n.Consumer;function s(a){return function(u){return r.createElement(t.ResizerConsumer,null,function(l){var c=e(e({},u),{context:l});return r.createElement(a,e({},c))})}}t.withResizerContext=s})(ap);var b0={},up={};(function(t){var e=ke&&ke.__assign||function(){return e=Object.assign||function(h){for(var f,m=1,g=arguments.length;m<g;m++){f=arguments[m];for(var w in f)Object.prototype.hasOwnProperty.call(f,w)&&(h[w]=f[w])}return h},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=ci;t.DEFAULT_COORDINATE_OFFSET={x:0,y:0};function r(h,f){var m=f.maxSize,g=f.minSize,w=g===void 0?0:g;return h<w?{nextSize:w,remainingOffset:h-w}:n.isValidNumber(m)&&h>m?{nextSize:m,remainingOffset:h-m}:{nextSize:h,remainingOffset:0}}function i(h){var f=h.size;return n.isValidNumber(f)}t.isSolid=i;function o(h){var f=h.disableResponsive;return i(h)&&f===void 0?!0:!!f}t.isDisabledResponsive=o;function s(h,f){return f?{x:h.x-f.x,y:h.y-f.y}:t.DEFAULT_COORDINATE_OFFSET}t.calculateCoordinateOffset=s;function a(){var h=[],f=0,m=0;return{collect:function(g){h.push(g),g.disableResponsive||(f+=1,m+=g.currentSize)},getResult:function(){return{sizeInfoArray:h,flexGrowRatio:f/m}}}}t.collectSizeRelatedInfo=a;function u(h,f){if(f.isSolid)return{remainingOffset:h,sizeInfo:f};var m=r(f.currentSize+h,f),g=m.nextSize,w=m.remainingOffset;return{sizeInfo:e(e({},f),{currentSize:g}),remainingOffset:w}}function l(h,f,m,g){for(var w=[],T=f,d=h+m;N(d);d+=m)if(T){var p=u(T,g[d]),v=p.sizeInfo,E=p.remainingOffset;T=E,A(v)}else A(g[d]);function A(O){m===-1?w.unshift(O):w.push(O)}function N(O){return m===-1?O>=0:O<=g.length-1}return{sizeInfoArray:w,remainingOffset:T}}function c(h,f,m){var g=a(),w=g.collect,T=g.getResult,d=l(h,f,-1,m),p=l(h,-f,1,m),v=f-d.remainingOffset,E=-f-p.remainingOffset;function A(D,K){D.forEach(w),w(m[h]),K.forEach(w)}if(v===-E)A(d.sizeInfoArray,p.sizeInfoArray);else if(Math.abs(v)<Math.abs(E)){var N=l(h,-v,1,m);A(d.sizeInfoArray,N.sizeInfoArray)}else{var O=l(h,-E,-1,m);A(O.sizeInfoArray,p.sizeInfoArray)}return T()}t.getNextSizeRelatedInfo=c})(up);var Rf=ke&&ke.__assign||function(){return Rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rf.apply(this,arguments)};Object.defineProperty(b0,"__esModule",{value:!0});var vQ=up;function gE(t){return t*2+1}function Tm(t){return t*2}var yQ=function(){function t(e){this.resizeResult=e,this.isDiscarded=!1}return t.prototype.resizeSection=function(e,n){if(!this.isDiscarded){var r=Tm(e),i=this.getSize(r);if(i>=0&&n.toSize>=0){var o=n.toSize-i;r===this.resizeResult.sizeInfoArray.length-1||n.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-o}):this.moveBar(e,{withOffset:o})}}},t.prototype.moveBar=function(e,n){this.isDiscarded||(this.resizeResult=vQ.getNextSizeRelatedInfo(gE(e),n.withOffset,this.resizeResult.sizeInfoArray))},t.prototype.discard=function(){this.isDiscarded=!0},t.prototype.isSectionResized=function(e){var n=Tm(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(n)!==this.resizeResult.defaultSizeInfoArray[n].currentSize:!1},t.prototype.isBarActivated=function(e){return"barID"in this.resizeResult?this.resizeResult.barID===gE(e):!1},t.prototype.getSectionSize=function(e){return this.getSize(Tm(e))},t.prototype.getResult=function(){return Rf(Rf({},this.resizeResult),{discard:this.isDiscarded})},t.prototype.getTotalSize=function(){return this.resizeResult.sizeInfoArray.filter(function(e,n){return e&&n%2===0}).reduce(function(e,n){var r=n.currentSize;return e+r},0)},t.prototype.getSize=function(e){var n=this.resizeResult.sizeInfoArray[e];return n?n.currentSize:-1},t}();b0.Resizer=yQ;var _0={},yi=ke&&ke.__assign||function(){return yi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yi.apply(this,arguments)};Object.defineProperty(_0,"__esModule",{value:!0});var wQ=S0,vh=lc,uN=up,Im={barID:-1,offset:0,type:vh.BarActionType.DEACTIVATE,originalCoordinate:uN.DEFAULT_COORDINATE_OFFSET,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function SQ(t){return wQ.scan(function(e,n){var r={barID:n.barID,type:n.type};switch(n.type){case vh.BarActionType.ACTIVATE:var i=t.getSizeRelatedInfo(),o=i.sizeInfoArray,s=i.flexGrowRatio;return yi(yi(yi({},Im),r),{originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:s});case vh.BarActionType.MOVE:var a=t.calculateOffset(n.coordinate,e.originalCoordinate);return yi(yi(yi({},r),uN.getNextSizeRelatedInfo(n.barID,a,e.defaultSizeInfoArray)),{offset:a,originalCoordinate:e.originalCoordinate,defaultSizeInfoArray:e.defaultSizeInfoArray,discard:!1});case vh.BarActionType.DEACTIVATE:return Im}},Im)}_0.scanBarAction=SQ;var E0={},kf=ke&&ke.__assign||function(){return kf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kf.apply(this,arguments)},bQ=ke&&ke.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(E0,"__esModule",{value:!0});var vE=R;E0.StyledContainer=vE.forwardRef(function(t,e){var n=t.vertical,r=t.style,i=bQ(t,["vertical","style"]);return vE.createElement("div",kf({},i,{ref:e,style:kf({display:"flex",flexDirection:n?"column":"row"},r)}))});var _Q=ke&&ke.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xv=ke&&ke.__assign||function(){return xv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xv.apply(this,arguments)};Object.defineProperty(rp,"__esModule",{value:!0});var xm=R,zc=y0,fs=S0,yE=lc,EQ=ci,TQ=ap,Cv=b0;rp.Resizer=Cv.Resizer;var IQ=_0,Wc=up,xQ=E0,CQ=function(t){_Q(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.childrenProps=[],n.childrenInstance=[],n.barActions$=new zc.Subject,n.sizeRelatedInfoAction$=new zc.Subject,n.sizeRelatedInfo$=zc.merge(n.sizeRelatedInfoAction$,n.barActions$.pipe(IQ.scanBarAction({calculateOffset:function(r,i){return Wc.calculateCoordinateOffset(r,i)[n.axis]},getSizeRelatedInfo:function(){return n.makeSizeInfos()}}),fs.tap(function(r){return n.monitorBarStatusChanges(r)}))).pipe(fs.filter(function(r){var i=r.discard;return!i}),fs.map(function(r){if(typeof n.props.beforeApplyResizer=="function"){var i=new Cv.Resizer(r);return n.props.beforeApplyResizer(i),i.getResult()}else return r}),fs.filter(function(r){var i=r.discard;return!i}),fs.observeOn(zc.animationFrameScheduler),fs.share()),n.triggerBarAction=function(r){n.barActions$.next(r)},n.createID=function(r){return n.childrenProps.push(r),n.childrenProps.length-1},n.populateChildInstance=function(r,i){i.current&&(n.childrenInstance[r]=i.current)},n}return Object.defineProperty(e.prototype,"axis",{get:function(){return this.props.vertical?"y":"x"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dimension",{get:function(){return this.props.vertical?"height":"width"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contextValue",{get:function(){return{vertical:!!this.props.vertical,sizeRelatedInfo$:this.sizeRelatedInfo$,createID:this.createID,populateInstance:this.populateChildInstance,triggerBarAction:this.triggerBarAction}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerProps",{get:function(){return EQ.omit(this.props,["onActivate","beforeApplyResizer","afterResizing"])},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.refreshSizeInfos()},e.prototype.render=function(){return xm.createElement(TQ.ResizerProvider,{value:this.contextValue},xm.createElement(xQ.StyledContainer,xv({},this.containerProps),this.props.children))},e.prototype.getResizer=function(){return new Cv.Resizer(this.makeSizeInfos())},e.prototype.applyResizer=function(n){this.sizeRelatedInfoAction$.next(n.getResult())},e.prototype.monitorBarStatusChanges=function(n){var r=n.type;switch(r){case yE.BarActionType.ACTIVATE:typeof this.props.onActivate=="function"&&this.props.onActivate();return;case yE.BarActionType.DEACTIVATE:typeof this.props.afterResizing=="function"&&this.props.afterResizing();return;default:return}},e.prototype.refreshSizeInfos=function(){this.sizeRelatedInfoAction$.next(this.makeSizeInfos())},e.prototype.makeSizeInfos=function(){var n=this,r=Wc.collectSizeRelatedInfo(),i=r.collect,o=r.getResult;return this.childrenProps.forEach(function(s,a){var u=n.childrenInstance[a];i({maxSize:s.maxSize,minSize:s.minSize,disableResponsive:Wc.isDisabledResponsive(s),isSolid:Wc.isSolid(s),currentSize:u.getBoundingClientRect()[n.dimension]})}),o()},e}(xm.PureComponent);rp.Container=CQ;var T0={},I0={},Af=ke&&ke.__assign||function(){return Af=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Af.apply(this,arguments)},RQ=ke&&ke.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(I0,"__esModule",{value:!0});var wE=R;I0.StyledSection=wE.forwardRef(function(t,e){var n,r=t.context,i=t.maxSize,o=t.minSize,s=t.flexGrow,a=t.flexShrink,u=t.flexBasis,l=t.style,c=RQ(t,["context","maxSize","minSize","flexGrow","flexShrink","flexBasis","style"]);return wE.createElement("div",Af({},c,{ref:e,style:Af((n={overflow:"hidden"},n[r.vertical?"maxHeight":"maxWidth"]=i,n[r.vertical?"minHeight":"minWidth"]=o,n.flexGrow=s,n.flexShrink=a,n.flexBasis=u,n),l)}))});var kQ=ke&&ke.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vu=ke&&ke.__assign||function(){return Vu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vu.apply(this,arguments)};Object.defineProperty(T0,"__esModule",{value:!0});var Cm=R,AQ=y0,Rm=S0,NQ=ap,km=ci,OQ=I0,DQ=function(t){kQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.defaultInnerRef=Cm.createRef(),n.id=n.props.context.createID(n.props),n.subscription=new AQ.Subscription,n.flexGrowRatio=0,n.resize$=n.props.context.sizeRelatedInfo$.pipe(Rm.map(function(r){var i=r.sizeInfoArray,o=r.flexGrowRatio;return{sizeInfo:i[n.id],flexGrowRatio:o}}),Rm.filter(function(r){var i=r.sizeInfo;return!!i}),Rm.tap(function(r){var i=r.sizeInfo,o=r.flexGrowRatio;if(n.sizeInfo=i,n.flexGrowRatio=o,n.ref.current){var s=n.getStyle(i,o),a=s.flexGrow,u=s.flexShrink,l=s.flexBasis;n.ref.current.style.flexGrow=""+a,n.ref.current.style.flexShrink=""+u,n.ref.current.style.flexBasis=l+"px",n.onSizeChanged(i.currentSize)}})),n}return Object.defineProperty(e.prototype,"ref",{get:function(){return this.props.innerRef||this.defaultInnerRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childProps",{get:function(){return Vu(Vu({},km.omit(this.props,["defaultSize","size","disableResponsive","innerRef","onSizeChanged"])),this.getStyle())},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.subscription.add(this.resize$.subscribe()),this.props.context.populateInstance(this.id,this.ref)},e.prototype.componentWillUnmount=function(){this.subscription.unsubscribe()},e.prototype.render=function(){return Cm.createElement(OQ.StyledSection,Vu({},this.childProps,{ref:this.ref}))},e.prototype.onSizeChanged=function(n){typeof this.props.onSizeChanged=="function"&&this.props.onSizeChanged(n)},e.prototype.getFlexShrink=function(){return km.isValidNumber(this.props.size)?0:this.props.disableResponsive?1:0},e.prototype.getStyle=function(n,r){n===void 0&&(n=this.sizeInfo),r===void 0&&(r=this.flexGrowRatio);var i=this.getFlexShrink();if(n){var o=n.disableResponsive,s=n.currentSize;return{flexShrink:i,flexGrow:o?0:r*s,flexBasis:o?s:0}}else{var a=this.props.size||this.props.defaultSize;return km.isValidNumber(a)?{flexShrink:i,flexGrow:0,flexBasis:a}:{flexShrink:i,flexGrow:1,flexBasis:0}}},e}(Cm.PureComponent);T0.Section=NQ.withResizerContext(DQ);var x0={},lp={},_a=ke&&ke.__assign||function(){return _a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_a.apply(this,arguments)},lN=ke&&ke.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(lp,"__esModule",{value:!0});var Nf=R;lp.StyledBar=Nf.forwardRef(function(t,e){var n=t.size,r=t.style,i=lN(t,["size","style"]);return Nf.createElement("div",_a({},i,{ref:e,style:_a({position:"relative",flex:"0 0 "+n+"px"},r)}))});lp.StyledInteractiveArea=Nf.forwardRef(function(t,e){var n=t.top,r=n===void 0?0:n,i=t.right,o=i===void 0?0:i,s=t.bottom,a=s===void 0?0:s,u=t.left,l=u===void 0?0:u,c=t.vertical,h=t.style,f=lN(t,["top","right","bottom","left","vertical","style"]);return Nf.createElement("div",_a({},f,{style:_a({position:"absolute",top:-r,left:-l,right:-o,bottom:-a,cursor:c?"row-resize":"col-resize",WebkitTapHighlightColor:"transparent",userSelect:"none"},h),ref:e}))});var cp={};Object.defineProperty(cp,"__esModule",{value:!0});var PQ=cp.disablePassive=!0;try{window.addEventListener("test",null,{get passive(){return PQ=cp.disablePassive={passive:!1},!0}})}catch{}var LQ=ke&&ke.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Of=ke&&ke.__assign||function(){return Of=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Of.apply(this,arguments)};Object.defineProperty(x0,"__esModule",{value:!0});var ou=R,gn=lc,MQ=ci,$Q=ap,SE=lp,bE=cp,jQ=function(t){LQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.defaultInnerRef=ou.createRef(),n.interactiveAreaRef=ou.createRef(),n.id=n.props.context.createID(n.props),n.isValidClick=!0,n.isActivated=!1,n.onMouseDown=n.triggerMouseAction(gn.BarActionType.ACTIVATE),n.onMouseMove=n.triggerMouseAction(gn.BarActionType.MOVE),n.onMouseUp=n.triggerMouseAction(gn.BarActionType.DEACTIVATE),n.onTouchStart=n.triggerTouchAction(gn.BarActionType.ACTIVATE),n.onTouchMove=n.triggerTouchAction(gn.BarActionType.MOVE),n.onTouchEnd=n.triggerTouchAction(gn.BarActionType.DEACTIVATE),n.onTouchCancel=n.triggerTouchAction(gn.BarActionType.DEACTIVATE),n}return Object.defineProperty(e.prototype,"ref",{get:function(){return this.props.innerRef||this.defaultInnerRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childProps",{get:function(){return MQ.omit(this.props,["context","innerRef","onClick","expandInteractiveArea","onStatusChanged"])},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.props.context.populateInstance(this.id,this.ref),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("touchmove",this.onTouchMove,bE.disablePassive),document.addEventListener("touchend",this.onTouchEnd),document.addEventListener("touchcancel",this.onTouchCancel),this.interactiveAreaRef.current&&(this.interactiveAreaRef.current.addEventListener("mousedown",this.onMouseDown),this.interactiveAreaRef.current.addEventListener("touchstart",this.onTouchStart,bE.disablePassive))},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd),document.removeEventListener("touchcancel",this.onTouchCancel),this.interactiveAreaRef.current&&(this.interactiveAreaRef.current.removeEventListener("mousedown",this.onMouseDown),this.interactiveAreaRef.current.removeEventListener("touchstart",this.onTouchStart))},e.prototype.render=function(){return ou.createElement(SE.StyledBar,Of({},this.childProps,{ref:this.ref}),this.props.children,ou.createElement(SE.StyledInteractiveArea,Of({},this.props.expandInteractiveArea,{ref:this.interactiveAreaRef,vertical:this.props.context.vertical})))},e.prototype.onStatusChanged=function(n){this.isActivated!==n&&(this.isActivated=n,typeof this.props.onStatusChanged=="function"&&this.props.onStatusChanged(n))},e.prototype.updateStatusIfNeed=function(n){n===gn.BarActionType.ACTIVATE?this.onStatusChanged(!0):n===gn.BarActionType.DEACTIVATE&&this.onStatusChanged(!1)},e.prototype.triggerAction=function(n,r){(this.isActivated||n===gn.BarActionType.ACTIVATE)&&this.props.context.triggerBarAction({type:n,coordinate:r,barID:this.id}),this.isActivated&&n===gn.BarActionType.DEACTIVATE&&this.onClick(),this.updateStatusIfNeed(n),this.updateClickStatus(n)},e.prototype.triggerMouseAction=function(n){var r=this;return function(i){r.disableUserSelectIfResizing(i,n);var o=i.clientX,s=i.clientY;r.triggerAction(n,{x:o,y:s})}},e.prototype.triggerTouchAction=function(n){var r=this;return function(i){r.disableUserSelectIfResizing(i,n);var o=i.touches[0]||{clientX:0,clientY:0},s=o.clientX,a=o.clientY;r.triggerAction(n,{x:s,y:a})}},e.prototype.disableUserSelectIfResizing=function(n,r){(this.isActivated||r===gn.BarActionType.ACTIVATE)&&n.preventDefault()},e.prototype.updateClickStatus=function(n){this.isActivated&&(n===gn.BarActionType.ACTIVATE?this.isValidClick=!0:n===gn.BarActionType.MOVE&&(this.isValidClick=!1))},e.prototype.onClick=function(){this.isValidClick&&typeof this.props.onClick=="function"&&(this.isValidClick=!1,this.props.onClick())},e}(ou.PureComponent);x0.Bar=$Q.withResizerContext(jQ);(function(t){function e(n){for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r])}Object.defineProperty(t,"__esModule",{value:!0}),e(rp),e(T0),e(x0),e(lc)})(ao);const Hc=({name:t,isSelected:e,onClick:n})=>y.jsx("div",{onClick:n,className:`
            cursor-pointer
                w-full 
                pl-6 pr-2 py-2
                ${e?"bg-ink-tables-light-grey text-ink-tables-dark-grey":"bg-ink-tables-mid-grey text-ink-tables-light-grey"}
            `,children:t}),_E=({title:t,filter:e,setFilter:n,onClickAdd:r,onClickRemove:i})=>y.jsxs("div",{className:"bg-ink-tables-dark-grey w-full h-16 flex justify-center items-center p-4",children:[y.jsx("p",{className:"text-ink-tables-light-grey font-ink-catamaran text-lg flex-[1]",children:t}),y.jsx(ze,{className:"flex-[5] mx-6",value:e,onChange:o=>n(o.target.value),type:"text",label:"Filter"}),y.jsxs("div",{className:"flex-[1] flex justify-between",children:[y.jsx("span",{className:"text-ink-tables-light-grey font-ink-catamaran text-3xl cursor-pointer px-2",onClick:r,children:"+"}),y.jsx("span",{className:"text-ink-tables-light-grey font-ink-catamaran text-3xl cursor-pointer px-2",onClick:i,children:"-"})]})]}),VQ=()=>{var Dr,Pr,dr,is,os,ro,ss;const{projectId:t}=JT(),[e,n]=Nn(es),[r,i]=R.useState(""),[o,s]=R.useState(""),[a,u]=R.useState([]),[l,c]=R.useState([]),[h,f]=R.useState([]),[m,g]=R.useState([]),[w,T]=R.useState(-1),[d,p]=R.useState(-1),[v,E]=R.useState(!0),[A,N]=R.useState(""),[O,D]=R.useState(""),[K,ne]=R.useState(0),[Ae,Ge]=R.useState("fact"),[ge,Ce]=R.useState(""),[mt,je]=R.useState(""),[et,W]=R.useState(""),[oe,ae]=R.useState(""),[le,I]=R.useState("fact"),[L,j]=R.useState(""),[Q,H]=R.useState(0),[ce,pe]=R.useState(""),[re,Le]=R.useState(""),[tt,be]=R.useState(""),[De,Tt]=R.useState(""),lt=b=>b.split(",").map(C=>C.trim()),Qe=b=>b.join(", "),Ue=async()=>{var _,S,x;console.log("SAVING CHANGES: ",L,Q);const b=(x=(S=(_=e==null?void 0:e.tables)==null?void 0:_[w])==null?void 0:S[`${Ae}s`])==null?void 0:x.filter(k=>k.id===d)[0],C=Ae,M=b.uid;let q={key:L,value:Q};C==="rule"&&(q={...q,triggeredBy:lt(ce),triggers:lt(re),criteria:lt(tt),modifications:lt(De)}),console.log("ENTRY TYPE: ",C),console.log("ENTRY UID: ",M),console.log("ENTRY DATA: ",q);const X=await vH(t,e.tables[w].uid,C,M,q);console.log(X),await mn()};R.useEffect(()=>{e.local||mn()},[]),R.useEffect(()=>{u(e.tables.map((b,C)=>({...b,index:C})).filter(b=>b.name.toLowerCase().includes(r.toLowerCase())))},[e,r]),R.useEffect(()=>{p(-1),Ge(""),j(""),H("")},[w]),R.useEffect(()=>{var q,X,_;if(console.log("SELECTED ENTRY: ",d),d===-1)return;const b=(_=(X=(q=e==null?void 0:e.tables)==null?void 0:q[w])==null?void 0:X[`${Ae}s`])==null?void 0:_.filter(S=>S.id===d)[0],C=b==null?void 0:b.key,M=b==null?void 0:b.value;if(!(C===void 0||M===void 0)&&(j(C),H(M),Ae==="rule")){const S=b==null?void 0:b.triggeredBy,x=b==null?void 0:b.triggers,k=b==null?void 0:b.criteria,P=b==null?void 0:b.modifications;if(S===void 0||x===void 0||k===void 0||P===void 0)return;pe(Qe(S)),Le(Qe(x)),be(Qe(k)),Tt(Qe(P))}},[d]),R.useEffect(()=>{var S,x,k,P,F,J;if(e.tables.length===0)return;const b=(x=(S=e==null?void 0:e.tables)==null?void 0:S[w])==null?void 0:x.facts,C=(P=(k=e==null?void 0:e.tables)==null?void 0:k[w])==null?void 0:P.events,M=(J=(F=e==null?void 0:e.tables)==null?void 0:F[w])==null?void 0:J.rules;if(b===void 0||C===void 0||M===void 0)return;const q=b.map((z,Y)=>({...z,index:z.id})).filter(z=>z.key.toLowerCase().includes(o.toLowerCase())),X=C.map((z,Y)=>({...z,index:z.id})).filter(z=>z.key.toLowerCase().includes(o.toLowerCase())),_=M.map((z,Y)=>({...z,index:z.id})).filter(z=>z.key.toLowerCase().includes(o.toLowerCase()));c(q),f(X),g(_)},[e,w,o]);const mn=async()=>{console.log("Trying to reload project: ",t);const b=await wA(t);if(!b.succeded){console.error("Failed to get project data from firebase!");return}const C=await yA(t);if(!C.succeded){console.error("Failed to load project from firebase to project state!");return}const M={local:!1,uid:t,name:b.project.name,createdAt:b.project.createdAt,description:b.project.description,tables:C.project.tables};n(M)},ns=async()=>{console.log("CREATING TABLE: ",O);const b=await yH(e.uid,O);if(b.errorCode){console.error(b.errorCode);return}E(!0),D(""),console.log("CREATED TABLE: "),console.log(b.table),await mn()},hi=async()=>{w!==-1&&(console.log(e.tables[w].uid),await wH(e.uid,e.tables[w].uid),await mn(),T(-1))},rs=async()=>{if(d===-1)return;console.log("ADDING ENTRY: ",O);let b={key:O,value:K};le==="rule"&&(b={...b,triggeredBy:lt(ge),triggers:lt(mt),criteria:lt(et),modifications:lt(oe)});const C=await gH(t,e.tables[w].uid,le,b);console.log(C),await mn(),s(""),E(!0),D(""),ne(0),Ce(""),je(""),W(""),ae("")},fr=async()=>{console.log("REMOVING ENTRY: ",d),await _H(t,e.tables[w].uid,d),await mn(),p(0)};return y.jsxs(y.Fragment,{children:[y.jsx(Ef,{title:`Create ${A}`,setHidden:E,hidden:v,children:A==="table"?y.jsxs("div",{children:[y.jsx(ze,{className:"mb-8",label:"Table Name",type:"text",value:O,onChange:b=>D(b.target.value),lightTheme:!1}),y.jsx(Rt,{lightTheme:!1,onClick:ns,children:"CREATE TABLE"})]}):A==="entry"?y.jsxs("div",{className:"w-1/2 mx-auto",children:[y.jsxs("div",{className:"border-b p-2 border-ink-dark-grey max-w-[fit_content]",children:[y.jsx("label",{htmlFor:"entry-type",children:"Entry Type: "}),y.jsxs("select",{className:"p-2 outline-none",value:le,onChange:b=>I(b.target.value),children:[y.jsx("option",{value:"fact",children:"Fact"}),y.jsx("option",{value:"event",children:"Event"}),y.jsx("option",{value:"rule",children:"Rule"})]})]}),y.jsxs("div",{className:"mt-12",children:[y.jsx(ze,{className:"mb-8",label:"Entry Name",type:"text",value:O,onChange:b=>D(b.target.value),lightTheme:!1}),y.jsx(ze,{className:"mb-8",label:"Entry Value",type:"number",value:K,onChange:b=>ne(b.target.value),lightTheme:!1}),le==="rule"&&y.jsxs("div",{children:[y.jsxs("p",{children:["Following values are all arrays, comma separated, specifying the name of the entries triggering.",y.jsx("br",{})," ",y.jsx("br",{}),y.jsx("span",{className:"font-semibold",children:'Example: "event_1, fact_2, event_3"'})]}),y.jsx(ze,{className:"mb-8 mt-2",label:"Rule Triggered By",type:"text",value:ge,onChange:b=>Ce(b.target.value),lightTheme:!1}),y.jsx(ze,{className:"mb-8",label:"Rule Triggers",type:"text",value:mt,onChange:b=>je(b.target.value),lightTheme:!1}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:"Rule Criteria"}),y.jsx("p",{className:"font-semibold",children:'Example: "fact_1 > 20, fact_2 < 10"'}),y.jsx(ze,{className:"mb-8 mt-2",label:"Rule Criteria",type:"text",value:et,onChange:b=>W(b.target.value),lightTheme:!1})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:"Rule Modifications"}),y.jsx("p",{className:"font-semibold",children:'Example: "fact_1 = 20, fact_2 += 1"'}),y.jsx(ze,{className:"mb-8 mt-2",label:"Rule Modifications",type:"text",value:oe,onChange:b=>ae(b.target.value),lightTheme:!1})]})]}),y.jsx("div",{className:"w-ful flex justify-center",children:y.jsx(Rt,{lightTheme:!1,onClick:rs,children:"ADD ENTRY"})})]})]}):y.jsx("div",{children:"ERROR"})}),y.jsxs("div",{className:"h-screen flex",children:[y.jsx(bA,{}),y.jsx("div",{className:"w-full h-full bg-ink-red",children:y.jsxs(ao.Container,{className:"h-full bg-ink-tables-mid-grey w-full",children:[y.jsxs(ao.Section,{className:"flex flex-col",minSize:100,children:[y.jsx(_E,{title:"Tables",filter:r,setFilter:i,onClickAdd:()=>{N("table"),E(!1)},onClickRemove:hi}),y.jsx("div",{className:"aaaaaaaa overflow-y-scroll",children:a.map((b,C)=>y.jsx(Hc,{name:b.name,isSelected:b.index===w,onClick:()=>{T(b.index),Ge("fact")}},C))})]}),y.jsx(ao.Bar,{size:2,className:"cursor-col-resize bg-ink-tables-dark-grey"}),y.jsxs(ao.Section,{className:"",minSize:100,children:[y.jsx(_E,{title:"Entries",filter:o,setFilter:s,onClickAdd:()=>{w!==-1&&(N("entry"),E(!1))},onClickRemove:fr}),y.jsxs("div",{className:"bbbbbbb flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1 overflow-y-scroll border-t border-b border-ink-tables-dark-grey",children:[y.jsx("span",{className:"px-2 text-ink-tables-lightest-grey",children:"Facts"}),l.map((b,C)=>y.jsx(Hc,{name:b.key,isSelected:b.index===d,onClick:()=>{p(b.index),Ge("fact")}},C))]}),y.jsxs("div",{className:"flex-1 overflow-y-scroll border-t border-b border-ink-tables-dark-grey",children:[y.jsx("span",{className:"px-2 text-ink-tables-lightest-grey",children:"Events"}),h.map((b,C)=>y.jsx(Hc,{name:b.key,isSelected:b.index===d,onClick:()=>{p(b.index),Ge("event")}},C))]}),y.jsxs("div",{className:"flex-1 overflow-y-scroll border-t border-b border-ink-tables-dark-grey",children:[y.jsx("span",{className:"px-2 text-ink-tables-lightest-grey",children:"Rules"}),m.map((b,C)=>y.jsx(Hc,{name:b.key,isSelected:b.index===d,onClick:()=>{p(b.index),Ge("rule")}},C))]})]})]}),y.jsx(ao.Bar,{size:2,className:"cursor-col-resize bg-ink-tables-dark-grey"}),y.jsxs(ao.Section,{className:"",minSize:100,children:[y.jsx("div",{className:"bg-ink-tables-dark-grey w-full h-16 flex justify-center items-center p-4",children:y.jsxs("p",{className:"text-ink-tables-light-grey font-ink-catamaran text-lg flex-[1]",children:[(Pr=(Dr=e==null?void 0:e.tables)==null?void 0:Dr[w])==null?void 0:Pr.name,"/",Ae&&`${Ae}s/`,(ss=(ro=(os=(is=(dr=e==null?void 0:e.tables)==null?void 0:dr[w])==null?void 0:is[`${Ae}s`])==null?void 0:os.filter(b=>b.id===d))==null?void 0:ro[0])==null?void 0:ss.key]})}),y.jsxs("div",{className:"bbbbbbb overflow-y-scroll h-full flex flex-col py-4",children:[y.jsx(ze,{className:"mb-8",label:"New Name",type:"text",value:L,onChange:b=>j(b.target.value)}),y.jsx(ze,{className:"mb-8",label:"New Value",type:"number",value:Q,onChange:b=>H(b.target.value)}),Ae==="rule"&&y.jsxs("div",{className:"text-ink-light-grey",children:[y.jsxs("p",{children:["Following values are all arrays, comma separated, specifying the name of the entries triggering.",y.jsx("br",{})," ",y.jsx("br",{}),y.jsx("span",{className:"text-ink-tables-lightest-grey font-semibold",children:'Example: "event_1, fact_2, event_3"'})]}),y.jsx(ze,{className:"mb-8 mt-2",label:"Rule Triggered By",type:"text",value:ce,onChange:b=>pe(b.target.value)}),y.jsx(ze,{className:"mb-8",label:"Rule Triggers",type:"text",value:re,onChange:b=>Le(b.target.value)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:"Rule Criteria"}),y.jsx("p",{className:"text-ink-tables-lightest-grey font-semibold",children:'Example: "fact_1 > 20, fact_2 < 10"'}),y.jsx(ze,{className:"mb-8 mt-2",label:"Rule Criteria",type:"text",value:tt,onChange:b=>be(b.target.value)})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:"Rule Modifications"}),y.jsx("p",{className:"text-ink-tables-lightest-grey font-semibold",children:'Example: "fact_1 = 20, fact_2 += 1"'}),y.jsx(ze,{className:"mb-8 mt-2",label:"Rule Modifications",type:"text",value:De,onChange:b=>Tt(b.target.value)})]})]}),y.jsx("div",{className:"w-full flex justify-center",children:y.jsx(Rt,{onClick:Ue,children:"SAVE CHANGES"})})]})]})]})})]})]})},FQ=()=>{const t=Ar();return y.jsxs("div",{className:"w-screen h-screen bg-ink-medium-grey flex flex-col justify-center items-center",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-ink-white text-4xl font-ink-libre text-center mb-4",children:"Oops!"}),y.jsx("h2",{className:"text-ink-white text-4xl font-ink-libre text-center mb-10",children:"It appears you wandered off course and got lost."})]}),y.jsxs("div",{className:"flex scale-150",children:[y.jsx(Rt,{className:"mr-4",onClick:()=>t("/"),children:"HOME"}),y.jsx(Rt,{className:"ml-4",onClick:()=>t(-1),children:"BACK"})]})]})},UQ=()=>{const[t,e]=Nn(es),[n,r]=R.useState(""),[i,o]=R.useState(""),[s,a]=R.useState(null),u=async()=>{if(n===""||i===""){a("Please fill in all fields.");return}e({...t,name:n,description:i});const h=await IH(t.uid,{name:n,description:i});if(h.errorCode){a(h.errorMessage);return}a(null),r(""),o("")},l=Ar(),c=()=>{l("/project/"+t.uid)};return y.jsxs(u0,{project:t,children:[y.jsx("h1",{className:"text-ink-dark-light-blue font-ink-fira font-normal mb-2 text-xl",children:"Project Settings"}),y.jsx(ze,{className:"mb-8",label:"Project Name",type:"text",value:n,onChange:h=>r(h.target.value),lightTheme:!1}),y.jsx(ze,{className:"mb-8 h-1/2",label:"Description",type:"textarea",value:i,onChange:h=>o(h.target.value),lightTheme:!1}),s&&y.jsx("p",{className:"text-ink-red text-xs text-center mb-4",children:s}),y.jsxs("div",{className:"flex justify-center",children:[y.jsx(Rt,{className:"mr-8",lightTheme:!1,onClick:u,children:"SAVE"}),y.jsx(Rt,{lightTheme:!1,onClick:c,children:"GO BACK"})]})]})},BQ=({imgSrc:t,email:e,username:n,onRemove:r,isOwner:i})=>y.jsxs("div",{className:"flex items-center mb-2 h-8 ml-4",children:[y.jsx("img",{className:"aspect-square h-full rounded-full mr-4",src:`/InkwellWeb/${t}`,alt:n}),y.jsx("div",{className:"text-ink-dark-light-blue font-ink-fira font-normal text-lg",children:e}),!i&&y.jsx(Rt,{className:"ml-auto",lightTheme:!1,onClick:r,children:"REMOVE"})]}),zQ=()=>{const[t,e]=Nn(es),[n,r]=R.useState([]),[i,o]=R.useState(""),[s,a]=R.useState(null),[u,l]=R.useState(null),c=async()=>{const T=await xH(t.uid);if(T.errorCode){a(T.errorMessage);return}r(T.members)};R.useEffect(()=>{setTimeout(()=>{c()},1e3)},[]);const h=async()=>{const T=await CH(t.uid,i);if(T.errorCode){a(T.errorCode);return}a(null),o(""),r([...n,T.user]),e({...t,members:[...t.members,T.user]})},f=Ar(),m=()=>{f(0)},g=()=>{f("/project/"+t.uid)},w=async T=>{console.log("Removing user at index: ",T);const d=await RH(t.uid,n[T].uid);if(d.errorCode){l(d.errorCode);return}l(null),r(n.filter((p,v)=>v!==T)),e({...t,members:t.members.filter((p,v)=>v!==T)})};return y.jsxs(u0,{project:t,children:[y.jsx("h1",{className:"text-ink-dark-light-blue font-ink-fira font-normal mb-2 text-xl",children:"Users & Members"}),y.jsx("div",{className:"mb-8",children:n.map(({email:T,displayName:d,photoURL:p},v)=>y.jsx(BQ,{email:T,username:d,imgSrc:`/InkwellWeb/${p}`,onRemove:()=>w(v),isOwner:v===0},v))}),u&&y.jsx("p",{className:"text-ink-red text-xs text-center mb-4",children:u}),y.jsx("div",{className:"flex justify-center",children:y.jsx(Rt,{className:"mr-8",lightTheme:!1,onClick:m,children:"REFRESH USERS"})}),y.jsx("h1",{className:"text-ink-dark-light-blue font-ink-fira font-normal mb-2 text-xl",children:"Invite new user"}),y.jsx(ze,{className:"mb-8",label:"Invitee Email",type:"text",value:i,onChange:T=>o(T.target.value),lightTheme:!1}),s&&y.jsx("p",{className:"text-ink-red text-xs text-center mb-4",children:s}),y.jsxs("div",{className:"flex justify-center",children:[y.jsx(Rt,{className:"mr-8",lightTheme:!1,onClick:h,children:"INVITE"}),y.jsx(Rt,{lightTheme:!1,onClick:g,children:"GO BACK"})]})]})},WQ=[{path:"/",element:y.jsx(zF,{})},{path:"/sign-in",element:y.jsx(kH,{})},{path:"/sign-up",element:y.jsx(AH,{})},{path:"/projects",element:y.jsx(jH,{})},{path:"/project/:projectId",element:y.jsx(DH,{})},{path:"/project/:projectId/settings",element:y.jsx(UQ,{})},{path:"/project/:projectId/users",element:y.jsx(zQ,{})},{path:"/project/:projectId/views/tables",element:y.jsx(VQ,{})},{path:"*",element:y.jsx(FQ,{})}],HQ=WP(WQ,{basename:"/InkwellWeb"});Am.createRoot(document.getElementById("root")).render(y.jsx(y.Fragment,{children:y.jsx(FF,{children:y.jsx(MP,{router:HQ})})}));
